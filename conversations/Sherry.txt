source('CONVERSE.A')
index(9)

id(9)
name({
    'english': 'Sherry',
    'russian': 'FIXME Sherry'
})

description:
    print({
        'english': 'a cute little mouse.',
        'russian': 'FIXME a cute little mouse.'
    })
    wait()

    print({
        'english': '\n',
        'russian': 'FIXME \n'
    })

interaction:
    if partyHas(byte 235):
        jump label_1356
    fi

    print({
        'english': '"Squeak, squeak, @squeak!"',
        'russian': 'FIXME "Squeak, squeak, @squeak!"'
    })

    if and(equals(hasBit(byte 235, byte 7), byte 0), partyHas(byte 2)):
        wait()

        portrait(byte 2)
        print({
            'english': '\n\n"Talking to a mouse?" says Dupre.',
            'russian': 'FIXME \n\n"Talking to a mouse?" says Dupre.'
        })
        wait()

        print({
            'english': '\n\n"Methinks you\'re starting to imagine things..."',
            'russian': 'FIXME \n\n"Methinks you\'re starting to imagine things..."'
        })
        wait()

        portrait(byte 235)
        setBit(byte 235, byte 7)
    fi

label_186:
    print({
        'english': '\n',
        'russian': 'FIXME \n'
    })

    ask()

    case {'english': 'sque'}:
    case {'russian': 'FIXME sque'}:
        print({
            'english': '"Squeak @squirk?"',
            'russian': 'FIXME "Squeak @squirk?"'
        })
        jump label_186

    case {'english': 'squi'}:
    case {'russian': 'FIXME squi'}:
    case {'english': 'nitt'}:
    case {'russian': 'FIXME nitt'}:
    case {'english': 'fibl'}:
    case {'russian': 'FIXME fibl'}:
        print({
            'english': '"Squeeeeek!"',
            'russian': 'FIXME "Squeeeeek!"'
        })
        jump label_186

    case {'english': 'cat'}:
    case {'russian': 'FIXME cat'}:
    case {'english': 'meow'}:
    case {'russian': 'FIXME meow'}:
    case {'english': 'boo'}:
    case {'russian': 'FIXME boo'}:
        print({
            'english': '"Eeeek!"',
            'russian': 'FIXME "Eeeek!"'
        })
        jump label_1347

    case {'english': 'name'}:
    case {'russian': 'FIXME name'}:
        print({
            'english': '"I am Lord @British\'s friend, @Sherry."',
            'russian': 'FIXME "I am Lord @British\'s friend, @Sherry."'
        })
        setBit(byte 235, value 0)
        jump label_906

    case {'english': 'lord'}:
    case {'russian': 'FIXME lord'}:
    case {'english': 'brit'}:
    case {'russian': 'FIXME brit'}:
        print({
            'english': '"He reads me bedtime @stories every night."',
            'russian': 'FIXME "He reads me bedtime @stories every night."'
        })
        jump label_906

    case {'english': 'bed'}:
    case {'russian': 'FIXME bed'}:
    case {'english': 'stor'}:
    case {'russian': 'FIXME stor'}:
    case {'english': 'nigh'}:
    case {'russian': 'FIXME nigh'}:
        print({
            'english': '"He knows the one about @Hubert the Lion by Heart!"',
            'russian': 'FIXME "He knows the one about @Hubert the Lion by Heart!"'
        })
        jump label_906

    case {'english': 'hube'}:
    case {'russian': 'FIXME hube'}:
    case {'english': 'lion'}:
    case {'russian': 'FIXME lion'}:
        print({
            'english': '"That\'s my favorite story."',
            'russian': 'FIXME "That\'s my favorite story."'
        })
        jump label_906

    case {'english': 'sher'}:
    case {'russian': 'FIXME sher'}:
        print({
            'english': '"Pleased to meet you!"',
            'russian': 'FIXME "Pleased to meet you!"'
        })
        jump label_906

    case {'english': 'help'}:
    case {'russian': 'FIXME help'}:
    case {'english': 'rune'}:
    case {'russian': 'FIXME rune'}:
    case {'english': 'mous'}:
    case {'russian': 'FIXME mous'}:
    case {'english': 'hole'}:
    case {'russian': 'FIXME hole'}:
    case {'english': 'join'}:
    case {'russian': 'FIXME join'}:
        if hasBit(byte 235, byte 5):
            jump label_1159

        else:
            print({
                'english': '"Give me some @cheese and ask me again."',
                'russian': 'FIXME "Give me some @cheese and ask me again."'
            })
            setBit(byte 235, byte 6)
            jump label_186
        fi

    case {'english': 'kerc'}:
    case {'russian': 'FIXME kerc'}:
    case {'english': 'bles'}:
    case {'russian': 'FIXME bles'}:
    case {'english': 'gesh'}:
    case {'russian': 'FIXME gesh'}:
    case {'english': 'snee'}:
    case {'russian': 'FIXME snee'}:
    case {'english': 'dust'}:
    case {'russian': 'FIXME dust'}:
        print({
            'english': '"I wish people would clean up under their beds and cabinets..."',
            'russian': 'FIXME "I wish people would clean up under their beds and cabinets..."'
        })
        wait()

        print({
            'english': '\n\n"Dust mice are no friends of mine!"',
            'russian': 'FIXME \n\n"Dust mice are no friends of mine!"'
        })
        jump label_906

    case {'english': 'chee'}:
    case {'russian': 'FIXME chee'}:
        jump label_922

    case {'english': 'bye'}:
    case {'russian': 'FIXME bye'}:
        if equals(hasBit(byte 235, byte 6), byte 0):
            print({
                'english': '"Nitters @fiblik."',
                'russian': 'FIXME "Nitters @fiblik."'
            })

        else:
            print({
                'english': '"Come visit me again soon!"',
                'russian': 'FIXME "Come visit me again soon!"'
            })
        fi

        print({
            'english': '\n',
            'russian': 'FIXME \n'
        })
        bye()

    case '*':
        if greater(random(byte 1, byte 7), byte 5):
            print({
                'english': '"Kerchew!"',
                'russian': 'FIXME "Kerchew!"'
            })

        else:
            print({
                'english': 'The mouse wiggles its whiskers at you.',
                'russian': 'FIXME The mouse wiggles its whiskers at you.'
            })
        fi
    esac

    jump label_186

label_906:
    if hasBit(byte 235, byte 5):
        jump label_186
    fi

    wait()

    print({
        'english': '\n\n',
        'russian': 'FIXME \n\n'
    })

label_922:
    print({
        'english': '"Do you have any cheese?" ',
        'russian': 'FIXME "Do you have any cheese?" '
    })
    setBit(byte 235, byte 6)

    choice({
        'english': 'yn',
        'russian': 'FIXME yn'
    })

    case {'english': 'n'}:
    case {'russian': 'FIXME n'}:
        print({
            'english': '"Oh, that\'s too bad."',
            'russian': 'FIXME "Oh, that\'s too bad."'
        })
        jump label_1347
    esac

    if notEquals(partyHasObject(byte 132, byte 0), word 32769):
        jump label_1039

    else:
        print({
            'english': '\n"I don\'t smell any cheese!"',
            'russian': 'FIXME \n"I don\'t smell any cheese!"'
        })
        jump label_1347
    fi

label_1039:
    print({
        'english': '\n"Can I have some?" ',
        'russian': 'FIXME \n"Can I have some?" '
    })

    choice({
        'english': 'yn',
        'russian': 'FIXME yn'
    })

    case {'english': 'n'}:
    case {'russian': 'FIXME n'}:
        print({
            'english': '"Well, you\'re no fun."',
            'russian': 'FIXME "Well, you\'re no fun."'
        })
        jump label_1347

    case {'english': 'y'}:
    case {'russian': 'FIXME y'}:
        destroyItem(partyHasObject(byte 132, byte 0), byte 132, byte 0, byte 1)
        createItem(byte 235, byte 132, byte 0, byte 1)
        print({
            'english': '"Thank you very much!"',
            'russian': 'FIXME "Thank you very much!"'
        })
        setBit(byte 235, byte 5)
        jump label_186
    esac

label_1159:
    print({
        'english': '"I can help you! Do you want me to come with you?" ',
        'russian': 'FIXME "I can help you! Do you want me to come with you?" '
    })

    choice({
        'english': 'yn',
        'russian': 'FIXME yn'
    })

    case {'english': 'n'}:
    case {'russian': 'FIXME n'}:
        print({
            'english': '"Ok."',
            'russian': 'FIXME "Ok."'
        })
        jump label_906

    case {'english': 'y'}:
    case {'russian': 'FIXME y'}:
        integer(value 0) = partyJoin(byte 235)

        if equals(integer(value 0), byte 0):
            print({
                'english': '"Great!"\n',
                'russian': 'FIXME "Great!"\n'
            })
            bye()
        fi

        if equals(integer(value 0), byte 1):
            print({
                'english': '"Boats make me seasick."',
                'russian': 'FIXME "Boats make me seasick."'
            })
            jump label_186
        fi

        if equals(integer(value 0), byte 2):
            print({
                'english': '"With that many people I\'d get trampled!"',
                'russian': 'FIXME "With that many people I\'d get trampled!"'
            })
            jump label_186
        fi
    esac

label_1347:
    do(byte 235, byte 154)
    print({
        'english': '\n',
        'russian': 'FIXME \n'
    })
    bye()

label_1356:
    print({
        'english': '"Travelling with you is fun! I hope we find some more cheese soon."',
        'russian': 'FIXME "Travelling with you is fun! I hope we find some more cheese soon."'
    })

label_1423:
    print({
        'english': '\n',
        'russian': 'FIXME \n'
    })

    ask()

    case {'english': 'name'}:
    case {'russian': 'FIXME name'}:
        print({
            'english': '"I am Lord @British\'s friend, @Sherry."',
            'russian': 'FIXME "I am Lord @British\'s friend, @Sherry."'
        })
        jump label_1423

    case {'english': 'lord'}:
    case {'russian': 'FIXME lord'}:
    case {'english': 'brit'}:
    case {'russian': 'FIXME brit'}:
        print({
            'english': '"He used to read me bedtime @stories every night."',
            'russian': 'FIXME "He used to read me bedtime @stories every night."'
        })
        jump label_1423

    case {'english': 'bed'}:
    case {'russian': 'FIXME bed'}:
    case {'english': 'stor'}:
    case {'russian': 'FIXME stor'}:
    case {'english': 'nigh'}:
    case {'russian': 'FIXME nigh'}:
        print({
            'english': '"He knows the one about @Hubert the Lion by Heart!"',
            'russian': 'FIXME "He knows the one about @Hubert the Lion by Heart!"'
        })
        jump label_1423

    case {'english': 'hube'}:
    case {'russian': 'FIXME hube'}:
    case {'english': 'lion'}:
    case {'russian': 'FIXME lion'}:
        print({
            'english': '"That\'s my favorite story."',
            'russian': 'FIXME "That\'s my favorite story."'
        })
        jump label_1423

    case {'english': 'sher'}:
    case {'russian': 'FIXME sher'}:
        print({
            'english': '"Pleased to meet you!"',
            'russian': 'FIXME "Pleased to meet you!"'
        })
        jump label_1423

    case {'english': 'job'}:
    case {'russian': 'FIXME job'}:
        print({
            'english': '"I can slip through openings that are too small for you to fit ',
            'russian': 'FIXME "I can slip through openings that are too small for you to fit '
        })
        print({
            'english': 'through!"',
            'russian': 'FIXME through!"'
        })
        jump label_1423

    case {'english': 'bye'}:
    case {'russian': 'FIXME bye'}:
        jump label_1804

    case '*':
        print({
            'english': '"You\'re funny!"',
            'russian': 'FIXME "You\'re funny!"'
        })
    esac

    jump label_1423

label_1804:
    print({
        'english': '"Oh, goodbye. Does this mean you want me to go home now?" ',
        'russian': 'FIXME "Oh, goodbye. Does this mean you want me to go home now?" '
    })

    choice({
        'english': 'yn',
        'russian': 'FIXME yn'
    })

    case {'english': 'n'}:
    case {'russian': 'FIXME n'}:
        print({
            'english': '"Okay."\n',
            'russian': 'FIXME "Okay."\n'
        })
        bye()
    esac

    integer(value 0) = partyLeave(byte 235)

    if equals(integer(value 0), byte 1):
        print({
            'english': '"I\'m not leaving until we get out of this thing!"',
            'russian': 'FIXME "I\'m not leaving until we get out of this thing!"'
        })
        jump label_186
    fi

    print({
        'english': '\n"All right. Now I can hear my bedtime stories again!"\n*\n"I\'ll leave ',
        'russian': 'FIXME \n"All right. Now I can hear my bedtime stories again!"\n*\n"I\'ll leave '
    })
    print({
        'english': 'my stuff with you in case you need it."\n',
        'russian': 'FIXME my stuff with you in case you need it."\n'
    })
    bye()
