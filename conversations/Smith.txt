source('CONVERSE.B')
index(33)

id(132)
name({
    'english': 'Smith',
    'russian': 'Смит'
})

description:
    print({
        'english': 'a fine looking horse.',
        'russian': 'красивую лошадь.'
    })
    wait()

    print({
        'english': '\n',
        'russian': '\n'
    })

interaction:
    if hasBit(byte 235, value 0):
        print({
            'english': '"Hello again!"',
            'russian': '"И снова здравствуйте!"'
        })
        jump label_194
    fi

    print({
        'english': '"Hello, my name is Smith. Who are you?"\n',
        'russian': '"Привет, меня зовут Смит. Кто вы?"\n'
    })
    setBit(byte 235, value 0)

    ask()
    print({
        'english': '\n"Oh, I had something important to tell you!"',
        'russian': '\n"О, я хотел сказать вам что-то важное!"'
    })
    wait()

    print({
        'english': '\n\n"I can\'t remember what it was, though..."',
        'russian': '\n\n"Но не могу вспомнить, что именно..."'
    })

label_194:
    print({
        'english': '\n',
        'russian': '\n'
    })

    ask()

    case 'clue':
    case {'russian': 'подс'}:
        print({
            'english': '"Oh, that\'s right, I have a clue for you!"',
            'russian': '"О, точно, у меня есть подсказка для вас!"'
        })
        wait()

        print({
            'english': '\n\n"You\'re the Warrior of Destiny, right?"',
            'russian': '\n\n"Вы ведь Воин Судьбы, верно?"'
        })
        wait()

        print({
            'english': '\n\n"Well, when you go to rescue Lord British from the underworld, be ',
            'russian': '\n\n"Что ж, когда вы отправитесь спасать Лорда Бритиша из подземного мира, обязательно'
        })
        print({
            'english': 'sure to bring his sandlewood @box with you!"',
            'russian': 'захватите с собой его @шкатулку из сандалового дерева!"'
        })

        if partyHas(byte 2):
            wait()

            portrait(byte 2)
            print({
                'english': '\n\n"We went to all that trouble just to hear this?" says Dupre.',
                'russian': '\n\n"Мы пошли на все эти хлопоты только для того, чтобы услышать это?" - спрашивает Дюпре.'
            })
            wait()

            print({
                'english': '\n\n"We rescued Lord British from the underworld years ago!"',
                'russian': '\n\n"Мы спасли Лорда Бритиша из подземного мира много лет назад!"'
            })
            wait()

            portrait(byte 235)
            print({
                'english': '\n\n"Well, even if you didn\'t like my clue, it wouldn\'t kill you to say ',
                'russian': '\n\n"Ну, даже если вам не понравилась моя подсказка, вы не умрёте, если скажете '
            })
            print({
                'english': '\'thank you.\'"',
                'russian': '\'спасибо\'".'
            })
        fi

        jump label_194

    case 'than':
    case {'russian': 'спас'}:
        print({
            'english': '"You\'re welcome."',
            'russian': '"Пожалуйста".'
        })
        jump label_194

    case 'warr':
    case {'russian': 'воин'}:
    case 'dest':
    case {'russian': 'судь'}:
    case 'lord':
    case {'russian': 'лорд'}:
    case 'brit':
    case {'russian': 'брит'}:
    case 'unde':
    case {'russian': 'подз'}:
    case 'sand':
    case {'russian': 'санд'}:
    case 'box':
    case {'russian': 'шкат'}:
    case 'resc':
    case {'russian': 'спас'}:
        print({
            'english': '"I don\'t know what it all means; I just know it\'s important."',
            'russian': '"Я не знаю, что всё это значит, я просто знаю, что это важно".'
        })
        jump label_194

    case 'name':
    case {'russian': 'имя'}:
        print({
            'english': '"It\'s \'Smith\', like in \'@blacksmith\'.',
            'russian': '"Моё мия - \'Смит\', как в слове \'смитсонит\'. Но я думаю, вам будет интереснее послушать про @кузнецов".'
        })
        jump label_194

    case 'blac':
    case {'russian': 'кузн'}:
        print({
            'english': '"They make my @shoes."',
            'russian': '"Они делают мою @обувь".'
        })
        jump label_194

    case 'shoe':
    case {'russian': 'обув'}:
        print({
            'english': '"They\'re nailed to my @feet, see?" He holds up a hoof for you to look ',
            'russian': '"Она прибита к моим @ногам, видите?" Он поднимает копыто, чтобы вы могли на него '
        })
        print({
            'english': 'at.',
            'russian': 'посмотреть.'
        })
        jump label_194

    case 'nail':
    case {'russian': 'приб'}:
    case 'feet':
    case {'russian': 'нога'}:
        print({
            'english': '"You should try it. Saves you from looking for your shoes every ',
            'russian': '"Вам стоит попробовать. Это избавит вас от необходимости каждое утро искать свою '
        })
        print({
            'english': 'morning."',
            'russian': 'обувь".'
        })
        jump label_194

    case 'job':
    case {'russian': 'раб'}:
        print({
            'english': '"I eat Iolo\'s @hay to keep it from piling up everywhere and making a ',
            'russian': '"Я ем @сено Иоло, чтобы оно не скапливалось повсюду и не создавало '
        })
        print({
            'english': 'mess."',
            'russian': 'беспорядок".'
        })

        if partyHas(byte 4):
            wait()

            portrait(byte 4)
            print({
                'english': '\n\nIolo winks at you. "And a fine job you do of it, too. I don\'t know ',
                'russian': '\n\nИоло подмигивает вам. "И ты отлично с этим справляешься. Не знаю, '
            })
            print({
                'english': 'what I\'d do without you."',
                'russian': 'что бы я без тебя делал".'
            })
            wait()

            portrait(byte 235)
        fi

        jump label_194

    case 'eat':
    case {'russian': 'ем'}:
    case 'hay':
    case {'russian': 'сено'}:
    case 'pile':
    case {'russian': 'скап'}:
    case 'mess':
    case {'russian': 'бесп'}:
        print({
            'english': '"Hay is the greatest menace to the well being of Britannia."',
            'russian': '"Сено - величайшая угроза благополучию Британии".'
        })
        wait()

        print({
            'english': '\n\n"It takes constant vigilance to keep it from engulfing the entire ',
            'russian': '\n\n"Требуется постоянная бдительность, чтобы оно не охватило всё '
        })
        print({
            'english': 'realm."',
            'russian': 'королевство".'
        })
        wait()

        print({
            'english': '\n\n"I\'ve devoted my life to the @task."',
            'russian': '\n\n"Я посвятил @этому всю свою жизнь".'
        })
        jump label_194

    case 'mena':
    case {'russian': 'угро'}:
    case 'task':
    case {'russian': 'этом'}:
        print({
            'english': '"It\'s a thankless job, but I am a determined horse."',
            'russian': '"Это неблагодарная работа, но я решительный конь".'
        })
        wait()

        print({
            'english': '\n\n"Hay, thou hath met thy nemesis, thy doom, and his name is Smith!"',
            'russian': '\n\n"Моё имя - Смит, и от меня не сбежит ни один беСЕНОк!"'
        })
        jump label_194

    case 'bye':
    case {'russian': 'пока'}:
        print({
            'english': '"Farewell, two-legger',
            'russian': '"Прощайте, двуноги'
        })

        if integer(value 23):
            print({
                'english': 's',
                'russian': 'е'
            })
        else:
            print({
                'english': 'GARBAGE HACK-TEXT FOR SINGLE CHARACTER',
                'russian': 'й'
            })
        fi

        print({
            'english': '."',
            'russian': '."'
        })

        if hasBit(byte 235, byte 7):
            print({
                'english': '\n',
                'russian': '\n'
            })
            bye()
        fi

        if and(partyHas(byte 4), partyHas(byte 2)):
            setBit(byte 235, byte 7)
            wait()

            portrait(byte 4)
            print({
                'english': '\n\nYou see Iolo give Dupre a nudge in the ribs. "You owe me a drink," ',
                'russian': '\n\nВы видите, как Иоло толкает Дюпре локтем в бок. "Ты должен мне выпить", '
            })
            print({
                'english': 'he says, grinning.',
                'russian': '- говорит он, ухмыляясь.'
            })
            wait()

            print({
                'english': '\n\nHe turns to you. "Sir Know-it-all here bet me that there was no such',
                'russian': '\n\nОн поворачивается к вам. "Сэр Всезнайка поспорил со мной, что'
            })
            print({
                'english': ' thing as a talking horse!"',
                'russian': ' говорящих лошадей не существует!"'
            })
            wait()

            portrait(byte 2)
            print({
                'english': '\n\n"Now I\'ve seen everything. I suppose we\'ll be inviting some ducks ',
                'russian': '\n\n"Теперь я увидел всё. Думаю, в следующий раз мы пригласим уток на '
            })
            print({
                'english': 'over for tea next."\n',
                'russian': 'чай".\n'
            })

        else:
            print({
                'english': '\n',
                'russian': '\n'
            })
        fi

        bye()

    case '*':
        print({
            'english': '"I don\'t have the answer to everything. I\'m just a horse, you know."',
            'russian': '"У меня нет ответов на все вопросы. Я всего лишь лошадь, знаете ли".'
        })
    esac

    jump label_194
