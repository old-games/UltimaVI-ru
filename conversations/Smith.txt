source("CONVERSE.B")
index(33)

id(132)
name("Smith")

description:
    print("a fine looking horse.")
    wait()

    print("\n")

interaction:
    if hasBit(byte 235, value 0):
    print("\"Hello again!\"")
    jump 194

    endif

    print("\"Hello, my name is Smith. Who are you?\"\n")
    ('SETF', ('byte', 235), ('value', 0))

    ask()
    print("\n\"Oh, I had something important to tell you!\"")
    wait()

    print("\n\n\"I can't remember what it was, though...\"\n")

    ask()
    case "clue":
    print("\"Oh, that's right, I have a clue for you!\"")
    wait()

    print("\n\n\"You're the Warrior of Destiny, right?\"")
    wait()

    print("\n\n\"Well, when you go to rescue Lord British from the underworld, be ")
    print("sure to bring his sandlewood @box with you!\"")

    if partyHas(byte 2):
    wait()

    ('PORTRAIT', ('byte', 2))
    print("\n\n\"We went to all that trouble just to hear this?\" says Dupre.")
    wait()

    print("\n\n\"We rescued Lord British from the underworld years ago!\"")
    wait()

    ('PORTRAIT', ('byte', 235))
    print("\n\n\"Well, even if you didn't like my clue, it wouldn't kill you to say ")
    print("'thank you.'\"")

    endif

    jump 194

    case "than":
    print("\"You're welcome.\"")
    jump 194

    case "warr,dest,lord,brit,unde,sand,box,resc":
    print("\"I don't know what it all means; I just know it's important.\"")
    jump 194

    case "name":
    print("\"It's 'Smith', like in '@blacksmith'.")
    jump 194

    case "blac":
    print("\"They make my @shoes.\"")
    jump 194

    case "shoe":
    print("\"They're nailed to my @feet, see?\" He holds up a hoof for you to look ")
    print("at.")
    jump 194

    case "nail,feet":
    print("\"You should try it. Saves you from looking for your shoes every ")
    print("morning.\"")
    jump 194

    case "job":
    print("\"I eat Iolo's @hay to keep it from piling up everywhere and making a ")
    print("mess.\"")

    if partyHas(byte 4):
    wait()

    ('PORTRAIT', ('byte', 4))
    print("\n\nIolo winks at you. \"And a fine job you do of it, too. I don't know ")
    print("what I'd do without you.\"")
    wait()

    ('PORTRAIT', ('byte', 235))

    endif

    jump 194

    case "eat,hay,pile,mess":
    print("\"Hay is the greatest menace to the well being of Britannia.\"")
    wait()

    print("\n\n\"It takes constant vigilance to keep it from engulfing the entire ")
    print("realm.\"")
    wait()

    print("\n\n\"I've devoted my life to the @task.\"")
    jump 194

    case "mena,task":
    print("\"It's a thankless job, but I am a determined horse.\"")
    wait()

    print("\n\n\"Hay, thou hath met thy nemesis, thy doom, and his name is Smith!\"")
    jump 194

    case "bye":
    print("\"Farewell, two-legger")

    if integer(value 23):
    print("s")

    endif

    print(".\"")

    if hasBit(byte 235, byte 7):
    print("\n")
    bye()

    endif

    if and(partyHas(byte 4), partyHas(byte 2)):
    ('SETF', ('byte', 235), ('byte', 7))
    wait()

    ('PORTRAIT', ('byte', 4))
    print("\n\nYou see Iolo give Dupre a nudge in the ribs. \"You owe me a drink,\" ")
    print("he says, grinning.")
    wait()

    print("\n\nHe turns to you. \"Sir Know-it-all here bet me that there was no such")
    print(" thing as a talking horse!\"")
    wait()

    ('PORTRAIT', ('byte', 2))
    print("\n\n\"Now I've seen everything. I suppose we'll be inviting some ducks ")
    print("over for tea next.\"\n")

    else:
    print("\n")

    endif

    bye()

    case "*":
    print("\"I don't have the answer to everything. I'm just a horse, you know.\"")

    esac

    jump 194
