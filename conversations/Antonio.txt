source('CONVERSE.A')
index(92)

id(92)
name('Antonio')

description:
    print('a gentleman of slight build and refined manners.\n*')

interaction:
    if hasBit(byte 235, value 0):
        jump label_237
    fi

    print('"Greetings! I am Lord Antonio. Might I ask thy name?"\n')

label_127:
    ask()

    case 'yes':
        print('"Then prithee, what is it?"\n')
        jump label_127

    case 'no':
        print('"As you wish."')
        jump label_284
    esac

    if equals(string(value 35), string(value 25)):
        setBit(byte 235, value 0)
    fi

    print('\n"The pleasure is all mine."')
    jump label_284

label_237:
    print('"Greetings, $P! What brings thee here this $T?"')

label_284:
    print('\n')

    ask()

    case 'name':
        print('"My name is Antonio."')
        jump label_284

    case 'job':
        print('"I govern @New Magincia."\n\n*"Fortunately the fine people of this town ')
        print('have few disputes to settle, leaving me plenty of time for my @hobby."')
        jump label_284

    case 'magin':
    case 'new':
        print('"The city of @humility is a lovely place to live."')
        jump label_284

    case 'hobb':
    case 'time':
        print('"I do @magic tricks. It brings a bit of cheer into this imperfect ')
        print('world."')
        jump label_284

    case 'chee':
    case 'magi':
    case 'tric':
        jump label_978

    case 'humi':
    case 'mant':
    case 'rune':
        if equals(hasObject(byte 235, byte 249, byte 0), byte 0):
            jump label_941
        fi

        print('"The most @humble one amongst us knows the mantra."\n*\n"If thou canst ')
        print('find out who that is, tell me, and I will give thee the rune."*\n\n')
        jump label_1362

    case 'humb':
        if equals(hasObject(byte 235, byte 249, byte 0), byte 0):
            jump label_941
        fi

        jump label_1362

    case 'cono':
    case 'star':
        jump label_1504

    case 'bye':
        print('"Until we meet again, may your road be short and your fortunes long."\n')
        bye()

    case '*':
label_941:
        print('"I cannot help thee with that."')
    esac

    jump label_284

label_978:
    print('"Wouldst thou like to see one?" ')

    choice('yn')

    case 'n':
        print('"As you wish."')
        jump label_284
    esac

    print('\n"Splendid!" Antonio reaches into his pocket and takes out a balloon.\n')
    print('*\nHe blows it up until it bursts, and four doves appear from inside ')
    print('it, flying off towards the four points of the compass.*\n\n"Did you ')
    print('enjoy that?" ')

    choice('yn')

    case 'n':
        print('"Too bad. Perhaps I should learn a better trick."')

    case 'y':
        print('"I knew you would. That\'s my favorite trick!"')
    esac

    jump label_284

label_1362:
    print('"Dost thou know who is the most humble person in this town?" ')

    choice('yn')

    case 'n':
        print('"Keep asking around."')
        jump label_284
    esac

    print('\n"Then what is that person\'s name?"\n')

    ask()

    case 'cono':
    case 'star':
label_1504:
        print('"Very astute of thee! Here is the rune, and I wish thee success on thy')
        print(' mission."\n')
        giveItem(byte 249, byte 0, byte 235, byte 1)
        bye()

    case '*':
        print('"\'Tis not fitting that thou shouldst guess."\n*\n"Make sure thou dost ')
        print('know the answer before you speak with me again."\n')
        decreaseKarma(byte 5)
        bye()
    esac
