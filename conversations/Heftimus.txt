source('CONVERSE.A')
index(47)

id(47)
name({
    'english': 'Heftimus',
    'russian': 'FIXME Heftimus'
})

description:
    print({
        'english': 'a beggar, clad in the rags of a sailor, with a hook for a right hand.',
        'russian': 'FIXME a beggar, clad in the rags of a sailor, with a hook for a right hand.'
    })

interaction:
    wait()

    print({
        'english': '\n"Spare a doubloon fer an old seahand?" He holds out his hand.',
        'russian': 'FIXME \n"Spare a doubloon fer an old seahand?" He holds out his hand.'
    })
    wait()

    print({
        'english': '\n\nDo you give him any money? ',
        'russian': 'FIXME \n\nDo you give him any money? '
    })

    choice({
        'english': 'yn',
        'russian': 'FIXME yn'
    })

    case 'n':
    case {'russian': 'FIXME n'}:
        jump label_1885

    case 'y':
    case {'russian': 'FIXME y'}:
label_188:
        print({
            'english': '\nHow much do you give? ',
            'russian': 'FIXME \nHow much do you give? '
        })
        inputInteger(integer(value 0))

        if greater(integer(value 0), objectsCount(byte 1, byte 88)):
            print({
                'english': 'You do not have that much.\n',
                'russian': 'FIXME You do not have that much.\n'
            })
            jump label_188
        fi

        if equals(integer(value 0), byte 0):
            jump label_1885
        fi

        destroyItem(byte 1, byte 88, byte 0, integer(value 0))
        createItem(byte 235, byte 88, byte 0, integer(value 0))
        print({
            'english': '"Thank, ye kindly, matey."',
            'russian': 'FIXME "Thank, ye kindly, matey."'
        })
    esac

label_323:
    print({
        'english': '\n',
        'russian': 'FIXME \n'
    })

    ask()

    case 'name':
    case {'russian': 'FIXME name'}:
        print({
            'english': '"I be Heftimus McPry, matey."',
            'russian': 'FIXME "I be Heftimus McPry, matey."'
        })
        setBit(byte 235, value 0)
        jump label_323

    case 'job':
    case {'russian': 'FIXME job'}:
        print({
            'english': '"Once Buccaneer\'s @Den quaked at the mention o\' me name."',
            'russian': 'FIXME "Once Buccaneer\'s @Den quaked at the mention o\' me name."'
        })
        wait()

        print({
            'english': '\n\n"I was the greatest sabre fighter on all the high seas."',
            'russian': 'FIXME \n\n"I was the greatest sabre fighter on all the high seas."'
        })
        wait()

        print({
            'english': '\n\n"Then one day..."',
            'russian': 'FIXME \n\n"Then one day..."'
        })
        wait()

        print({
            'english': '\n"I fought Captain @Hawkins, that scurvy dog, an\' he struck off me ',
            'russian': 'FIXME \n"I fought Captain @Hawkins, that scurvy dog, an\' he struck off me '
        })
        print({
            'english': '@hand with his sword."',
            'russian': 'FIXME @hand with his sword."'
        })
        jump label_323

    case 'hook':
    case {'russian': 'FIXME hook'}:
    case 'foug':
    case {'russian': 'FIXME foug'}:
    case 'stru':
    case {'russian': 'FIXME stru'}:
    case 'hand':
    case {'russian': 'FIXME hand'}:
    case 'swor':
    case {'russian': 'FIXME swor'}:
        print({
            'english': '"\'Twas a bitter fight; I almost died o\' the wound."',
            'russian': 'FIXME "\'Twas a bitter fight; I almost died o\' the wound."'
        })
        wait()

        print({
            'english': '\n\n"Hawkins threw me hand to the sharks."',
            'russian': 'FIXME \n\n"Hawkins threw me hand to the sharks."'
        })
        jump label_323

    case 'capt':
    case {'russian': 'FIXME capt'}:
    case 'hawk':
    case {'russian': 'FIXME hawk'}:
        print({
            'english': '"He be long gone now, he an\' his ship the Empire. A pox on his ',
            'russian': 'FIXME "He be long gone now, he an\' his ship the Empire. A pox on his '
        })
        print({
            'english': 'memory!"',
            'russian': 'FIXME memory!"'
        })
        jump label_323

    case 'bucc':
    case {'russian': 'FIXME bucc'}:
    case 'den':
    case {'russian': 'FIXME den'}:
        print({
            'english': '"That be an island, matey, and no place fer a decent soul like ',
            'russian': 'FIXME "That be an island, matey, and no place fer a decent soul like '
        })
        print({
            'english': 'yerself."',
            'russian': 'FIXME yerself."'
        })
        jump label_323

    case 'map':
    case {'russian': 'FIXME map'}:
        print({
            'english': '"That bit o\' news will cost ye twenty coins. What say ye, matey? Aye ',
            'russian': 'FIXME "That bit o\' news will cost ye twenty coins. What say ye, matey? Aye '
        })
        print({
            'english': 'or nay?" ',
            'russian': 'FIXME or nay?" '
        })
        jump label_1423

    case 'dung':
    case {'russian': 'FIXME dung'}:
        print({
            'english': '"I\'ve been into the dungeon @Wrong."',
            'russian': 'FIXME "I\'ve been into the dungeon @Wrong."'
        })
        wait()

        print({
            'english': '\n\n"There\'s a @cave on this island that looks a lot safer."',
            'russian': 'FIXME \n\n"There\'s a @cave on this island that looks a lot safer."'
        })
        jump label_323

    case 'cave':
    case {'russian': 'FIXME cave'}:
        print({
            'english': '"I sleep in front of it every night."',
            'russian': 'FIXME "I sleep in front of it every night."'
        })
        wait()

        print({
            'english': '\n\n"Soon as I\'ve saved up a stake, I\'m going in there to dig for gold."',
            'russian': 'FIXME \n\n"Soon as I\'ve saved up a stake, I\'m going in there to dig for gold."'
        })
        jump label_323

    case 'wron':
    case {'russian': 'FIXME wron'}:
        print({
            'english': '"\'Twas certainly the wrong place for an old seadog to be!"',
            'russian': 'FIXME "\'Twas certainly the wrong place for an old seadog to be!"'
        })
        wait()

        print({
            'english': '\n\nHe laughs, chokes, and coughs for a while.',
            'russian': 'FIXME \n\nHe laughs, chokes, and coughs for a while.'
        })
        wait()

        print({
            'english': '\n\n"I\'ll be allright, matey."',
            'russian': 'FIXME \n\n"I\'ll be allright, matey."'
        })
        jump label_323

    case 'bye':
    case {'russian': 'FIXME bye'}:
        print({
            'english': '"Good journey."\n',
            'russian': 'FIXME "Good journey."\n'
        })
        bye()

    case '*':
        print({
            'english': '"Sorry, don\'t really know that."',
            'russian': 'FIXME "Sorry, don\'t really know that."'
        })
    esac

    jump label_323

label_1423:
    choice({
        'english': 'ayn',
        'russian': 'FIXME ayn'
    })

    case 'a':
    case {'russian': 'FIXME a'}:
    case 'y':
    case {'russian': 'FIXME y'}:
        jump label_1573
    esac

label_1438:
    print({
        'english': '\n"Then maybe ten? Aye or nay?" ',
        'russian': 'FIXME \n"Then maybe ten? Aye or nay?" '
    })

    choice({
        'english': 'ayn',
        'russian': 'FIXME ayn'
    })

    case 'n':
    case {'russian': 'FIXME n'}:
        print({
            'english': '"So be it, matey."',
            'russian': 'FIXME "So be it, matey."'
        })
        jump label_323
    esac

    print({
        'english': '\n',
        'russian': 'FIXME \n'
    })

    if less(objectsCount(byte 1, byte 88), byte 10):
        print({
            'english': '"I can\'t help ye, matey."',
            'russian': 'FIXME "I can\'t help ye, matey."'
        })
        jump label_323
    fi

    destroyItem(byte 1, byte 88, byte 0, byte 10)
    createItem(byte 235, byte 88, byte 0, byte 10)
    jump label_1621

label_1573:
    if less(objectsCount(byte 1, byte 88), byte 20):
        print({
            'english': '"Hmm."',
            'russian': 'FIXME "Hmm."'
        })
        jump label_1438
    fi

    destroyItem(byte 1, byte 88, byte 0, byte 20)
    createItem(byte 235, byte 88, byte 0, byte 20)

label_1621:
    print({
        'english': '"I thank ye kindly, matey. The last I saw o\' that bit o\' parchment..."',
        'russian': 'FIXME "I thank ye kindly, matey. The last I saw o\' that bit o\' parchment..."'
    })
    wait()

    print({
        'english': '\n\n"I needed it to start a fire in a @dungeon."',
        'russian': 'FIXME \n\n"I needed it to start a fire in a @dungeon."'
    })
    wait()

    print({
        'english': '\n\n"But afore I could apply sparks to the tinder, a huge swarm o\' rats ',
        'russian': 'FIXME \n\n"But afore I could apply sparks to the tinder, a huge swarm o\' rats '
    })
    print({
        'english': 'drove me away."',
        'russian': 'FIXME drove me away."'
    })
    wait()

    print({
        'english': '\n\n"The scrap o\' map lies in the dungeon @Wrong, matey."',
        'russian': 'FIXME \n\n"The scrap o\' map lies in the dungeon @Wrong, matey."'
    })
    jump label_323

label_1885:
    print({
        'english': '"Pah!" He spits on the ground.\n',
        'russian': 'FIXME "Pah!" He spits on the ground.\n'
    })
    bye()
