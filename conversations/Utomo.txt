source('CONVERSE.A')
index(57)

id(57)
name({
    'english': 'Utomo',
    'russian': 'Утомо'
})

description:
    print({
        'english': 'a huge, dark-skined man with a close-set face.',
        'russian': 'огромного, смуглого мужчину с маленьким лицом.'
    })
    wait()

    f3()

interaction:
    print({
        'english': '\n',
        'russian': '\n'
    })
    integer(value 8) = byte 5

    if hasBit(byte 235, value 0):
        print({
            'english': '"@Ombogo @sano!" he says, smiling widely.',
            'russian': '"@Омбого @сано!" - говорит он, улыбаясь во весь рот.'
        })

    else:
        print({
            'english': '"@Ombogo @dono," he grunts at you from behind a large forge.',
            'russian': '"@Омбого @доно", - он рычит на вас, стоя за большой кузницей.'
        })
    fi

    wait()

    jump label_193

label_180:
    print({
        'english': '\n"What else?"',
        'russian': '\n"Что ещё?"'
    })

label_193:
    print({
        'english': '\n',
        'russian': '\n'
    })

    ask()

    case 'buy':
    case {'russian': 'куп'}:
        print({
            'english': '"I have many things here. You want @arms or @armor?"',
            'russian': '"Я много чем торгую. Вам нужно @оружие или @броня?"'
        })
        jump label_193

    case 'arms':
    case {'russian': 'оруж'}:
        integer(value 9) = byte 0
        jump label_2760

    case 'armo':
    case {'russian': 'брон'}:
        integer(value 9) = integer(value 8)
        jump label_2760

    case 'sell':
    case {'russian': 'прод'}:
        jump label_1843

    case 'ombo':
    case {'russian': 'омбо'}:
        print({
            'english': '"That mean \'hello.\'"',
            'russian': '"Это значит \'здравствуйте\'".'
        })
        jump label_193

    case 'dono':
    case {'russian': 'доно'}:
        print({
            'english': '"That mean \'person I don\'t know.\'"',
            'russian': '"Это значит \'незнакомый мне человек\'".'
        })
        jump label_193

    case 'sano':
    case {'russian': 'сано'}:
        print({
            'english': '"That mean \'friend.\'"',
            'russian': '"Это значит \'друг\'".'
        })
        jump label_193

    case 'name':
    case {'russian': 'имя'}:
        if hasBit(byte 235, value 0):
            print({
                'english': '"Utomo remember you, how you not remember @Utomo?"',
                'russian': '"Утомо помнить тебя! Как ты не помнить @Утомо?"'
            })

        else:
            print({
                'english': '"Utomo, from @island."',
                'russian': '"Утомо, с @острова".'
            })
        fi

        jump label_193

    case 'utom':
    case {'russian': 'утом'}:
    case 'isla':
    case {'russian': 'остр'}:
        print({
            'english': '"Utomo mean \'island\' in my language. I also from island."*\n\n"Bring ',
            'russian': '"Утомо значит \'остров\' на моём языке. И я с острова".*\n\n"Привезти '
        })
        print({
            'english': 'magic @fan from island. This town new @home for Utomo now."',
            'russian': 'волшебный @веер с острова. Этот город теперь новый @дом для Утомо".'
        })
        jump label_193

    case 'fan':
    case {'russian': 'вее'}:
    case 'magi':
    case {'russian': 'волш'}:
        print({
            'english': '"Lady on island make magic fans. They make big wind, blow ships all ',
            'russian': '"Госпожа на острове создаёт волшебные вееры. Они поднимают большой ветер, что сдувает '
        })
        print({
            'english': 'around."',
            'russian': 'корабли".'
        })
        jump label_193

    case 'job':
    case {'russian': 'раб'}:
        print({
            'english': '"Utomo make good @weapons. Make one for you if you like."',
            'russian': '"Утомо делать хорошее @оружие. Могу и тебе сделать, если хочешь".'
        })
        jump label_193

    case 'weap':
    case {'russian': 'оруж'}:
        print({
            'english': '"Learn to make as boy. I live on island then."',
            'russian': '"Научился, когда был мальчишком. Тогда я жил на острове".'
        })
        jump label_193

    case 'from':
    case {'russian': 'отку'}:
    case 'home':
    case {'russian': 'дом'}:
        print({
            'english': '"I come here from @many days away. My home burned by @evil man."',
            'russian': '"Я шёл сюда @много дней. Мой дом сжёг @злой человек".'
        })
        jump label_193

    case 'many':
    case {'russian': 'мног'}:
    case 'days':
    case {'russian': 'дни'}:
        print({
            'english': '"I not sure where. Got ride on big @ship."',
            'russian': '"Не знаю где. Меня привезли на большом @корабле".'
        })
        jump label_193

    case 'big':
    case {'russian': 'бол'}:
    case 'ship':
    case {'russian': 'кор'}:
        print({
            'english': '"I stow away when night come. After long time we land and I jump off."',
            'russian': '"Когда наступила ночь, я тайком пробрался на корабль. Прошло много времени, и я сошёл с корабля".'
        })
        jump label_193

    case 'burn':
    case {'russian': 'сжёг'}:
    case 'evil':
    case {'russian': 'злой'}:
    case 'man':
    case {'russian': 'чело'}:
        print({
            'english': '"He say to me, \'You man, you leave home and @kill good people with ',
            'russian': '"Он сказать мне: \'Ты мужчина, уходи из дома @убивать добрых людей '
        })
        print({
            'english': 'me.\' I ran from him."',
            'russian': 'со мной\'. Я убежал от него".'
        })
        jump label_193

    case 'kill':
    case {'russian': 'убив'}:
    case 'good':
    case {'russian': 'добр'}:
    case 'peop':
    case {'russian': 'люд'}:
        print({
            'english': '"Like people in town. Like Lord British."',
            'russian': '"Людей, как в городе. Как Лорд Бритиш".'
        })
        jump label_193

    case 'Andr':
    case {'russian': 'Андр'}:
        print({
            'english': '"Utomo go and drink at her home."',
            'russian': '"Утомо ходить в гости и пить у неё дома".'
        })
        wait()

        print({
            'english': '\n\nShe try @kiss Utomo. Utomo say, \'I no want you\' but she kiss ',
            'russian': '\n\nОна пытаться @целовать Утомо. Утомо сказал: \'Я не хотеть тебя\', но она целовать '
        })
        print({
            'english': 'anyway."',
            'russian': 'всё равно".'
        })
        wait()

        print({
            'english': '\n\n"Utomo not go back there."',
            'russian': '\n\n"Утомо не идти туда снова".'
        })
        jump label_193

    case 'kiss':
    case {'russian': 'поце'}:
        print({
            'english': '"Utomo have @girl back home."',
            'russian': '"У Утомо есть @девушка дома".'
        })
        wait()

        print({
            'english': '\n\n"She not thin like Andrea."',
            'russian': '\n\n"Она не тощая как Андреа".'
        })
        wait()

        print({
            'english': '\n\n"Someday Utomo go back and get her."',
            'russian': '\n\n"Когда-нибудь Утомо возвращаться к ней".'
        })
        wait()

        print({
            'english': '\n\n"Someday."',
            'russian': '\n\n"Когда-нибудь".'
        })
        wait()

        print({
            'english': '\n\nHe plays the poker over the hot coals and looks absently into the ',
            'russian': '\n\nОн шевелит горячие угли кочергой и смотрит отсутствующим взглядом на '
        })
        print({
            'english': 'fire.',
            'russian': 'огонь.'
        })
        jump label_193

    case 'girl':
    case {'russian': 'деву'}:
    case 'back':
    case {'russian': 'дома'}:
        print({
            'english': '"Her name Yuna. She good tree climber. I not see her for long time."',
            'russian': '"Её звать Юна. Она хорошо лазает по деревьям. Очень долго я её не видеть".'
        })
        jump label_193

    case 'omdu':
    case {'russian': 'омду'}:
    case 'yaf':
    case {'russian': 'яф'}:
        print({
            'english': '"In my land it mean \'You have good meal in sun.\'"',
            'russian': '"В моей стране это значить \'Желаю хорошей еды и солнца\'".'
        })
        wait()

        print({
            'english': '\n\n"It is goodbye in my land."',
            'russian': '\n\n"Так говорить при прощании в моей стране".'
        })
        jump label_193

    case 'bye':
    case {'russian': 'пока'}:
        print({
            'english': '"@Omdu Yaf."\n',
            'russian': '"@Омду Яф".\n'
        })
        setBit(byte 235, value 0)
        bye()

    case '*':
        print({
            'english': '"I speak not too much your language."',
            'russian': '"Я плохо говорить на вашем языке".'
        })
        jump label_193
    esac

label_1843:
    if notEquals(integer(value 32), byte 144):
        print({
            'english': '"Come to my shop when I\'m open!"',
            'russian': '"Приходите, когда лавка открыта!"'
        })
        jump label_193
    fi

    integer(value 0) = byte 0
    integer(value 2) = byte 0
    integer(value 3) = byte 0

label_1909:
    integer(value 1) = byte 0

label_1916:
    if hasObject(character(integer(value 0), byte 0), data(integers_3419, integer(value 1)), byte 0):
        data(integers_3576, integer(value 2)) = integer(value 0)
        integer(value 2) = plus(integer(value 2), byte 1)
        integer(value 3) = byte 1
        jump label_1996
    fi

    integer(value 1) = plus(integer(value 1), byte 1)

    if data(integers_3419, integer(value 1)):
        jump label_1916
    fi

label_1996:
    integer(value 0) = plus(integer(value 0), byte 1)

    if lessOrEquals(integer(value 0), integer(value 23)):
        jump label_1909
    fi

    if equals(integer(value 3), byte 0):
        print({
            'english': '"But you no have thing I want!"',
            'russian': '"Но у вас нет нужной вещи!"'
        })
        wait()

        print({
            'english': '\n',
            'russian': '\n'
        })
        jump label_180
    fi

    if equals(integer(value 2), byte 1):
        integer(value 3) = character(data(integers_3576, byte 0), byte 0)
        look(integer(value 3))
        print({
            'english': '"$Y have something I want..."',
            'russian': '"$Y обладает тем, что мне нужно..."'
        })
        wait()

        print({
            'english': '\n\n',
            'russian': '\n\n'
        })
        jump label_2254
    fi

label_2130:
    integer(value 1) = byte 1

label_2137:
    look(character(data(integers_3576, minus(integer(value 1), byte 1)), byte 0))
    print({
        'english': '#1) $Y\n',
        'russian': '#1) $Y\n'
    })
    integer(value 1) = plus(integer(value 1), byte 1)

    if lessOrEquals(integer(value 1), integer(value 2)):
        jump label_2137
    fi

    print({
        'english': '"Which of you?" ',
        'russian': '"Кто из вас?" '
    })
    inputDigit(integer(value 3))

    if equals(integer(value 3), byte 0):
        jump label_2733
    fi

    integer(value 3) = minus(integer(value 3), byte 1)

    if greaterOrEquals(integer(value 3), integer(value 2)):
        jump label_2130
    fi

    integer(value 3) = character(data(integers_3576, integer(value 3)), byte 0)

label_2254:
    integer(value 0) = byte 0
    integer(value 5) = byte 0

label_2268:
    if equals(hasObject(integer(value 3), data(integers_3419, integer(value 0)), byte 0), byte 0):
        jump label_2315
    fi

    data(integers_3546, integer(value 5)) = integer(value 0)
    integer(value 5) = plus(integer(value 5), byte 1)

label_2315:
    integer(value 0) = plus(integer(value 0), byte 1)

    if data(integers_3419, integer(value 0)):
        jump label_2268
    fi

    if equals(integer(value 5), byte 1):
        integer(value 6) = data(integers_3546, byte 0)
        jump label_2479
    fi

    integer(value 0) = byte 1

label_2374:
    print({
        'english': '#0) ',
        'russian': '#0) '
    })
    printString(strings_3441, data(integers_3546, minus(integer(value 0), byte 1)))
    print({
        'english': '\n',
        'russian': '\n'
    })
    integer(value 0) = plus(integer(value 0), byte 1)

    if lessOrEquals(integer(value 0), integer(value 5)):
        jump label_2374
    fi

    print({
        'english': '"Which item?" ',
        'russian': '"Что именно?" '
    })
    inputDigit(integer(value 6))

    if greater(integer(value 6), integer(value 5)):
        jump label_2254
    fi

    if equals(integer(value 6), byte 0):
        jump label_2733
    fi

    integer(value 6) = data(integers_3546, minus(integer(value 6), byte 1))

label_2479:
    string(value 0) = data(strings_3441, integer(value 6))
    integer(value 7) = divide(data(integers_3399, integer(value 6)), byte 2)
    look(integer(value 3))
    print({
        'english': '"I give #7 gold for that $0, okay $Y?" ',
        'russian': '"Я дам #7 золотых за $0, устроит, $Y?" '
    })

    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'n':
    case {'russian': 'n'}:
        if equals(integer(value 5), byte 1):
            print({
                'english': '"Maybe later."',
                'russian': '"В другой раз".'
            })
            wait()

            print({
                'english': '\n',
                'russian': '\n'
            })
            jump label_180

        else:
            print({
                'english': '"Maybe something else?"',
                'russian': '"Может быть, что-то ещё?"'
            })
            wait()

            print({
                'english': '\n\n',
                'russian': '\n\n'
            })
            jump label_2254
        fi

    case 'y':
    case {'russian': 'д'}:
        look(integer(value 3))
        print({
            'english': '"Good!" $N hands $Y #7 gold pieces and takes the $0.',
            'russian': '"Хорошо!" - $N передаёт персонажу $Y #7 золотых и забирает $0.'
        })
        destroyItem(integer(value 3), data(integers_3419, integer(value 6)), byte 0, byte 1)
        createItem(integer(value 3), byte 88, byte 0, integer(value 7))

        if equals(integer(value 5), byte 1):
            print({
                'english': '\n',
                'russian': '\n'
            })
            jump label_180

        else:
            wait()

            print({
                'english': '\n\n',
                'russian': '\n\n'
            })
            jump label_2254
        fi
    esac

label_2733:
    print({
        'english': '"No more, ah? Okay."',
        'russian': '"Больше нет, м? Хорошо".'
    })
    wait()

    print({
        'english': '\n',
        'russian': '\n'
    })
    jump label_180

label_2760:
    if notEquals(integer(value 32), byte 144):
        print({
            'english': '"Come to my shop when I\'m open!"',
            'russian': '"Приходите, когда лавка открыта!"'
        })
        jump label_193
    fi

    if equals(integer(value 23), byte 0):
        integer(value 3) = byte 1
        jump label_2951
    fi

label_2825:
    integer(value 0) = byte 0
    integer(value 2) = byte 1

label_2839:
    look(character(integer(value 0), byte 0))
    print({
        'english': '#2) $Y\n',
        'russian': '#2) $Y\n'
    })
    integer(value 0) = plus(integer(value 0), byte 1)
    integer(value 2) = plus(integer(value 2), byte 1)

    if lessOrEquals(integer(value 0), integer(value 23)):
        jump label_2839
    fi

    print({
        'english': '"Which of you?" ',
        'russian': '"Кто из вас?" '
    })
    inputDigit(integer(value 3))

    if equals(integer(value 3), byte 0):
        jump label_2733
    fi

    integer(value 3) = minus(integer(value 3), byte 1)

    if greater(integer(value 3), integer(value 23)):
        jump label_2825
    fi

    integer(value 3) = character(integer(value 3), byte 0)

label_2951:
    integer(value 0) = byte 1
    look(integer(value 3))

label_2962:
    string(value 0) = data(strings_3441, plus(integer(value 9), minus(integer(value 0), byte 1)))
    print({
        'english': '#0) $0\n',
        'russian': '#0) $0\n'
    })
    integer(value 0) = plus(integer(value 0), byte 1)

    if and(integer(value 9), notEquals(data(integers_3419, plus(integer(value 9), minus(integer(value 0), byte 1))), byte 0)):
        jump label_2962
    fi

    if and(equals(integer(value 9), byte 0), lessOrEquals(integer(value 0), integer(value 8))):
        jump label_2962
    fi

    integer(value 7) = integer(value 0)
    print({
        'english': '"Which item?" ',
        'russian': '"Что именно?" '
    })
    inputDigit(integer(value 0))

    if equals(integer(value 0), byte 0):
        jump label_2733
    fi

    if greaterOrEquals(integer(value 0), integer(value 7)):
        jump label_2951
    fi

    integer(value 0) = minus(plus(integer(value 9), integer(value 0)), byte 1)
    integer(value 1) = data(integers_3399, integer(value 0))
    string(value 1) = data(strings_3441, integer(value 0))
    print({
        'english': '"Sell $1 for #1 gold."',
        'russian': '"$1 продаётся за #1 золота".'
    })
    wait()

    print({
        'english': '\n\n"Okay, $Y?" ',
        'russian': '\n\n"Устроит, $Y?" '
    })

    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'y':
    case {'russian': 'д'}:
        jump label_3191

    case 'n':
    case {'russian': 'н'}:
        jump label_2951
    esac

label_3191:
    if less(plus(canCarry(integer(value 3)), weight(byte 88, integer(value 1))), weight(data(integers_3419, integer(value 0)), byte 1)):
        print({
            'english': '"$1 is too heavy for you, $Y!"',
            'russian': '"$1 - вам столько не унести, $Y!"'
        })
        wait()

        print({
            'english': '\n',
            'russian': '\n'
        })
        jump label_180
    fi

    if greaterOrEquals(objectsCount(integer(value 3), byte 88), integer(value 1)):
        destroyItem(integer(value 3), byte 88, byte 0, integer(value 1))
        createItem(integer(value 3), data(integers_3419, integer(value 0)), byte 0, byte 1)
        print({
            'english': '"Good!"\n\nAfter accepting $Y\'s gold, $N hands over the $1.',
            'russian': '"Хорошо!"\n\nПриняв золото из рук персонажа $Y, $N передаёт предмет - $1.'
        })
        wait()

        print({
            'english': '\n\n',
            'russian': '\n\n'
        })
        jump label_2951

    else:
        print({
            'english': '"$1 cost too much for you, $Y!"',
            'russian': '"$1 - слишком дорого для вас, $Y!"'
        })
        wait()

        print({
            'english': '\n',
            'russian': '\n'
        })
        jump label_180
    fi

integers_3399 = [
    10, // 0
    10, // 1
    12, // 2
    12, // 3
    45, // 4
    20, // 5
    35, // 6
    7,  // 7
    40, // 8
    10, // 9
]

integers_3419 = [
    34, // 0
    38, // 1
    36, // 2
    37, // 3
    45, // 4
    6,  // 5
    18, // 6
    1,  // 7
    19, // 8
    28, // 9
    0,  // 10
]

strings_3441 = [
    {
        'english': 'Club',
        'russian': 'Дубина'
    }, // 0
    {
        'english': 'Dagger',
        'russian': 'Кинжал'
    }, // 1
    {
        'english': 'Spear',
        'russian': 'Копьё'
    }, // 2
    {
        'english': 'Throwing Axe',
        'russian': 'Метательный топор'
    }, // 3
    {
        'english': '2-Handed Axe',
        'russian': 'Двуручный топор'
    }, // 4
    {
        'english': 'Brass Helm',
        'russian': 'Медный шлем'
    }, // 5
    {
        'english': 'Leather Armour',
        'russian': 'Кожаная броня'
    }, // 6
    {
        'english': 'Leather Helm',
        'russian': 'Кожаный шлем'
    }, // 7
    {
        'english': 'Ring Mail',
        'russian': 'Доспехи'
    }, // 8
    {
        'english': 'Swamp Boots',
        'russian': 'Болотные сапоги'
    }, // 9
]

integers_3546 = [
    0, // 0
    0, // 1
    0, // 2
    0, // 3
    0, // 4
    0, // 5
    0, // 6
    0, // 7
    0, // 8
    0, // 9
    0, // 10
    0, // 11
    0, // 12
    0, // 13
    0, // 14
]

integers_3576 = [
    0, // 0
    0, // 1
    0, // 2
    0, // 3
    0, // 4
    0, // 5
    0, // 6
    0, // 7
]
