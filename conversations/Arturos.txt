source('CONVERSE.B')
index(39)

id(138)
name({
    'english': 'Arturos',
    'russian': 'Артурос'
})

description:
    print({
        'english': 'a colorfully clad, bemused looking gypsy.',
        'russian': 'красочно одетого, смущённого на вид цыгана.'
    })
    wait()

    print({
        'english': '\n',
        'russian': '\n'
    })

interaction:
    print({
        'english': '"Hey, paisan! If you were looking to geta your @fortune told, you came',
        'russian': '"Эй, земляк! Если вы хотели, чтобы вам @погадали, то вы пришли'
    })
    print({
        'english': ' to the right place."',
        'russian': ' по адресу".'
    })
    clearBit(byte 235, byte 7)

label_152:
    print({
        'english': '\n',
        'russian': '\n'
    })

    ask()

    case 'name':
    case {'russian': 'имя'}:
        print({
            'english': '"I\'ma called Arturos. That meansa either \'foolish monkey\' or \'he who ',
            'russian': '"Меня звать Артурос. Это имя означает либо \'глупая обезьяна\', либо \'тот, кто '
        })
        print({
            'english': 'sells cheese\', depending on howa you @translate it."',
            'russian': 'продаёт сыр\', в зависимости от того, как его @перевести".'
        })
        setBit(byte 235, value 0)
        jump label_152

    case 'fool':
    case {'russian': 'глуп'}:
    case 'monk':
    case {'russian': 'обез'}:
    case 'chee':
    case {'russian': 'сыр'}:
    case 'tran':
    case {'russian': 'пере'}:
        print({
            'english': '"Yeah, go figure, huh?"',
            'russian': '"Ага, поди разберись, да?"'
        })
        jump label_152

    case 'map':
    case {'russian': 'карт'}:
        if equals(hasObject(byte 235, word 402, byte 0), byte 0):
            print({
                'english': '"Yeah, I used to have a map like that. Can\'t remember what I did with ',
                'russian': '"Да, раньше у меня была такая карта. Не могу вспомнить, правда, что я с '
            })
            print({
                'english': 'it, though..."',
                'russian': 'ней сделал..."'
            })
            jump label_152
        fi

        print({
            'english': '"Map. Hmm, map... Oh yeah, thata old thing. Sure, I got that, but ',
            'russian': '"Карта. Хм, карта... Ах да, та старая вещь. Конечно, она у меня есть, но '
        })
        print({
            'english': 'she\'sa not very interesting."',
            'russian': 'она не очень интересная".'
        })
        jump label_3958

    case 'job':
    case {'russian': 'раб'}:
        print({
            'english': '"Ima the king of all the gypsies."\n*\n"Of course, thatsa what you call ',
            'russian': '"Я - король всех цыган".\n*\n"Конечно, это скорее '
        })
        print({
            'english': 'more of an \'honorary\' @title, so I tell @fortunes on the side."',
            'russian': '\'почётный\' @титул, так что заодно я ещё и @гадаю".'
        })
        jump label_152

    case 'hono':
    case {'russian': 'почё'}:
    case 'titl':
    case {'russian': 'титу'}:
    case 'king':
    case {'russian': 'коро'}:
    case 'gyps':
    case {'russian': 'цыга'}:
    case 'artu':
    case {'russian': 'арту'}:
        print({
            'english': '"You cana just call me \'@Uncle @Arthur\' if you like."',
            'russian': '"Вы можете называть меня просто \'@дядя @Артур\', если хотите".'
        })
        jump label_152

    case 'zolt':
    case {'russian': 'золт'}:
        print({
            'english': '"He\'s a whadda you call, an impostor. You shouldn\'ta listen to him."',
            'russian': '"Тот, кого вы назвали - самозванец. Вам не стоит его слушать".'
        })
        jump label_152

    case 'tell':
    case {'russian': 'пога'}:
    case 'fort':
    case {'russian': 'гада'}:
    case 'card':
    case {'russian': 'карт'}:
        jump label_1402

    case 'uncl':
    case {'russian': 'дядя'}:
    case 'arth':
    case {'russian': 'арту'}:
        print({
            'english': '"That\'sa nice and friendly. I like you too." He comes over and gives ',
            'russian': '"Как мило и дружелюбно. Вы мне тоже нравитесь". Он подходит и крепко '
        })
        print({
            'english': 'you a big hug.',
            'russian': 'вас обнимает.'
        })

        if less(objectsCount(byte 1, byte 88), byte 75):
            jump label_152
        fi

        destroyItem(byte 1, byte 88, byte 0, byte 75)
        createItem(byte 235, byte 88, byte 0, byte 75)
        setBit(byte 235, byte 7)
        jump label_152

    case 'bye':
    case {'russian': 'пока'}:
        print({
            'english': '"Hey, you come again soon, okay?"',
            'russian': '"Эй, возвращайтесь сюда поскорее, хорошо?"'
        })

        if and(hasBit(byte 235, byte 7), partyHas(byte 3)):
            wait()

            portrait(byte 3)
            print({
                'english': '\n\nShamino whispers to you, "Best check your coinpouch. I think I saw ',
                'russian': '\n\nШамино вам шепчет: "Лучше проверь свой кошелёк. Мне кажется, я что-то '
            })
            print({
                'english': 'something when that gypsy hugged you."',
                'russian': 'увидел, когда тот цыган обнял тебя".'
            })
        fi

        print({
            'english': '\n',
            'russian': '\n'
        })
        bye()

    case 'silv':
    case {'russian': 'сере'}:
    case 'tabl':
    case {'russian': 'табл'}:
        print({
            'english': '"The silver tablet? I don\'t know anything about that."',
            'russian': '"Серебряная табличка? Я ничего о ней не знаю".'
        })
        wait()

        print({
            'english': '\n\n"But hey, maybe there\'s something in the @cards about it, ah?"',
            'russian': '\n\n"Но, эй, может, об этом что-то смогут поведать @карты, а?"'
        })
        setBit(byte 235, byte 6)
        jump label_152

    case '*':
        print({
            'english': '"Can\'ta you think of something more interesting to talk about?"',
            'russian': '"А вы не могли бы придумать что-нибудь более интересное для разговора?"'
        })
    esac

    jump label_152

label_1402:
    print({
        'english': '"I gota this fine set of fortune telling cards. These werea hand ',
        'russian': '"Мне достался этот прекрасный набор гадальных карт. Их '
    })
    print({
        'english': 'painted by Musgrave himself."',
        'russian': 'расписал сам Масгрейв".'
    })
    wait()

    print({
        'english': '\n\n"For justa two gold, ',
        'russian': '\n\n"Всего за два золотых, '
    })

    if hasBit(byte 235, byte 6):
        print({
            'english': 'maybe I can help you finda this silver tablet."',
            'russian': 'возможно, я смогу помочь вам найти эту серебряную табличку".'
        })
        wait()

        print({
            'english': '\n\n"And I\'ll tell you the rest of your future as well. What a bargain! ',
            'russian': '\n\n"А также, я расскажу вам о вашем будущем. Очень выгодная сделка! '
        })
        print({
            'english': 'Whadda you say?" ',
            'russian': 'Что скажете?" '
        })

    else:
        print({
            'english': 'I\'ll tella you your future. Whadda you say?" ',
            'russian': 'я предскажу вам ваше будущее. Что скажете?" '
        })
    fi

    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'n':
    case {'russian': 'н'}:
        print({
            'english': '"Ok, have it your way."',
            'russian': '"Хорошо, будь по-вашему".'
        })
        wait()

        print({
            'english': '\n\n"But ifa some maniac with an axe catches you in a dark alley ',
            'russian': '\n\n"Но если какой-нибудь маньяк с топором поймает вас где-нибудь в тёмном '
        })
        print({
            'english': 'somewhere, don\'ta blame me for not warning you."',
            'russian': 'переулке, не вините меня за то, что я вас не предупредил".'
        })
        jump label_152

    case 'y':
    case {'russian': 'д'}:
        if less(objectsCount(byte 1, byte 88), byte 2):
            print({
                'english': '"Come back whena you have the money."',
                'russian': '"Возвращайтесь, когда у вас будут деньги".'
            })
            jump label_152
        fi

        destroyItem(byte 1, byte 88, byte 0, byte 2)
        createItem(byte 235, byte 88, byte 0, byte 2)
        print({
            'english': 'He takes out a deck of cards, shuffles it, and has you pick one.',
            'russian': 'Он достаёт колоду карт, тасует её и предлагает вам выбрать одну.'
        })
    esac

    wait()

    print({
        'english': '\n"Okay, thisa card, she\'sa the Tower. That means you\'rea going to go ',
        'russian': '\n"Хорошо, эта карта - Башня. Она означает, что скоро вы попадёте '
    })
    print({
        'english': 'into a real big building soon, like maybe a castle."',
        'russian': 'в очень большое здание, возможно, в замок".'
    })
    wait()

    print({
        'english': '\n\n"Pretty good, huh? Maybe you want a better card, though. Do you want',
        'russian': '\n\n"Неплохо, да? Может быть, вам нужна карта получше? Хотите'
    })
    print({
        'english': ' to pick again?" ',
        'russian': ' выбрать ещё раз?" '
    })

    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'n':
    case {'russian': 'н'}:
        print({
            'english': '"Okay."',
            'russian': '"Хорошо".'
        })
        jump label_152

    case 'y':
    case {'russian': 'д'}:
        integer(value 0) = byte 1
    esac

    print({
        'english': 'You pick another card. "This here isa the Wheel of Fortune."',
        'russian': 'Вы выбираете другую карту. "Это - Колесо фортуны".'
    })
    wait()

    print({
        'english': '\n\n"Wheels, they go \'round and \'round, so that means you\'rea gonna have',
        'russian': '\n\n"Колёса, они крутятся и крутятся, что означает, что вам будут'
    })
    print({
        'english': ' some good luck, and some bad luck."',
        'russian': ' сопутствовать как удача, так и неудача".'
    })
    wait()

    print({
        'english': '\n\n"That doesn\'t tell you so much. Try for another card?" ',
        'russian': '\n\n"Но она мало что может вам сказать. Попробуете взять другую карту?" '
    })

    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'n':
    case {'russian': 'н'}:
        jump label_3560

    case 'y':
    case {'russian': 'д'}:
        integer(value 0) = byte 2
    esac

    print({
        'english': '"Oh, hey, you picked the Lovers this time. I thinka maybe you should ',
        'russian': '"О, эй, на этот раз вы выбрали Любовников". Я думаю, вам стоит '
    })
    print({
        'english': 'go talk to ',
        'russian': 'поговорить с '
    })

    if integer(value 16):
        print({
            'english': 'Andreas',
            'russian': 'Андреасом'
        })

    else:
        print({
            'english': 'Wanda',
            'russian': 'Вандой'
        })
    fi

    print({
        'english': ', you know what I mean?"',
        'russian': ', понимаете, о чём я?"'
    })
    wait()

    print({
        'english': '\n\n"That\'sa pretty good card. How about another one?" ',
        'russian': '\n\n"Это очень хорошая карта. Как насчёт ещё одной?" '
    })

    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'n':
    case {'russian': 'н'}:
        jump label_3560

    case 'y':
    case {'russian': 'д'}:
        integer(value 0) = byte 5
    esac

    print({
        'english': '"This here\'s Temperance. Thata means that you shouldn\'t lose your ',
        'russian': '"Эта карта - Умеренность. Она означает, что вам не следует выходить '
    })
    print({
        'english': 'temper."\n*\n"I cana find you a better card than that, here, wait a ',
        'russian': 'из себя".\n*\n"Я могу найти для вас карту получше, один момент, '
    })
    print({
        'english': 'minute."',
        'russian': 'подождите".'
    })
    wait()

    print({
        'english': '\n\nHe picks out a card. "This is Justice, that\'sa one of what they call',
        'russian': '\n\nОн достаёт карту. "Это - Правосудие, одна из так называемых \'карт'
    })
    print({
        'english': ' the \'court cards.\' Let me try again." He picks another.',
        'russian': ' страшного суда\'. Давайте я попробую ещё раз". Он выбирает другую.'
    })
    wait()

    print({
        'english': '\n\n"Okay, this isa better. This is the Hierophant. That\'sa like an ',
        'russian': '\n\n"Хорошо, вот эта получше. Это - Иерофант. Он как '
    })
    print({
        'english': 'elephant, but taller and without the trunk."',
        'russian': 'некромант, но не такой мрачный и дружит с живыми".'
    })
    wait()

    print({
        'english': '\n\n"That means you\'rea gonna see one of them someday. Pretty ',
        'russian': '\n\n"Она означает, что однажды вы увидите одного из них. Довольно '
    })
    print({
        'english': 'interesting, huh? Another card?" ',
        'russian': 'интересно, да? Ещё карту?" '
    })

    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'n':
    case {'russian': 'н'}:
        jump label_3560
    esac

    integer(value 0) = byte 6
    print({
        'english': '\n"Uh-oh, you justa drew the Death card. That means eithera you\'re ',
        'russian': '\n"О-о, вы только что вытащили карту Смерти. Она означает, что либо вы '
    })
    print({
        'english': 'going to kill somebody soon, ora somebody\'s gonna kill you."',
        'russian': 'скоро кого-нибудь убьёте, либо кто-то убьет вас".'
    })
    wait()

    print({
        'english': '"I can never geta that part straight. One more card?" ',
        'russian': '"Я никак не могу её правильно понять. Ещё одну карту?" '
    })

    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'n':
    case {'russian': 'н'}:
        jump label_3560
    esac

    integer(value 0) = byte 7
    print({
        'english': '\n"Allaright, now we\'re talking. You pickeda the Crow card. That\'sa ',
        'russian': '\n"Отлично, вот это другой разговор. Вы выбрали карту - Ворон. Она '
    })
    print({
        'english': 'telling you adventuring isa for the birds."',
        'russian': 'говорит о том, что приключения - занятие для птиц".'
    })
    wait()

    print({
        'english': '\n\n"You should open a little shop somewhere and settle down, you know?"',
        'russian': '\n\n"Вам стоит открыть где-нибудь маленький магазинчик и осесть там, понимаете?"'
    })
    wait()

    print({
        'english': '\n',
        'russian': '\n'
    })

label_3560:
    integer(value 1) = multiply(integer(value 0), byte 5)

    if hasBit(byte 235, byte 6):
        print({
            'english': '\n"The cards didn\'t say nothin\' about the silver tablet. Guess that ',
            'russian': '\n"В картах ничего не говорилось о серебряной табличке. Полагаю, это '
        })
        print({
            'english': 'means you\'re not gonna find it."',
            'russian': 'означает, что вы её не найдёте.""'
        })
        wait()

        print({
            'english': '\n\n"That\'s life, you know?"',
            'russian': '\n\n"Такова жизнь, понимаете?"'
        })
        clearBit(byte 235, byte 6)
        wait()

        print({
            'english': '\n',
            'russian': '\n'
        })
    fi

    print({
        'english': '\n"Okay, that\'sa #0 extra cards at 5 gold apiece. That makes #1 total."',
        'russian': '\n"Хорошо, каждая из дополнительных карт стоит 5 золотых, вы выбрали #0. Итого, вам нужно заплатить - #1 монет."'
    })
    wait()

    print({
        'english': '\n\n',
        'russian': '\n\n'
    })

    if less(objectsCount(byte 1, byte 88), integer(value 1)):
        print({
            'english': '"Since you don\'ta have that much, I\'ll just settle for what you\'ve ',
            'russian': '"Раз у вас столько нет, я удовлетворюсь тем, что '
        })
        print({
            'english': 'got."',
            'russian': 'есть".'
        })
        wait()

        print({
            'english': '\n\n',
            'russian': '\n\n'
        })
        integer(value 1) = objectsCount(byte 1, byte 88)
    fi

    destroyItem(byte 1, byte 88, byte 0, integer(value 1))
    createItem(byte 235, byte 88, byte 0, integer(value 1))
    print({
        'english': '"It was a pleasure doinga business with you."',
        'russian': '"Было приятно иметь с вами дело".'
    })
    jump label_152

label_3958:
    wait()

    print({
        'english': '\n\n"Say--do you want to buy it?" ',
        'russian': '\n\n"Скажите, а вы не хотели бы её приобрести?" '
    })

    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'n':
    case {'russian': 'н'}:
        print({
            'english': '"Nah, I didn\'t think so. What for would anybody want to buy it, ah?"',
            'russian': '"Нет, я так не думал. Зачем вообще кому-то её покупать, а?"'
        })
        jump label_152

    case 'y':
    case {'russian': 'д'}:
        print({
            'english': '"Oh! Well, sure you do, she\'s a very important map!"',
            'russian': '"О! Ну конечно же вы хотите, это очень важная карта!"'
        })

        if integer(value 23):
            wait()

            print({
                'english': '\n\nHe leads you away from the rest of the group. "Don\'t want no spyin\' ',
                'russian': '\n\nОн уводит вас в сторону от остальной группы. "Нам ведь не нужны лишние '
            })
            print({
                'english': 'ears, ah?"',
                'russian': 'уши, а?"'
            })
        fi
    esac

    wait()

    print({
        'english': '\n\n"Yeah, this map, she\'sa leading to the treasure of - oh, who was it,',
        'russian': '\n\n"Итак, эта карта, она ведет к сокровищам... Ох, как там его,'
    })
    print({
        'english': ' Yellowbeard or somebody."',
        'russian': ' Жёлтоборода или кого-то ещё".'
    })
    wait()

    print({
        'english': '\n\n"Well, I forget, but the point is it leads to a big, huge treasure!"',
        'russian': '\n\n"Ну, я забыл, но суть в том, что она ведет к большим, огромным сокровищам!"'
    })
    wait()

    print({
        'english': '\n\n"So if you want this map you\'re agonna have to pay - 100 gold! ',
        'russian': '\n\n"Так что, если вы хотите получить эту карту, вам придётся заплатить за неё 100 золотых! '
    })
    print({
        'english': 'Okay?" ',
        'russian': 'По рукам?" '
    })
    integer(value 0) = byte 100

label_4460:
    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'n':
    case {'russian': 'н'}:
        if equals(integer(value 0), byte 50):
            print({
                'english': '"Thank you! You have asaved me from amaking a big mistake!"',
                'russian': '"Спасибо! Вы спасли меня от совершения большой ошибки!"'
            })
            wait()

            print({
                'english': '\n\n"You\'re right, I better hold on to this valuable map myself. No way ',
                'russian': '\n\n"Вы правы, я лучше сам сохраню эту ценную карту. Она ни '
            })
            print({
                'english': 'is it worth less than 100 gold."',
                'russian': 'в коем случае не может стоить меньше 100 золотых".'
            })
            jump label_152
        fi

        if equals(integer(value 0), byte 75):
            print({
                'english': '"What, are you nuts? But okay, how\'sabout just 50 gold?" ',
                'russian': '"Вы что, спятили? Но ладно, как насчет всего лишь 50 золотых?" '
            })
            integer(value 0) = byte 50
            jump label_4460
        fi

        print({
            'english': '"Well, I hate to see anybody pass up good fortune, so I tell you what ',
            'russian': '"Что ж, мне неприятно видеть, как кто-то упускает удачу, поэтому вот что я '
        })
        print({
            'english': 'I do."',
            'russian': 'вам скажу":'
        })
        wait()

        print({
            'english': '\n\n"I sell you this map, this key to infinite wealth, for just 75 gold.',
            'russian': '\n\n"Я продам вам эту карту, этот ключ к бесконечному богатству, всего за 75 золотых.'
        })
        print({
            'english': ' Okay?" ',
            'russian': ' По рукам?" '
        })
        integer(value 0) = byte 75
        jump label_4460

    case 'y':
    case {'russian': 'д'}:
        if less(objectsCount(byte 1, byte 88), integer(value 0)):
            print({
                'english': '"Hey, what are you, a deadbeat? Come back when you can afford the ',
                'russian': '"Эй, вы что, бездельник? Возвращайтесь, когда сможете позволить себе эту '
            })
            print({
                'english': 'map!"',
                'russian': 'карту!"'
            })
            jump label_152
        fi

        destroyItem(byte 1, byte 88, byte 0, integer(value 0))

        if less(canCarry(byte 1), weight(word 402, byte 1)):
            print({
                'english': '"Yeah, well, you\'ve got a lot to carry right now."',
                'russian': '"Ага, ну, у вас и без того много на себе груза".'
            })
            wait()

            print({
                'english': '\n\n"I do you a favor and just hold on to the map for you until you got ',
                'russian': '\n\n"Я окажу вам услугу и просто попридержу у себя карту, пока у вас не освободится '
            })
            print({
                'english': 'room for it."',
                'russian': 'для неё место".'
            })
            wait()

            print({
                'english': '\n\n"I do you another favor and hold on to the money, too."',
                'russian': '\n\n"И я окажу вам ещё одну услугу и попридержу у себя ещё и деньги".'
            })
            jump label_152
        fi

        print({
            'english': '"Okay, here\'s the map, and may fortune bring you lotsa gold!"',
            'russian': '"Хорошо, вот карта, и пусть удача принесёт вам море золота!"'
        })
        moveItem(word 402, byte 0, byte 235, byte 1)
        jump label_152
    esac
