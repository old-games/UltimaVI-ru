source('CONVERSE.B')
index(102)

id(201)
name({
    'english': 'Wisp',
    'russian': 'Огонёк'
})

description:
    print({
        'english': 'a strange, glowing ball of energy.\n*',
        'russian': 'странный, светящийся энергетический шар.\n*'
    })

interaction:
    if hasBit(byte 201, byte 6):
        jump label_80
    fi

    if and(hasBit(byte 201, byte 7), notEquals(partyHasObject(byte 151, byte 77), word 32769)):
        jump label_3486
    fi

label_80:
    setBit(byte 201, value 0)
    print({
        'english': '"Again, \'@you\' of this plane address \'I\' of the Xorinite dimension."\n*',
        'russian': '"И снова \'@вы\' из этого плана обращаетесь ко \'мне\' из измерения Ксоринит".\n*'
    })
    print({
        'english': '\n"By what name do \'you\' wish to be addressed at this time?"\n',
        'russian': '\n"Каким именем \'вы\' хотели бы, чтобы к вам обращались в данный момент?"\n'
    })

    ask()
    string(value 9) = string(value 35)
    print({
        'english': '\n"Very well, \'$9.\' Do \'you\' have memory of previous discussions with ',
        'russian': '\n"Очень хорошо, \'$9\'. Помните ли \'вы\' о предыдущих беседах со '
    })
    print({
        'english': '\'myself?\'" ',
        'russian': '\'мной\'?" '
    })

    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'y':
    case {'russian': 'д'}:
        print({
            'english': '"Good. Tedious repetition should then be unnecessary on this occasion.',
            'russian': '"Хорошо. Тогда в данном случае не нужно утомительных повторений.'
        })
        print({
            'english': ' Of what would \'you\' speak?"',
            'russian': ' О чем вы \'вы\' хотите поговорить?"'
        })
        jump label_1044
    esac

    print({
        'english': '\n"So be it. \'I\' must often repeat information when conversing with the',
        'russian': '\n"Пусть будет так. Похоже, \'мне\' приходится часто повторять информацию, когда мы беседуем о'
    })
    print({
        'english': ' life of Britannia, it seems."\n*\n"\'I\' do not see how each unit of life',
        'russian': ' жизни Британии".\n*\n"\'Я\' не понимаю, как у каждой живущей здесь единицы'
    })
    print({
        'english': ' here can have different memories, different desires, but again \'I\' ',
        'russian': ' могут быть разные воспоминания, разные желания, но опять же \'я\' '
    })
    print({
        'english': 'inform Britannia that it is not so in \'my\' realm."\n*\n"Those which ',
        'russian': 'сообщаю Британии, что в \'моём\' измерении это не так".\n*\n"Те, кого '
    })
    print({
        'english': '\'you\' know as \'wisp\' in Britannia are projections of the life of ',
        'russian': '\'вы\' в Британии знаете как \'Огоньки\', являются проекциями жизни '
    })
    print({
        'english': 'Xorinia."\n*\n"\'I\' extend into many planes beside this one."\n*\n',
        'russian': 'Ксоринии".\n*\n"\'Я\' распространяюсь на многие планы, помимо этого".\n*\n'
    })
    print({
        'english': '"Britannia communicates with \'me\' very seldom, and is known by those ',
        'russian': '"Британия общается со \'мной\' очень редко, и её знают '
    })
    print({
        'english': 'of very few other planes."\n*\n"Every time \'I\' speak with Britannia, it ',
        'russian': 'очень немногие представители других планов".\n*\n"Каждый раз, когда \'я\' говорю с Британией, кажется, '
    })
    print({
        'english': 'seems \'I\' must explain \'my\' nature again, as \'I\' have just done."\n*\n',
        'russian': 'что \'я\' должен снова объяснять \'свою\' природу, как \'я\' только что это сделал".\n*\n'
    })
    print({
        'english': '"That is very strange."',
        'russian': '"Это очень странно".'
    })

label_1044:
    print({
        'english': '\n',
        'russian': '\n'
    })

    ask()

    case 'name':
    case {'russian': 'имя'}:
        print({
            'english': '"The concept of \'name\' is one \'I\' still do not grasp."\n*\n"\'I\' believe ',
            'russian': '"Понятие \'имя\' - это то, чего \'я\' до сих пор не понимаю".\n*\n"\'Я\' полагаю, '
        })
        print({
            'english': 'that when \'you\' ask \'me\' to use \'$9\' as a form of address, it has ',
            'russian': 'что когда \'вы\' просите \'меня\' использовать \'$9\' в качестве формы обращения, это '
        })
        print({
            'english': 'something to do with \'name.\'"\n*\n"When Britannia addressed me with the ',
            'russian': 'как-то связано с \'именем\'".\n*\n"Когда Британия обратилась ко мне по '
        })
        print({
            'english': 'name \'@Zog,\' an attempt was made to explain."*\n"But still \'I\' do not ',
            'russian': 'имени \'@Зог\', была предпринята попытка объяснить это".*\n"Но я всё равно не '
        })
        print({
            'english': 'understand."',
            'russian': 'понимаю".'
        })
        jump label_1044

    case 'you':
    case {'russian': 'вы'}:
        print({
            'english': '"\'I\' and \'you\' are words that seem to have no meaning."\n*\n"\'I\' mimic ',
            'russian': '"\'Я\' и \'ты\' - это слова, которые, кажется, не имеют никакого значения".\n*\n"\'Я\' из '
        })
        print({
            'english': 'the way \'you\' use them in this language out of courtesy."',
            'russian': 'вежливости имитирую то, как \'вы\' используете эти слова в этом языке".'
        })
        jump label_1044

    case 'job':
    case {'russian': 'раб'}:
        print({
            'english': '"Xorinia serves as a conduit for @information between different ',
            'russian': '"Ксориния служит каналом передачи @информации между различными '
        })
        print({
            'english': 'planes."\n*\n"In exchange, these planes provide information that can be ',
            'russian': 'планами".\n*\n"Взамен эти планы предоставляют информацию, которая может быть '
        })
        print({
            'english': 'used to improve Xorinia."\n*\n"Occasionally payment is accepted in the ',
            'russian': 'использована для улучшения Ксоринии".\n*\n"Иногда оплата принимается в '
        })
        print({
            'english': 'form of @substance, but this is not preferred."',
            'russian': '@материальной форме, но это нежелательно".'
        })
        jump label_1044

    case 'cond':
    case {'russian': 'кана'}:
    case 'info':
    case {'russian': 'инфо'}:
    case 'exch':
    case {'russian': 'взам'}:
        print({
            'english': '"Britannia has never participated in the interplanar exchange of ',
            'russian': '"Британия никогда не участвовала в межплановом обмене '
        })
        print({
            'english': 'information."\n*\n"\'I\' have presented a sample known in Britannian terms',
            'russian': 'информацией".\n*\n"\'Я\' представил образец, известный в Британии'
        })
        print({
            'english': ' as a \'@secret\', but no further interest has been shown."',
            'russian': ' как \'@секретный\', но больше никто не проявил к нему интереса".'
        })
        jump label_1044

    case 'subs':
    case {'russian': 'мате'}:
        print({
            'english': '"Actual physical materials are so plentiful throughout the multiverse ',
            'russian': '"Фактические физические материалы настолько многочисленны во всей Мультивселенной, '
        })
        print({
            'english': 'that they are of little value."\n*\n"Information has much greater ',
            'russian': 'что их ценность невелика".\n*\n"Информация имеет гораздо большую '
        })
        print({
            'english': 'worth."',
            'russian': 'ценность".'
        })
        jump label_1044

    case 'paym':
    case {'russian': 'опла'}:
    case 'inte':
    case {'russian': 'инте'}:
        print({
            'english': '"If \'you\' present a reasonably dense information source to a \'wisp\' ',
            'russian': '"Если \'вы\' предоставите единице \'огонёк\' достаточно полный источник '
        })
        print({
            'english': 'unit, arrangements will be made to transfer some suitably valuable ',
            'russian': 'информации, будут приняты меры для передачи некоторого достаточно ценного '
        })
        print({
            'english': 'commodity into Britannian possession."',
            'russian': 'товара во владение Британии".'
        })
        setBit(byte 201, byte 7)
        jump label_1044

    case 'secr':
    case {'russian': 'секр'}:
        print({
            'english': '"Because of the nature of Britannian memory, \'I\' now present the ',
            'russian': '"Из-за особенностей британской памяти, \'я\' сейчас снова '
        })
        print({
            'english': 'sample information to \'you\' again."\n*\nThe wisp pulsates, fading from ',
            'russian': 'представляю \'вам\' образец информации".\n*\nОгонёк пульсирует, меняя цвет '
        })
        print({
            'english': 'blue to white, then back to blue again.\n*\nAs it does so, a scroll ',
            'russian': 'с синего на белый, а затем снова на синий.\n*\nВ этот момент в вашей '
        })
        print({
            'english': 'materializes in your hand.\n',
            'russian': 'руке материализуется свиток.\n'
        })
        createItem(byte 1, byte 58, byte 112, byte 1)
        wait()

        setBit(byte 201, byte 3)
        print({
            'english': '\n"This is a simple invocation of magic energy to bring about the ',
            'russian': '\n"Это простое призывание магической энергии, чтобы вызвать '
        })
        print({
            'english': 'cessation of all life."\n*\n"It is not a very useful or powerful form of',
            'russian': 'прекращение всей жизни".\n*\n"Это не очень полезная или мощная форма'
        })
        print({
            'english': ' magic, as it will only affect beings in the same plane where it is ',
            'russian': ' магии, поскольку она воздействует только на существ, находящихся на том же плане, где она была '
        })
        print({
            'english': 'invoked."\n*\n"Inform any \'wisp\' unit if \'you\' have @interest in further',
            'russian': 'вызвана".\n*\n"Сообщите любому \'огоньку\', если \'вы\' за@интересованы в дальнейшем'
        })
        print({
            'english': ' exchange.',
            'russian': ' обмене".'
        })
        jump label_1044

    case 'zog':
    case {'russian': 'зог'}:
        print({
            'english': '"Once when \'I\' offered sample information to Britannia, the name \'Zog\'',
            'russian': '"Однажды, когда \'я\' предложил Британии образец информации, единица жизни,'
        })
        print({
            'english': ' was given by the life unit that received it."\n*\n"No further contact ',
            'russian': ' которая её получила, назвала его \'Зог\'".\n*\n"В течение некоторого '
        })
        print({
            'english': 'with Britannia was obtainable for some time after this."\n*\n"Perhaps ',
            'russian': 'времени после этого с Британией больше нельзя было связаться".\n*\n"Возможно, '
        })
        print({
            'english': 'misuse of the sample information was responsible."',
            'russian': 'причиной стало неправильное использование образца информации".'
        })
        jump label_1044

    case 'bye':
    case {'russian': 'пока'}:
        print({
            'english': '"\'I\' find it unusual that \'you\' find it so important to inform \'me\' of',
            'russian': '"\'Я\' нахожу необычным, что \'вы\' считаете столь важным сообщить \'мне\' о'
        })
        print({
            'english': ' the imminent cessation of proximity between one unit of Britannian ',
            'russian': ' скором прекращении коммуникации между одной единицей жизни Британии '
        })
        print({
            'english': 'life and one of Xorinite."\n*\n"Nonetheless, in accordance with \'your\' ',
            'russian': 'и одной единицей из Ксоринит".\n*\n"Тем не менее, в соответствии с \'вашими\' '
        })
        print({
            'english': 'custom:\nGoodbye, \'$9.\'"\n',
            'russian': 'обычаями:\nПрощайте, \'$9\'".\n'
        })
        bye()

    case '*':
        print({
            'english': '"The vagaries of the language \'you\' speak are quite beyond \'me.\'"\n*\n',
            'russian': '"Причуды языка, на котором \'вы\' говорите, мне совершенно непонятны".\n*\n'
        })
        print({
            'english': '"Perhaps another line of inquiry would prove more \'fruitful.\'"',
            'russian': '"Возможно, другое направление исследований оказалось бы более \'плодотворным\'".'
        })
    esac

    jump label_1044

label_3486:
    print({
        'english': '"The volume \'you\' bear with the symbol pattern representing the sounds',
        'russian': '"Том с символическим рисунком, представляющим звук \'Книга утраченных'
    })
    print({
        'english': ' \'The Book of Lost Mantras\' is a prime source of high density ',
        'russian': ' мантр\', который \'вы\' с собой носите, является первоклассным '
    })
    print({
        'english': 'information."\n*\n"Do \'you\' wish to \'me\' to locate a client who is ',
        'russian': 'источником информации".\n*\n"Не хотите ли \'вы\', чтобы \'я\' нашёл клиента, '
    })
    print({
        'english': 'willing to make an exchange for it at this time?" ',
        'russian': 'который согласился бы обменять его в данный момент?" '
    })

    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'n':
    case {'russian': 'н'}:
        print({
            'english': '"The ways of Britannia are strange indeed."',
            'russian': '"В Британии действительно странные порядки".'
        })
        jump label_1044
    esac

    setBit(byte 201, byte 6)
    print({
        'english': '\nFor a few moments, the wisp pulses, saying nothing.\n*\n"It is done," ',
        'russian': '\nНесколько мгновений огонёк пульсирует, ничего не говоря.\n*\n"Дело сделано", - '
    })
    print({
        'english': 'the wisp says at last, "Rklbwm have expressed desire to possess this ',
        'russian': 'наконец произносит огонёк. - "Рклбвм выразили желание получить эту '
    })
    print({
        'english': 'information."\n*\n"Hoping, no doubt, for a bargain, Rklbwm have offered ',
        'russian': 'информацию".\n*\n"Без сомнения, надеясь на выгодную сделку, Рклбвм предложил '
    })
    print({
        'english': 'a small quantity of the substance \'gold\' in lieu of the customary ',
        'russian': 'небольшое количество вещества \'золото\' вместо обычной '
    })
    print({
        'english': 'useful information."\n*\n"But surely \'you\' wish \'me\' to arrange for ',
        'russian': 'полезной информации".\n*\n"Но, конечно же, \'вы\' хотите, чтобы \'я\' организовал '
    })
    print({
        'english': 'Rklbwm to provide information of value to \'you.\'"\n*\n"Am \'I\' correct to',
        'russian': 'предоставление Рклбвм информации, представляющей ценность для \'вас\'".\n*\n"Правильно ли \'я\''
    })
    print({
        'english': ' assume this?" ',
        'russian': ' вас понимаю?" '
    })

    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'y':
    case {'russian': 'д'}:
        print({
            'english': '"Then so be it. Here is useful information from the Rklbwm:"*\n\n\'If a ',
            'russian': '"Значит, так тому и быть. Вот полезная информация от Рклбвм:"*\n\n\\'Если '
        })
        print({
            'english': 'substance with a partially reflective surface is positioned so that ',
            'russian': 'вещество с частично отражающей поверхностью расположить таким образом, '
        })
        print({
            'english': 'its third index of refraction matches the wavelength coefficient of ',
            'russian': 'чтобы его третий показатель преломления соответствовал коэффициенту '
        })
        print({
            'english': 'the output of a polarized light source, and the resulting beam is ',
            'russian': 'длины волны излучения источника поляризованного света, а результирующий '
        })
        print({
            'english': 'focused on an ionized crystal suspended in a unipolar magnetic field, ',
            'russian': 'луч сфокусировать на ионизированном кристалле, находящемся в однополярном '
        })
        print({
            'english': 'matter can be converted into useful electromagnetic radiation at an ',
            'russian': 'магнитном поле, то вещество может быть преобразовано в полезное '
        })
        print({
            'english': 'efficiency rate of 96 to 98 percent, depending on the desired output ',
            'russian': 'электромагнитное излучение с эффективностью от 96 до 98 процентов, в '
        })
        print({
            'english': 'frequency.\'*\n\n"It was a pleasure doing business with you."\n',
            'russian': 'зависимости от желаемой выходной частоты\'.*\n\n"Было приятно иметь с вами дело".\n'
        })
        bye()
    esac

    case 'n':
    case {'russian': 'н'}:
        print({
            'english': '"Very well."\n*\n"\'You\' have not sent enough life units to transport ',
            'russian': '"Хорошо".\n*\n"\'Вы\' отправили недостаточно единиц жизни для транспортировки '
        })
        print({
            'english': 'much substance, but it is \'your\' decision to make."\n*\nThe wisp glows ',
            'russian': 'большого количества вещества, но это \'ваше\' решение".\n*\nОгонёк на '
        })
        print({
            'english': 'just a trifle brighter for a moment, and suddenly everyone notices ',
            'russian': 'мгновение засветился чуть ярче, и внезапно все заметили, что их '
        })
        print({
            'english': 'that their packs have grown heavier.\n*\n"It was a pleasure doing ',
            'russian': 'рюкзаки стали тяжелее.\n*\n"Было приятно иметь '
        })
        print({
            'english': 'business with you."\n',
            'russian': 'с вами дело".\n'
        })
        integer(value 0) = byte 0

label_5062:
        integer(value 1) = character(integer(value 0), byte 0)

        if equals(integer(value 1), byte 0):
            jump label_5160
        fi

        if less(canCarry(integer(value 1)), weight(byte 89, byte 1)):
            jump label_5160
        fi

        integer(value 2) = divide(canCarry(integer(value 1)), weight(byte 89, byte 1))

        if greater(integer(value 2), word 255):
            integer(value 2) = word 255
        fi

        createItem(integer(value 1), byte 89, byte 0, integer(value 2))

        if equals(integer(value 2), word 255):
            jump label_5062
        fi

label_5160:
        integer(value 0) = plus(integer(value 0), byte 1)

        if lessOrEquals(integer(value 0), integer(value 23)):
            jump label_5062
        fi

        bye()
    esac

    // Unreachable code!
    bye()
