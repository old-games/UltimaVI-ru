source('CONVERSE.B')
index(88)

id(187)
name({
    'english': 'Linda',
    'russian': 'FIXME Linda'
})

description:
    print({
        'english': 'a rugged looking lady farmer.\n*',
        'russian': 'FIXME a rugged looking lady farmer.\n*'
    })

interaction:
    print({
        'english': '"Welcome, friend."',
        'russian': 'FIXME "Welcome, friend."'
    })

label_58:
    print({
        'english': '\n',
        'russian': 'FIXME \n'
    })

    ask()

    case {'english': 'name'}:
    case {'russian': 'FIXME name'}:
        setBit(byte 235, value 0)
        print({
            'english': '"My name is Linda."',
            'russian': 'FIXME "My name is Linda."'
        })
        jump label_58

    case {'english': 'job'}:
    case {'russian': 'FIXME job'}:
        print({
            'english': '"I raise @crops. If you\'d like to buy some @grain, just say the ',
            'russian': 'FIXME "I raise @crops. If you\'d like to buy some @grain, just say the '
        })
        print({
            'english': '@word."',
            'russian': 'FIXME @word."'
        })
        jump label_58

    case {'english': 'rais'}:
    case {'russian': 'FIXME rais'}:
    case {'english': 'crop'}:
    case {'russian': 'FIXME crop'}:
        print({
            'english': '"@Bread, cakes, pies, pastries... They all have their @roots here."',
            'russian': 'FIXME "@Bread, cakes, pies, pastries... They all have their @roots here."'
        })
        jump label_58

    case {'english': 'brea'}:
    case {'russian': 'FIXME brea'}:
    case {'english': 'cake'}:
    case {'russian': 'FIXME cake'}:
    case {'english': 'pie'}:
    case {'russian': 'FIXME pie'}:
    case {'english': 'past'}:
    case {'russian': 'FIXME past'}:
        print({
            'english': '"@Woman does not live on @meat alone."',
            'russian': 'FIXME "@Woman does not live on @meat alone."'
        })
        jump label_58

    case {'english': 'meat'}:
    case {'russian': 'FIXME meat'}:
        print({
            'english': '"Cows and @sheep are much more trouble to raise than @wheat."',
            'russian': 'FIXME "Cows and @sheep are much more trouble to raise than @wheat."'
        })
        jump label_58

    case {'english': 'cow'}:
    case {'russian': 'FIXME cow'}:
    case {'english': 'shee'}:
    case {'russian': 'FIXME shee'}:
        print({
            'english': '"They have their place. But not on my farm."',
            'russian': 'FIXME "They have their place. But not on my farm."'
        })
        jump label_58

    case {'english': 'root'}:
    case {'russian': 'FIXME root'}:
    case {'english': 'rais'}:
    case {'russian': 'FIXME rais'}:
    case {'english': 'whea'}:
    case {'russian': 'FIXME whea'}:
    case {'english': 'farm'}:
    case {'russian': 'FIXME farm'}:
        print({
            'english': '"I was born to work the earth. It was either this, or be a ',
            'russian': 'FIXME "I was born to work the earth. It was either this, or be a '
        })
        print({
            'english': '@gravedigger..."',
            'russian': 'FIXME @gravedigger..."'
        })
        jump label_58

    case {'english': 'grav'}:
    case {'russian': 'FIXME grav'}:
        print({
            'english': '"That\'s not my kind of work."',
            'russian': 'FIXME "That\'s not my kind of work."'
        })
        jump label_58

    case {'english': 'woma'}:
    case {'russian': 'FIXME woma'}:
        print({
            'english': '"Yes, men need to eat too, I suppose."',
            'russian': 'FIXME "Yes, men need to eat too, I suppose."'
        })
        jump label_58

    case {'english': 'word'}:
    case {'russian': 'FIXME word'}:
        print({
            'english': '"The word \'@grain,\' silly!"',
            'russian': 'FIXME "The word \'@grain,\' silly!"'
        })
        jump label_58

    case {'english': 'buy'}:
    case {'russian': 'FIXME buy'}:
    case {'english': 'grain'}:
    case {'russian': 'FIXME grain'}:
        jump label_804

    case {'english': 'bye'}:
    case {'russian': 'FIXME bye'}:
        print({
            'english': '"May the sun shine on you, and the rain bring you nourishment."\n',
            'russian': 'FIXME "May the sun shine on you, and the rain bring you nourishment."\n'
        })
        bye()

    case '*':
        print({
            'english': '"I don\'t know. I guess so."',
            'russian': 'FIXME "I don\'t know. I guess so."'
        })
    esac

    jump label_58

label_804:
    if equals(integer(value 23), byte 0):
        integer(value 3) = byte 0
        jump label_940
    fi

label_824:
    integer(value 0) = byte 0
    integer(value 2) = byte 1

label_838:
    look(character(integer(value 0), byte 0))
    print({
        'english': '#2. $Y\n',
        'russian': 'FIXME #2. $Y\n'
    })
    integer(value 0) = plus(integer(value 0), byte 1)
    integer(value 2) = plus(integer(value 2), byte 1)

    if lessOrEquals(integer(value 0), integer(value 23)):
        jump label_838
    fi

    print({
        'english': '"Which of you?" ',
        'russian': 'FIXME "Which of you?" '
    })
    inputInteger(integer(value 3))

    if equals(integer(value 3), byte 0):
        jump label_1168
    fi

    integer(value 3) = minus(integer(value 3), byte 1)

    if greater(integer(value 3), integer(value 23)):
        jump label_824
    fi

label_940:
    print({
        'english': '"It\'ll cost you 2 gold for a sack of grain. Interested?" ',
        'russian': 'FIXME "It\'ll cost you 2 gold for a sack of grain. Interested?" '
    })

    choice({
        'english': 'yn',
        'russian': 'FIXME yn'
    })

    case {'english': 'y'}:
    case {'russian': 'FIXME y'}:
        if less(canCarry(character(integer(value 3), byte 0)), weight(byte 166, byte 1)):
            print({
                'english': '"You look pretty full to me."',
                'russian': 'FIXME "You look pretty full to me."'
            })
            jump label_58
        fi

        if greaterOrEquals(objectsCount(character(integer(value 3), byte 0), byte 88), byte 2):
            destroyItem(character(integer(value 3), byte 0), byte 88, byte 0, byte 2)
            createItem(character(integer(value 3), byte 0), byte 166, byte 0, byte 1)
            print({
                'english': '"Here you go."',
                'russian': 'FIXME "Here you go."'
            })
            wait()

            integer(value 5) = byte 1
            jump label_1176

        else:
            print({
                'english': '"Best check your coinpouch again."',
                'russian': 'FIXME "Best check your coinpouch again."'
            })
            jump label_58
        fi

    case {'english': 'n'}:
    case {'russian': 'FIXME n'}:
label_1168:
        print({
            'english': '"Okay."',
            'russian': 'FIXME "Okay."'
        })
    esac

label_1176:
    jump label_58
