source('CONVERSE.B')
index(88)

id(187)
name('Linda')

description:
    print('a rugged looking lady farmer.\n*')

interaction:
    print('"Welcome, friend."\n')

    ask()

    case 'name':
        ('SETF', ('byte', 235), ('value', 0))
        print('"My name is Linda."')
        jump label_58

    case 'job':
        print('"I raise @crops. If you\'d like to buy some @grain, just say the ')
        print('@word."')
        jump label_58

    case 'crop':
    case 'rais':
        print('"@Bread, cakes, pies, pastries... They all have their @roots here."')
        jump label_58

    case 'brea':
    case 'cake':
    case 'past':
    case 'pie':
        print('"@Woman does not live on @meat alone."')
        jump label_58

    case 'meat':
        print('"Cows and @sheep are much more trouble to raise than @wheat."')
        jump label_58

    case 'cow':
    case 'shee':
        print('"They have their place. But not on my farm."')
        jump label_58

    case 'farm':
    case 'rais':
    case 'root':
    case 'whea':
        print('"I was born to work the earth. It was either this, or be a ')
        print('@gravedigger..."')
        jump label_58

    case 'grav':
        print('"That\'s not my kind of work."')
        jump label_58

    case 'woma':
        print('"Yes, men need to eat too, I suppose."')
        jump label_58

    case 'word':
        print('"The word \'@grain,\' silly!"')
        jump label_58

    case 'buy':
    case 'grain':
        jump label_804

    case 'bye':
        print('"May the sun shine on you, and the rain bring you nourishment."\n')
        bye()

    case '*':
        print('"I don\'t know. I guess so."')
    esac

    jump label_58

label_804:
    if equals(integer(value 23), byte 0):
        integer(value 3) = byte 0
        jump label_940
    fi

label_824:
    integer(value 0) = byte 0
    integer(value 2) = byte 1

label_838:
    ('SETNAME', ('character', [('integer', [('value', 0)]), ('byte', 0)]))
    print('#2. $Y\n')
    integer(value 0) = plus(integer(value 0), byte 1)
    integer(value 2) = plus(integer(value 2), byte 1)

    if lessOrEquals(integer(value 0), integer(value 23)):
        jump label_838
    fi

    print('"Which of you?" ')
    ('INPUTNUM', 3)

    if equals(integer(value 3), byte 0):
        jump label_1168
    fi

    integer(value 3) = minus(integer(value 3), byte 1)

    if greater(integer(value 3), integer(value 23)):
        jump label_824
    fi

label_940:
    print('"It\'ll cost you 2 gold for a sack of grain. Interested?" ')

    choice('yn')

    case 'y':
        if less(canCarry(character(integer(value 3), byte 0)), weight(byte 166, byte 1)):
            print('"You look pretty full to me."')
            jump label_58
        fi

        if greaterOrEquals(objectsCount(character(integer(value 3), byte 0), byte 88), byte 2):
            ('DELETE', ('character', [('integer', [('value', 3)]), ('byte', 0)]), ('byte', 88), ('byte', 0), ('byte', 2))
            ('NEW', ('character', [('integer', [('value', 3)]), ('byte', 0)]), ('byte', 166), ('byte', 0), ('byte', 1))
            print('"Here you go."')
            wait()

            integer(value 5) = byte 1
            jump label_1176

        else:
            print('"Best check your coinpouch again."')
            jump label_58
        fi

    case 'n':
label_1168:
        print('"Okay."')
    esac

label_1176:
    jump label_58
