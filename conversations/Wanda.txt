source("CONVERSE.B")
index(41)

id(140)
name("Wanda")

description:
    print("a gypsy wench with a voluptuous figure.")
    wait()

    print("\n")

    f3()

interaction:
    if integer(value 16):
        print("\"Hello, wench. How goes it?\"")
        string(value 0) = data(dword 2887, byte 0)

    else:
        print("\"Well, hello handsome! Looking for a little... relaxation?\" ")

        askc("yn")

        case "y":
            print("\"Well this is the place!\"")

        case "n":
            print("\"Ha! You must be afraid of what your mother might think.\"")
        esac

        string(value 0) = data(dword 2887, byte 0)
        jump 268
    fi

268:
    print("\n")

    ask()

    case "name":
        print("\"They call me '@Wicked Wanda,' $0.\"")
        ('SETF', ('byte', 235), ('value', 0))
        jump 268

    case "wand":
    case "wick":
        print("\"If we can find someplace @private, I'll gladly show you how I got my ")
        print("nickname...\"")
        jump 268

    case "find":
    case "nick":
    case "pay":
    case "plac":
    case "priv":
    case "rela":
    case "sale":
    case "show":
    case "swee":
        if random(byte 0, byte 1):
            print("\"Hmm, sounds like I've piqued your interest...\"")
            jump 268
        fi

        print("\"Why ")

        if integer(value 16):
            print("madam")

        else:
            print("sirrah")
        fi

        print(", are you trying to insinuate something?\"")
        wait()

        print("\n\nShe breaks into a fit of giggles.")
        jump 268

    case "boff":
    case "hay":
    case "head":
    case "kink":
    case "lay":
    case "make":
    case "roll":
    case "screw":
    case "sex":
    case "suck":
        jump 1658

    case "map":
        print("\"We don't have... Oh, wait, there was something!\"")
        wait()

        print("\n\n\"@Arturos, he, uh, found a map last time we were up at Empath ")
        print("@Abbey.\"")
        jump 268

    case "artu":
        print("\"He'll tell your @fortune for you, $0. Just ask him!\"")
        jump 268

    case "fort":
        print("\"That's right.\"")
        jump 268

    case "abbe":
    case "empa":
        print("\"I don't care much for them. They're all too stuck up.\"")
        jump 268

    case "silv":
    case "tabl":
        print("\"@Andreas has a silver tablet you could ask him about.\"")
        wait()

        print("\n\n\"But I have something much @sweeter for sale...\"")
        jump 268

    case "andr":
        if integer(value 16):
            print("\"He could show you a real good time, honey!\"")
            jump 268
        fi

        print("\"He's in the same line of work as I am--but I think I'm more your ")
        print("type!\"")
        jump 268

    case "late":
    case "rest":
    case "time":
        print("\"'Tis tiring work, you know.\"")
        jump 268

    case "bye":
        if hasBit(byte 235, byte 7):
            print("\"'Twas a business doing pleasure with you... I hope you come again ")
            print("soon!\"\n")
            ('CLEARF', ('byte', 235), ('byte', 7))
            bye()
        fi

        if equals(integer(value 16), byte 1):
            print("\"See you around... And if you meet anyone tall, dark and handsome, ")
            print("send 'em my way!\"")

        else:
            print("\"If you ever decide you need a break from adventuring, come find me ")
            print("again.\"")
        fi

        ('CLEARF', ('byte', 235), ('byte', 7))
        print("\n")
        bye()

    case "*":
        print("\"Why concern yourself with that, $0?\"\n*\n\"Surely you can think of ")
        print("something more pleasant...\"")
    esac

    jump 268

1658:
    if hasBit(byte 235, byte 7):
        print("\"Again, so soon? Nay, come back later, when I've had a little time to ")
        print("@rest.\"")
        jump 268
    fi

    if equals(integer(value 16), byte 1):
        print("\"I don't get many lady customers... but why not? You're sure this is ")
        print("what you want?\"")

    else:
        print("\"I've a cot in my wagon... 15 gold's the price--and I don't haggle! ")
        print("Interested, $0?\"")
    fi

    wait()

    if integer(value 23):
        ('SETNAME', ('character', [('byte', 1), ('byte', 0)]))
        ('PORTRAIT', ('character', [('byte', 1), ('byte', 0)]))
        print("\n\n$Y speaks. \"I don't think we have time for this...\"")
        wait()

        ('PORTRAIT', ('byte', 235))

    else:
        print("\n\nA voice in the back of your head asks, \"Do you really have time for ")
        print("this?\"")
        wait()
    fi

    print("\n\n\"Come on, $0. Cross my palm with 15 gold and I'll show you a good ")
    print("time. Okay?\" ")

    askc("yn")

    case "n":
        print("\"Fine! Come back when you get permission from your mother!\"")

        if equals(integer(value 16), byte 0):
            string(value 0) = data(dword 2887, byte 0)
        fi

        jump 268

    case "y":
        if less(objectsCount(byte 1, byte 88), byte 15):
            print("\"Hey, I don't give credit! No pay, no play, capish?\"")
            string(value 0) = data(dword 2887, byte 3)
            jump 268
        fi

        ('DELETE', ('byte', 1), ('byte', 88), ('byte', 0), ('byte', 15))
        ('SETF', ('byte', 235), ('byte', 7))
        string(value 0) = data(dword 2887, byte 2)
        print("Taking you by the hand, the gyspy wench leads you off to her wagon.")
        wait()

        print("\nAfter a time, you return to your comrades.")
    esac

    wait()

    if integer(value 23):
        ('SETNAME', ('character', [('byte', 1), ('byte', 0)]))
        ('PORTRAIT', ('character', [('byte', 1), ('byte', 0)]))
        print("\n\n\"That's a fine way to be carrying on when all of Britannia is in ")
        print("danger!\"")
        wait()

        print("\n\n\"When our quest is complete, then there will be time enough for ")
        print("wenching!\"")
        wait()

        ('PORTRAIT', ('byte', 235))
        print("\n\n\"Nothing's wrong with a little fun. There's plenty of time... as ")
        print("long as there's plenty of gold!\"")

    else:
        print("You try to ignore the nagging voice in the back of your mind that ")
        print("keeps saying, \"You shouldn't have wasted time like that.\"")
    fi

    jump 268

    ('STRINGS', ['honey', 'ERR', 'sexy', 'cheapskate'], [])
