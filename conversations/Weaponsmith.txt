source('CONVERSE.B')
index(75)

id(174)
name('Weaponsmith')

description:
    print('a young, nervous-looking gargoyle.')
    wait()

interaction:
    print('\n')

    if and(equals(integer(value 21), byte 1), equals(partyHasObject(byte 76, byte 0), byte 1)):
        jump 281
    fi

    if integer(value 21):
        print('"The False Prophet!" the gargoyle screams. "Guards! Guards!"')

    else:
        print('"An-bal-sil-fer!" the gargoyle screams. "Agra-lem! Agra-Lem!"')
    fi

    wait()

    print('\n\nSuddenly realizing that he is holding a weapon, the gargoyle ')
    print('attacks!\n')
    ('WORKTYPE', ('byte', 235), ('byte', 153))
    bye()

281:
    if hasBit(byte 235, value 0):
        print('"To ask how I can help you, noble one."')

    else:
        print('"The False Prophet!"')
        wait()

        print('\n\n"To thank you for your upcoming sacrifice."')
        wait()

        print('\n\n"To greatly respect your nobility and courage."')
        ('SETF', ('byte', 235), ('value', 0))
    fi

450:
    print('\n')

    ask()

    case 'buy':
    case 'sell':
        print('"To not understand what that means."')
        wait()

        print('\n\n"To create these items for the use of @all."')
        jump 450

    case 'all':
        print('"To give these wares to any gargoyle who has need of them."')
        wait()

        print('\n\n"To invite you to look around at my @wares as well."')
        wait()

        print('\n\n"To ask if any of them interest you?"')
        jump 450

    case 'ware':
        print('"To have but a few items available."')
        wait()

        print('\n\n"To be far less adept than my former @master."')
        jump 450

    case 'boom':
        if hasBit(byte 235, byte 2):
            print('"To wish I had more boomerangs, that I might give you another."')
            jump 450

        else:
            jump 3365
        fi

    case 'ylem':
    case 'zu':
        if hasBit(byte 235, byte 3):
            print('"To regret that I have such a small supply of zu ylem dust."')
            jump 450

        else:
            jump 4014
        fi

    case 'good':
        print('"To consider him a discredit to the race!"')
        wait()

        print('\n\n"Most of all, to consider him a @dishonor to my late master!"')
        jump 450

    case 'dish':
        print('"To cheapen all our loss, all our grief, by his self-pity."')
        wait()

        print('\n\n"To have lost my @master, like a father to me."')
        wait()

        print('\n\n"Yet to maintain control, to maintain diligence."')
        wait()

        print('\n\n"Most of all to maintain passion for life."')
        wait()

        print('\n\n"To feel that the goodscrafter dishonors us all by abandoning our ')
        print('principles."')
        wait()

        print('\n\n"To feel that the goodscrafter needs a trip to the @catacombs."')
        jump 450

    case 'cata':
        print('"Yes, to have visited them myself once, long ago."')
        wait()

        print('\n\n"To find there shrines to our three principles: control, passion and')
        print(' diligence."')
        wait()

        print('\n\n"To speak with these shrines and meditate, to receive new insight."')
        wait()

        print('\n\n"To not remember where the catacombs are."')
        wait()

        print('\n\n"To be sent there by the Temple of @Singularity."')
        jump 450

    case 'sing':
    case 'temp':
        print('"To find that to the north, in the mountains."')
        wait()

        print('\n\n"To advise you to find some way to @fly if you wish to get there, ')
        print('though!"')
        jump 450

    case 'fly':
        print('"To be unable to reach the Temple on foot; to be forced to fly over ')
        print('the mountains."')
        jump 450

    case 'silv':
    case 'snak':
    case 'veno':
        print('"To be a powerful but dangerous drug!"')
        wait()

        print('\n\n"To turn gargoyle warriors into unstoppable fighters!"')
        wait()

        print('\n\n"But to always be fatal after the battle ends."')
        wait()

        print('\n\n"To be created by the snake @charmer, who lives to the southwest."')
        jump 450

    case 'char':
        print('"Yes, to suggest you visit him if you are interested."')
        wait()

        print('\n\n"To find the snake-summoning horn a most impressive sight!"')
        jump 450

    case 'plan':
        print('"To create the zu ylem dust from plants that can no longer be found."')
        wait()

        print('\n\n"But to know of far worse effects of the @disasters."')
        jump 450

    case 'armo':
    case 'belt':
    case 'helm':
        print('"To see little of interest in that item."')
        jump 450

    case 'bye':
        print('"May your long work and strength lead to success!"\n')
        bye()

    case 'name':
        print('"To be but a simple @weaponsmith, False Prophet."')
        wait()

        print('\n\n"To lack a name, as is appropriate for my station."')
        jump 450

    case 'disa':
        print('"Yes, surely to know of the disasters?"')
        wait()

        print('\n\n"To have only barely survived the earthquakes after the Codex ')
        print('disappeared."')
        jump 450

    case 'job':
    case 'mast':
    case 'weap':
    case 'work':
        print('"To be the master weaponsmith now, although to have but recently been ')
        print('a simple @apprentice."')
        jump 450

    case 'appr':
        print('"To greatly regret the loss of my master, killed during the ')
        print('@disasters."')
        wait()

        print('\n\n"But to carry on in the face of adversity."')
        wait()

        print('\n\n"And certainly not to lose all passion for life, like the worthless ')
        print('@goodscrafter!"')
        jump 450

    case 'join':
        print('"To wish I could leave on adventures..."')
        wait()

        print('\n\n"But to be dedicated to my important @work."')
        jump 450

    case '*':
        print('"To know nothing of $Z, being but a simple weaponsmith."')
        jump 450
    esac

3365:
    if notEquals(integer(value 32), byte 144):
        print('"To ask you to see me at my shop!"')
        jump 450
    fi

    print('"Ah, to see you admire these boomerangs, the work of my @master."')
    wait()

    print('\n\n"To regret being unable to create boomerangs myself."')
    wait()

    print('\n\n"To have only a few left in stock')

    if greater(weight(byte 49, byte 1), canCarry(byte 1)):
        print('."')
        jump 450
    fi

    print(', but to offer you one."')
    wait()

    print('\n\nDo you accept the gift? ')

    askc('yn')

    case 'y':
        ('NEW', ('byte', 1), ('byte', 49), ('byte', 0), ('byte', 1))
        ('SETF', ('byte', 235), ('byte', 2))

        if partyHas(byte 3):
            print('As you take the boomerang, Shamino speaks.')
            wait()

            ('PORTRAIT', ('byte', 3))
            print('\n\n"Aye, \'tis a most interesting weapon, $G."')
            wait()

            print('\n\n"Perhaps when our quest is through I can study its use."')
            wait()

            ('PORTRAIT', ('byte', 235))
            print('\n\nThe gargoyle speaks. "To ask if anything else interests you?"')
            jump 450

        else:
            print('The gargoyle hands you a boomerang.')
        fi

        jump 450

    case 'n':
        print('The gargoyle nods. "Yes, to see that you already have enough weapons."')
        jump 450
    esac

4014:
    if notEquals(integer(value 32), byte 144):
        print('"To ask that you see me at my shop!"')
        jump 450
    fi

    print('"Yes, to be a very interesting weapon."')
    wait()

    print('\n\n"To knock out even a large animal with just a single pouch of this ')
    print('powder!"')
    wait()

    print('\n\n"To be used most often by hunters, to avoid harming the meat."')
    wait()

    print('\n\n"Unfortunately, to make this powder from @plants that can no longer ')
    print('be found."')

    if greater(weight(byte 91, byte 1), canCarry(byte 1)):
        jump 450
    fi

    wait()

    print('\n\n"Here, to offer you one."')
    wait()

    print('\n\nDo you accept the gift? ')

    askc('yn')

    case 'y':
        ('NEW', ('byte', 1), ('byte', 91), ('byte', 0), ('byte', 1))
        ('SETF', ('byte', 235), ('byte', 3))
        print('He hands you a small pouch. "To hope you find it useful."')
        jump 450

    case 'n':
        print('The gargoyle nods. "To understand your reluctance."')
        wait()

        print('\n\n"To know the dangers of zu ylem dust to the untrained user."')
        jump 450
    esac
