source('CONVERSE.B')
index(40)

id(139)
name({
    'english': 'Andreas',
    'russian': 'Андреас'
})

description:
    print({
        'english': 'a handsome, carefree gypsy man.',
        'russian': 'красивого беззаботного цыгана.'
    })
    wait()

    print({
        'english': '\n',
        'russian': '\n'
    })

interaction:
    if hasBit(byte 235, value 0):
        jump label_281
    fi

    setBit(byte 235, value 0)

    if integer(value 16):
        print({
            'english': '"Hey, foxy! I bet you\'d like me to unsheathe my weapon so you can have',
            'russian': '"Эй, лисичка! Чувствую, что кто-то хочет взглянуть на моё оружие'
        })
        print({
            'english': ' a look..."',
            'russian': ' без ножен..."'
        })
        jump label_424

    else:
        print({
            'english': '"Hey there! Welcome to our humble caravan!"',
            'russian': '"Приветствую! Добро пожаловать в наш скромный табор!"'
        })
        wait()

        print({
            'english': '\n\n"You look like a bold warrior - would you like to spar a bit for ',
            'russian': '\n\n"Видно, что ты настоящий боец. Как насчёт тренировочного '
        })
        print({
            'english': 'practice?" ',
            'russian': 'поединка?" '
        })
        jump label_3309
    fi

label_281:
    if integer(value 16):
        print({
            'english': '"Ah, I see you couldn\'t stay away... I have that effect on women."',
            'russian': '"Ох, не можешь удержаться... Женщины, всё же, без ума от меня".'
        })

    else:
        print({
            'english': '"Welcome back, $P. Came for some more of our gypsy hospitality, I ',
            'russian': '"С возвращением, $P. Понравилось наше цыганское гостеприимство, как '
        })
        print({
            'english': 'see!"',
            'russian': 'я погляжу!"'
        })
    fi

label_424:
    print({
        'english': '\n',
        'russian': '\n'
    })

    ask()

    case 'name':
    case {'russian': 'имя'}:
        print({
            'english': '"I am Andreas, prince of the @gypsies."',
            'russian': '"Меня зовут Андреас, я принц @цыган".'
        })
        jump label_424

    case 'job':
    case {'russian': 'раб'}:
        print({
            'english': '"I live the carefree life of a @gypsy, traveling hither and yon."',
            'russian': '"Я живу вольной @цыганской жизнью и брожу по белому свету".'
        })
        wait()

        print({
            'english': '\n\n',
            'russian': '\n\n'
        })
        jump label_2011

    case 'love':
    case {'russian': 'любо'}:
        jump label_2011

    case 'prof':
    case {'russian': 'проф'}:
    case 'serv':
    case {'russian': 'услу'}:
        print({
            'english': '"We all have our @talents. I myself happen to have two."',
            'russian': '"У нас всех есть @таланты, у меня - целых два".'
        })
        wait()

        print({
            'english': '\n\n"I\'d be glad to show you sometime!"',
            'russian': '\n\n"Был бы рад как-нибудь устроить демонстрацию!"'
        })
        jump label_424

    case 'tale':
    case {'russian': 'сказ'}:
    case 'show':
    case {'russian': 'демо'}:
        print({
            'english': '"What, you mean @swordplay? Just ask, and I\'ll give thee a @lesson you',
            'russian': '"Вы о @фехтовании? Просто скажите - и я преподам @урок,'
        })
        print({
            'english': ' won\'t forget!"',
            'russian': ' который вы не забудете!"'
        })
        jump label_424

    case 'wand':
    case {'russian': 'ванд'}:
        print({
            'english': '"She practices the world\'s oldest @profession. I, of course, have ',
            'russian': '"Её @профессия - древнейшая в мире. А мне, конечно же, '
        })
        print({
            'english': 'perfected it, and thus need no practice."',
            'russian': 'нет равных в этом деле, поэтому и практиковаться не нужно".'
        })
        jump label_424

    case 'artu':
    case {'russian': 'арту'}:
        print({
            'english': '"He\'s my dad - the king of the gypsies!"',
            'russian': '"Он мой отец - король всех цыган!"'
        })
        jump label_424

    case 'map':
    case {'russian': 'кар'}:
        print({
            'english': '"A map? Aye, @Arturos has some scrap like that. I know nothing more of',
            'russian': '"Карта? Да, у @Артуроса есть какой-то мусор. Больше я ничего'
        })
        print({
            'english': ' it."',
            'russian': ' не знаю".'
        })
        jump label_424

    case 'trav':
    case {'russian': 'путе'}:
    case 'care':
    case {'russian': 'забо'}:
    case 'gyps':
    case {'russian': 'цыга'}:
    case 'prin':
    case {'russian': 'прин'}:
    case 'king':
    case {'russian': 'коро'}:
    case 'life':
    case {'russian': 'жизн'}:
        jump label_4135

    case 'swor':
    case {'russian': 'фехт'}:
    case 'spar':
    case {'russian': 'поед'}:
    case 'weap':
    case {'russian': 'оруж'}:
    case 'unsh':
    case {'russian': 'ножн'}:
    case 'less':
    case {'russian': 'мень'}:
        print({
            'english': '"Would you like to spar a bit?" ',
            'russian': '"Как насчёт поединка?" '
        })
        jump label_3309

    case 'silv':
    case {'russian': 'сере'}:
    case 'tabl':
    case {'russian': 'стол'}:
        jump label_3741

    case 'bye':
    case {'russian': 'пока'}:
        if hasBit(byte 235, byte 7):
            print({
                'english': '"Come again soon."\n',
                'russian': '"До скорой встречи".\n'
            })
            clearBit(byte 235, byte 7)
            bye()
        fi

        if equals(integer(value 16), byte 1):
            print({
                'english': '"I hope we get better acquainted when next we meet."',
                'russian': '"Надеюсь, мы познакомимся поближе в следующий раз".'
            })
            wait()

            print({
                'english': '\n\n"I like your clothes, but I think you\'d look better without them..."',
                'russian': '\n\n"У тебя красивая одежда, но думаю, что без неё было бы лучше..."'
            })
            print({
                'english': '\n',
                'russian': '\n'
            })

        else:
            print({
                'english': '"May your travels prove interesting."\n',
                'russian': '"Интересных приключений".\n'
            })
        fi

        bye()

    case 'sex':
    case {'russian': 'секс'}:
    case 'screw':
    case {'russian': 'трах'}:
    case 'boff':
    case {'russian': 'пере'}:
    case 'suck':
    case {'russian': 'соса'}:
    case 'head':
    case {'russian': 'мине'}:
    case 'lay':
    case {'russian': 'спат'}:
    case 'roll':
    case {'russian': 'кувы'}:
    case 'hay':
    case {'russian': 'сено'}:
    case 'kink':
    case {'russian': 'фети'}:
    case 'make':
    case {'russian': 'заня'}:
        if hasBit(byte 235, byte 7):
            jump label_4359
        fi

        print({
            'english': '"Oho, so that\'s what you\'re after, you naughty ',
            'russian': '"Ого, так вот чего ты хочешь, '
        })

        if integer(value 16):
            print({
                'english': 'girl',
                'russian': 'негодница'
            })

        else:
            print({
                'english': 'boy',
                'russian': 'негодник'
            })
        fi

        print({
            'english': '!"',
            'russian': '!"'
        })
        wait()

        print({
            'english': '\n\n',
            'russian': '\n\n'
        })

        if integer(value 16):
            print({
                'english': '"For a mere 10 gold pieces, I\'ll transport you to the heights of ',
                'russian': '"Всего лишь за 10 золотых я доставлю тебя на вершины '
            })
            print({
                'english': 'ecstasy. Will it be yea or nay?"',
                'russian': 'блаженства. Да или нет?"'
            })

        else:
            print({
                'english': '"Well... Normally I\'m more of a ladies\' man. But I guess your money is',
                'russian': '"Вообще-то... Я обычно по женщинам, но деньги есть'
            })
            print({
                'english': ' as good as anyone else\'s. It\'ll cost you 10 gold, okay?"',
                'russian': ' деньги. 10 золотых, хорошо?"'
            })
        fi

        if equals(integer(value 23), byte 0):
            wait()

            print({
                'english': '\n\nA voice in the back of your head asks, "Do you really have time for ',
                'russian': '\n\nВаш внутренний голос изумлённо спросил: "У нас и правда есть время на '
            })
            print({
                'english': 'this?"',
                'russian': 'это?"'
            })
            wait()

            print({
                'english': '\n\n',
                'russian': '\n\n'
            })
            jump label_2451
        fi

        wait()

        look(character(byte 1, byte 0))
        portrait(character(byte 1, byte 0))
        print({
            'english': '\n\n$Y interrupts. "`$G, I really doubt we have time for this..."',
            'russian': '\n\n$Y перебивает: "`$G, что-то я сомневаюсь, что для этого есть время..."'
        })
        wait()

        portrait(byte 235)
        jump label_2451

    case '*':
        print({
            'english': '"Don\'t trouble yourself about that. The art of the @sword and the art ',
            'russian': '"Не переживай. Ничего нет важнее искусств @меча и '
        })
        print({
            'english': 'of @love are all that really matter."',
            'russian': '@любви".'
        })
    esac

    jump label_424

label_2011:
    if integer(value 16):
        print({
            'english': '"Naturally, when so lovely a lady as yourself comes along, I offer, ',
            'russian': '"Как правило, когда такая милая дама, как ты, заводит со мной разговор, я '
        })
        print({
            'english': 'shall we say, my @services."',
            'russian': 'предлагаю свои, так сказать, услуги".'
        })
        jump label_424
    fi

    print({
        'english': '"When the opportunity arises, I do what I can to brighten the lives of',
        'russian': '"Когда подворачивается возможность, я делаю всё, чтобы украсить жизнь'
    })
    print({
        'english': ' the ladies."',
        'russian': ' дам".'
    })

    if partyHas(byte 62):
        wait()

        portrait(byte 62)
        print({
            'english': '\n\n"I\'ll just bet he does!"',
            'russian': '\n\n"Спорю, что так и есть!"'
        })
        wait()

        portrait(byte 235)
        print({
            'english': '\n\n',
            'russian': '\n\n'
        })

    else:
        wait()

        print({
            'english': '\n\n',
            'russian': '\n\n'
        })
    fi

    print({
        'english': '"Of course, you\'d probably be more interested in my sister @Wanda, ',
        'russian': '"Конечно, тебя, наверное, больше заинтересует моя сестра @Ванда, '
    })
    print({
        'english': 'right?" ',
        'russian': 'не так ли?" '
    })

    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'y':
    case {'russian': 'д'}:
        print({
            'english': '"Can\'t say I blame you. In fact, if she wasn\'t my sister..."',
            'russian': '"Винить тебя не стану. И правда, не была бы она моя сестра..."'
        })
        jump label_424

    case 'n':
    case {'russian': 'н'}:
        print({
            'english': '"Hmm, wouldn\'t have figured you for the type..."',
            'russian': '"Никогда бы не подумал, что ты такой..."'
        })
        jump label_424
    esac

label_2451:
    print({
        'english': '\n"Well, come on. Yea or nay, $G?" ',
        'russian': '\n"Ладно, начнём. Да или нет, $G?" '
    })

    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'n':
    case {'russian': 'н'}:
        print({
            'english': '"As you like. But take my advice--you should live a little now."',
            'russian': '"Как пожелаешь. Но мой тебе совет: иногда нужно уметь наслаждаться жизнью".'
        })
        wait()

        print({
            'english': '\n\n"That way, you\'ll have something to remember when you\'re old and ',
            'russian': '\n\n"И тогда будет что вспомнить в '
        })
        print({
            'english': 'gray..."',
            'russian': 'старости..."'
        })
        jump label_424

    case 'y':
    case {'russian': 'д'}:
        if less(objectsCount(byte 1, byte 88), byte 10):
            print({
                'english': '"Hey, you don\'t have the money! I don\'t take charity cases."',
                'russian': '"Эй, да у тебя не хватит денег! Я не занимаюсь благотворительностью".'
            })
            jump label_424
        fi
    esac

    destroyItem(byte 1, byte 88, byte 0, byte 10)
    createItem(byte 235, byte 88, byte 0, byte 10)
    setBit(byte 235, byte 7)
    print({
        'english': 'The gypsy leads you into a nearby wagon...',
        'russian': 'Цыган отводит вас в фургон неподалеку...'
    })
    wait()

    print({
        'english': '\n\nAfter a while, you and he wander back to the rest of the caravan, ',
        'russian': '\n\nЧерез некоторое время вы вместе возвращаетесь к остальному табору, '
    })
    print({
        'english': 'weary but satisfied.',
        'russian': 'усталые, но довольные.'
    })

    if equals(integer(value 23), byte 0):
        print({
            'english': 'You try to ignore the nagging voice in the back of your head that says',
            'russian': 'Вы пытаетесь не замечать внутренний голос, который ворчит: '
        })
        print({
            'english': ' you shouldn\'t have wasted time like that.',
            'russian': '"Не следовало тратить на это время".'
        })
        jump label_424
    fi

    wait()

    if partyHas(byte 2):
        integer(value 0) = byte 2

    else:
        integer(value 0) = character(byte 1, byte 0)
    fi

    portrait(integer(value 0))
    look(integer(value 0))
    print({
        'english': '\n\n$Y scowls. "Well, you\'ve certainly picked a fine one to be carrying ',
        'russian': '\n\n$Y хмурится: "Да уж, умеешь же ты выбирать себе '
    })
    print({
        'english': 'on with."',
        'russian': 'пару".'
    })
    wait()

    print({
        'english': '\n\n"I would remind you that Britannia is under invasion by hordes of ',
        'russian': '\n\n"Можно было бы напомнить тебе, что в Британии сейчас бесчинствуют орды '
    })
    print({
        'english': 'gargoyles, but I\'d hate to spoil your fun..."',
        'russian': 'гаргулий, но не хотелось портить веселье..."'
    })
    wait()

    portrait(byte 235)
    print({
        'english': '\n\n$N laughs. "\'Tis not a crime to give yourself over to pleasure..."',
        'russian': '\n\n$N смеётся: "Нет ничего плохого в маленьких радостях..."'
    })
    jump label_424

label_3309:
    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'n':
    case {'russian': 'н'}:
        print({
            'english': '"Maybe some other time."',
            'russian': '"Может, в другой раз".'
        })
        jump label_424
    esac

    print({
        'english': '\nPulling a couple of sticks from his belt, the gypsy hands you one. ',
        'russian': '\nВытянув пару палок из-за пояса, цыган протягивает вам одну из них. '
    })
    print({
        'english': 'You fight with them as if they were swords for a while.',
        'russian': 'Вы начинаете фехтовать ими будто мечами.'
    })
    wait()

    print({
        'english': '\n\nAfter you\'re finished, he comes over and puts his arm around your ',
        'russian': '\n\nПосле поединка он подходит к вам, берёт за руку '
    })
    print({
        'english': 'shoulder as he gives you a few pointers on fencing style.',
        'russian': 'и начинает поправлять стойку.'
    })

    if less(objectsCount(byte 1, byte 88), byte 25):
        jump label_424
    fi

    destroyItem(byte 1, byte 88, byte 0, byte 25)
    createItem(byte 235, byte 88, byte 0, byte 25)
    wait()

    print({
        'english': '\n\nYou\'re not sure, but you think perhaps you felt a slight tug at the ',
        'russian': '\n\nВам показалось, что вашу суму с монетами на секунду '
    })
    print({
        'english': 'pouch you keep your coins in.',
        'russian': 'что-то оттянуло.'
    })
    jump label_424

label_3741:
    print({
        'english': '"Ah yes, you\'ve heard of the silver tablet!"',
        'russian': '"Ах, да, тебе доводилось слышать о серебряной скрижали!"'
    })
    wait()

    print({
        'english': '\n\n"I haven\'t got it myself, but I can tell you where it is for a ',
        'russian': '\n\n"У меня такой нет, но я могу рассказать, где её можно найти. Но у всего '
    })
    print({
        'english': 'price... Shall we say 7 gold pieces?" ',
        'russian': 'есть цена... Скажем, 7 золотых". '
    })

    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'n':
    case {'russian': 'н'}:
        print({
            'english': '"Suit yourself."',
            'russian': '"Как хочешь".'
        })
        jump label_424

    case 'y':
    case {'russian': 'д'}:
        if less(objectsCount(byte 1, byte 88), byte 7):
            print({
                'english': '"Come back when you have the money."',
                'russian': '"Возвращайся с деньгами".'
            })
            jump label_424
        fi

        destroyItem(byte 1, byte 88, byte 0, byte 7)
        createItem(byte 235, byte 88, byte 0, byte 7)
        print({
            'english': '"I overheard a bard in a tavern say that it was somewhere on the Isle ',
            'russian': '"Один бард в таверне говорил, что её можно найти на Острове '
        })
        print({
            'english': 'of the Avatar."\n*\n"Perhaps @Arturos could tell you precisely."',
            'russian': 'Аватара."\n*\n"Возможно, @Артурос знает больше".'
        })
        jump label_424
    esac

label_4135:
    print({
        'english': '"Wouldn\'t you like to be a gypsy too?" ',
        'russian': '"А тебе хотелось бы быть цыганом?" '
    })

    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'n':
    case {'russian': 'н'}:
        print({
            'english': '"The more fool you!"',
            'russian': '"Глупо с твоей стороны!"'
        })
        jump label_424
    esac

    if hasBit(byte 235, byte 7):
        print({
            'english': '"You have the carefree spirit, but alas, one must be born a gypsy."',
            'russian': '"Хотя в тебе и есть свободный дух, но увы, цыганом можно только родиться".'
        })

    else:
        print({
            'english': '\n"A fine thing to dream of! But one such as you could never be a ',
            'russian': '\n"Достойная мечта! Но такой человек, как ты, '
        })
        print({
            'english': 'gypsy."',
            'russian': 'никогда не сможет стать цыганом".'
        })
    fi

    jump label_424

label_4359:
    print({
        'english': '"My mind is willing, but the flesh is weak..."\n*\n"Come back later, ',
        'russian': '"Мой разум хочет этого, но тело ослабло..."\n*\n"Приходи в другой раз, '
    })
    print({
        'english': 'when I\'ve had some time to rest."',
        'russian': 'когда я отдохну".'
    })
    jump label_424
