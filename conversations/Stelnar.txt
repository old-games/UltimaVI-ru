source('CONVERSE.A')
index(45)

id(45)
name({
    'english': 'Stelnar',
    'russian': 'Стелнар'
})

description:
    print({
        'english': 'an angry-looking man wearing short swords on either hip.',
        'russian': 'сердитого на вид мужчину с короткими мечами на бёдрах.'
    })
    wait()

    print({
        'english': '\n',
        'russian': '\n'
    })

interaction:
    if equals(integer(value 32), byte 153):
        print({
            'english': 'He was just about to punch someone when you approached him.*\n\n"This is',
            'russian': 'Он как раз собирался кого-то ударить, когда вы подошли к нему.*\n\n"Сейчас'
        })
        print({
            'english': ' no time for talk. There\'s fighting to do!"\n',
            'russian': ' не время для разговоров. Нужно драться!"\n'
        })
        bye()
    fi

    if equals(hasBit(byte 235, value 0), byte 0):
        print({
            'english': '"Good $T."',
            'russian': '"Доброго $T".'
        })

    else:
        print({
            'english': '"Ho there, $G!"',
            'russian': '"Эй, привет, $G!"'
        })
        jump label_389
    fi

    if and(equals(hasBit(byte 235, byte 2), byte 0), partyHas(byte 3)):
        wait()

        portrait(byte 3)
        print({
            'english': '\n\n"Good $T, Stelnar." @Shamino and Stelnar shake hands. "$P, this is ',
            'russian': '\n\n"Доброго $T, Стелнар". @Шамино и Стелнар пожимают друг другу руки. "$P, это '
        })
        print({
            'english': 'Stelnar Starhelm."',
            'russian': 'Стелнар Стархелм".'
        })
        wait()

        portrait(byte 235)
        print({
            'english': '\n\n"Pleased to meet you, $G $P."',
            'russian': '\n\n"Приятно познакомиться, $G $P".'
        })
        setBit(byte 235, value 0)
        setBit(byte 235, byte 2)
    fi

label_389:
    print({
        'english': '\n',
        'russian': '\n'
    })

    ask()

    case 'name':
    case {'russian': 'имя'}:
        print({
            'english': '"I\'m called Starhelm."',
            'russian': '"Меня зовут Стархелм".'
        })
        setBit(byte 235, value 0)
        jump label_389

    case 'arvi':
    case {'russian': 'арви'}:
        print({
            'english': '"Arvin? He seems a good sort."',
            'russian': '"Арвин? Он кажется хорошим парнем".'
        })
        jump label_389

    case 'culh':
    case {'russian': 'калх'}:
        print({
            'english': '"He\'s a bard. I do not really know him."',
            'russian': '"Он бард. Я его толком не знаю".'
        })
        jump label_389

    case 'jerr':
    case {'russian': 'джер'}:
        print({
            'english': '"Oh, yes. Brave fellow."',
            'russian': '"О, да. Храбрый парень".'
        })
        jump label_389

    case 'sham':
    case {'russian': 'шами'}:
    case 'rang':
    case {'russian': 'рейн'}:
        print({
            'english': '"Shamino and I travelled the Spiritwood together for a time."',
            'russian': '"Мы с Шамино какое-то время вместе путешествовали по Лесу Духов".'
        })
        jump label_389

    case 'job':
    case {'russian': 'раб'}:
        print({
            'english': '"I am a @monster-slayer."',
            'russian': '"Я - истребитель @монстров".'
        })
        jump label_389

    case 'mons':
    case {'russian': 'монс'}:
    case 'slay':
    case {'russian': 'истр'}:
        print({
            'english': '"I hate all monsters. They are a blight on the face of Britannia!"',
            'russian': '"Я ненавижу всех монстров. Они - проклятие на лице Британии!"'
        })
        wait()

        print({
            'english': '\n\n"For the past year I\'ve been killing @wisps and the like in ',
            'russian': '\n\n"Весь прошлый год я убивал @огоньков и им подобных в '
        })
        print({
            'english': 'Spiritwood."',
            'russian': 'Спиритвуде".'
        })
        jump label_389

    case 'blig':
    case {'russian': 'прок'}:
    case 'spir':
    case {'russian': 'спир'}:
    case 'wisp':
    case {'russian': 'огон'}:
        print({
            'english': '"Wisps are nasty flickers, very hard to kill. Not like @gargoyles, ',
            'russian': '"Огоньки - это мерзкие твари, их очень трудно убить. Не то что '
        })
        print({
            'english': 'now."',
            'russian': '@горгулий".'
        })
        jump label_389

    case 'garg':
    case {'russian': 'горг'}:
        print({
            'english': '"There\'s one that they call @Sin \'Vraal."',
            'russian': '"Есть один, которого называют @Син 'Враал ".'
        })
        wait()

        print({
            'english': '\n\n"If I had my way, that gargoyle would be a @statue."',
            'russian': '\n\n"Будь моя воля, эта горгулья была бы @статуей".'
        })
        jump label_389

    case 'stat':
    case {'russian': 'стат'}:
        print({
            'english': '"They turn to stone when ye slay them."',
            'russian': '"Они превращаются в камень, если их убить".'
        })

        if isNearby(byte 46):
            wait()

            portrait(byte 46)
            print({
                'english': '\n\n"That\'s drivel, friend Starhelm!" says Van Kellian.',
                'russian': '\n\n"Это полная чушь, друг Стархелм!" - говорит Ван Келлиан.'
            })
            wait()

            print({
                'english': '\n\n"A gargoyle\'s a flesh and blood beast."',
                'russian': '\n\n"Горгульи - существа из плоти и крови".'
            })
            wait()

            print({
                'english': '\n\n"Stone indeed!"',
                'russian': '\n\n"Они из камня!"'
            })
            wait()

            portrait(byte 235)
            print({
                'english': '\n\n"Bards! A gargoyle is an @ugly monster, and that\'s that."',
                'russian': '\n\n"Барды! Горгулья - это @уродливое чудовище, и всё тут".'
            })
        fi

        jump label_389

    case 'ugly':
    case {'russian': 'урод'}:
        if isNearby(byte 46):
            portrait(byte 46)
            print({
                'english': '"Van murmurs "Ugliness is but skin deep, just as beauty is."',
                'russian': '"Ван бормочет: "Уродство, как и красота, поверхностно".'
            })
            wait()

            portrait(byte 235)
            print({
                'english': '\n\n"Gargoyle skin is very thick and deep, as everyone knows."',
                'russian': '\n\n"Как всем известно, кожа горгульи очень толстая и плотная".'
            })

        else:
            print({
                'english': '"Never trust anything ugly."',
                'russian': '"Никогда не доверяйте ничему уродливому".'
            })
        fi

        jump label_389

    case 'sin':
    case {'russian': 'син'}:
    case 'vraa':
    case {'russian': 'враа'}:
    case '\'vra':
    case {'russian': '\'вра'}:
        print({
            'english': '"He\'s a vicious @daemon."',
            'russian': '"Он злобный @демон".'
        })
        jump label_389

    case 'daem':
    case {'russian': 'черт'}:
    case 'demo':
    case {'russian': 'демо'}:
        print({
            'english': '"Yes, Sin \'Vraal is an evil wretch."',
            'russian': '"Да, Син 'Враал - злой негодяй".'
        })
        wait()

        print({
            'english': '\n\n"How could Lord @British imagine that a gargoyle could understand ',
            'russian': '\n\n"Как мог Лорд @Бритиш вообразить, что горгулья может понять, что такое '
        })
        print({
            'english': 'virtue?"',
            'russian': 'добродетель?"'
        })
        jump label_389

    case 'lord':
    case {'russian': 'лорд'}:
    case 'brit':
    case {'russian': 'брит'}:
    case 'virt':
    case {'russian': 'добр'}:
        print({
            'english': '"Lord British defeated Sin \'Vraal in the underworld."',
            'russian': '"Лорд Бритиш победил Син 'Враала в подземном мире".'
        })
        wait()

        print({
            'english': '\n\n"The gargoyle went to live in the @Dry Land."',
            'russian': '\n\n"Горгулья отправилась жить в @Сухие земли".'
        })
        jump label_389

    case 'dry':
    case {'russian': 'сухи'}:
    case 'land':
    case {'russian': 'земл'}:
        print({
            'english': '"\'Tis a @desert east of the Bloody Plains. There is a shrine there."',
            'russian': '"Это @пустыня к востоку от Кровавых равнин. Там есть святилище".'
        })

    case 'shri':
    case {'russian': 'свят'}:
    case 'dese':
    case {'russian': 'пуст'}:
        print({
            'english': '"I\'ve never been to that desert, or the Shrine of Honesty."',
            'russian': '"Я никогда не был в этой пустыне или в Святилище Жертвенности".'
        })
        jump label_389

    case 'bye':
    case {'russian': 'пока'}:
        if hasBit(byte 235, byte 2):
            print({
                'english': '"Farewell, $P."',
                'russian': '"Прощайте, $P".'
            })

        else:
            print({
                'english': '"Have a pleasant $T, $G."',
                'russian': '"Приятного $T, $G".'
            })
        fi

        print({
            'english': '\n',
            'russian': '\n'
        })
        bye()

    case '*':
        print({
            'english': '"I cannot help ye with that."',
            'russian': '"Я не могу вам в этом помочь".'
        })
    esac

    jump label_389
