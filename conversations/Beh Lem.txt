source('CONVERSE.B')
index(65)

id(164)
name({
    'english': 'Beh Lem',
    'russian': 'Бех Лем'
})

description:
    print({
        'english': 'a small, light-skinned gargoyle.',
        'russian': 'Молодая светлокожая гаргулья.'
    })

interaction:
    wait()

    if partyHas(byte 235):
        print({
            'english': '\n"To ask how I can help, mighty $P," Beh Lem asks.',
            'russian': '\n"Спрашивать как помочь, сильный $P", - спрашивает Бех Лем.'
        })
        jump label_1027
    fi

    if integer(value 21):
        integer(value 9) = byte 0
        jump label_888
    fi

    print({
        'english': '\nThe gargoyle greets you enthusiastically, but you can\'t understand ',
        'russian': '\nГаргулья что-то живо говорит, но вы не понимаете '
    })
    print({
        'english': 'him!',
        'russian': 'ни слова!'
    })
    wait()

    print({
        'english': '\n\nSeeing your confusion, he switches to the human language. It\'s ',
        'russian': '\n\nЗаметив ваше недоумение, она переходит на человеческий язык. Видно, '
    })
    print({
        'english': 'obviously a strain for him.',
        'russian': 'что он даётся ей с трудом.'
    })
    wait()

    print({
        'english': '\n\n"Hello. I little human @speak."',
        'russian': '\n\n"Здравствуйте. Я мало @говорить как человек".'
    })
    integer(value 0) = byte 0

label_328:
    integer(value 0) = plus(integer(value 0), byte 1)

    if less(integer(value 0), byte 5):
        jump label_576
    fi

    wait()

    if partyHas(byte 2):
        portrait(byte 2)
        look(byte 2)
        jump label_396
    fi

    if partyHas(byte 4):
        portrait(byte 4)
        look(byte 4)
        jump label_396

    else:
        jump label_576
    fi

label_396:
    print({
        'english': '\n\n$Y speaks. "$P, let\'s away from here."',
        'russian': '\n\n$Y говорит. "$P, давай уйдём отсюда".'
    })
    wait()

    print({
        'english': '\n\n"There\'s naught of use this creature can tell us. Agreed?" ',
        'russian': '\n\n"От этой твари мы ничего не добьёмся. Хорошо?" '
    })

    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'y':
    case {'russian': 'д'}:
        print({
            'english': 'The confused gargoyle waves good-bye.\n',
            'russian': 'Растерянная гаргулья машет вам вслед.\n'
        })
        bye()

    case 'n':
    case {'russian': 'н'}:
        print({
            'english': '"As you wish, $G."',
            'russian': '"Как пожелаешь, $G".'
        })
        portrait(byte 235)
        integer(value 0) = byte 0
    esac

label_576:
    print({
        'english': '\n',
        'russian': '\n'
    })

    ask()

    case 'john':
    case {'russian': 'джон'}:
    case 'capt':
    case {'russian': 'кап'}:
        print({
            'english': '"Captain John friend. He come here. I wait here."',
            'russian': '"Друг Капитан Джон. Он приходить сюда. Я ждать".'
        })
        jump label_328

    case 'name':
    case {'russian': 'имя'}:
        print({
            'english': '"No name. I Beh Lem."',
            'russian': '"Без имя. Я Бех Лем".'
        })
        jump label_328

    case 'job':
    case {'russian': 'раб'}:
        print({
            'english': '"I wait here. @Captain John come."',
            'russian': '"Я ждать здесь. @Капитан Джон приходить".'
        })
        jump label_328

    case 'spea':
    case {'russian': 'гов'}:
    case 'huma':
    case {'russian': 'чел'}:
    case 'litt':
    case {'russian': 'мало'}:
    case 'lang':
    case {'russian': 'язы'}:
    case 'read':
    case {'russian': 'чит'}:
        print({
            'english': '"@Captain John teach I human speak," the gargoyle says haltingly.',
            'russian': '"@Капитан Джон учить меня говорить как человек", - сбивчиво говорит гаргулья.'
        })
        jump label_328

    case 'bye':
    case {'russian': 'пока'}:
        print({
            'english': 'The confused gargoyle waves good-bye.\n',
            'russian': 'Растерянная гаргулья машет вам вслед.\n'
        })
        bye()

    case '*':
        print({
            'english': 'The gargoyle shrugs.',
            'russian': 'Гаргулья пожимает плечами.'
        })
        jump label_328
    esac

label_888:
    print({
        'english': '\n',
        'russian': '\n'
    })

    if equals(hasBit(byte 235, value 0), byte 0):
        print({
            'english': '"To greet you, human. To recognize you as the False @Prophet!"',
            'russian': '"Приветствовать, человек. Узнать тебя, Ложный @Пророк!"'
        })
        wait()

        jump label_1027
    fi

    print({
        'english': '"Good $T, my friend',
        'russian': '"$T, славно, мой друг'
    })

    if integer(value 23):
        print({
            'english': 's',
            'russian': 's'
        })
    fi

    print({
        'english': '. To have met @Valkadesh yet?"',
        'russian': '. Ты встречать @Валкадеш?"'
    })
    jump label_1027

label_1027:
    print({
        'english': '\n',
        'russian': '\n'
    })

    ask()

    case 'capt':
    case {'russian': 'капи'}:
    case 'john':
    case {'russian': 'джон'}:
    case 'frie':
    case {'russian': 'друг'}:
        print({
            'english': '"To know Captain John! To help him and @Valkedesh in their work," the ',
            'russian': '"Знать Капитан Джон! Помогать он и @Валкадеш их работа", - гордо '
        })
        print({
            'english': 'youngster says proudly.',
            'russian': 'произнёс юноша.'
        })
        jump label_1027

    case 'true':
    case {'russian': 'наст'}:
        print({
            'english': '"To not receive a true name until I have proved myself @worthy."',
            'russian': '"Не получать настоящее имя, пока не доказать @польза".'
        })
        jump label_1027

    case 'name':
    case {'russian': 'имя'}:
        print({
            'english': '"To be called Beh Lem, which means \'just one.\' To have not yet ',
            'russian': '"Называть Бех Лем, это значить \'один из.\' Не получать '
        })
        print({
            'english': 'received a @true name."',
            'russian': '@настоящее имя".'
        })
        jump label_1027

    case 'wort':
    case {'russian': 'пол'}:
    case 'prov':
    case {'russian': 'док'}:
        print({
            'english': '"To not deserve a name yet. But to get one someday, just like my ',
            'russian': '"Не заслужить имя. Однажды получить, как мой '
        })
        print({
            'english': 'father @Valkadesh!"',
            'russian': 'отец @Валкадеш!"'
        })
        jump label_1027

    case 'job':
    case {'russian': 'раб'}:
        if partyHas(byte 235):
            print({
                'english': '"To be here to help you, noble $P."',
                'russian': '"Здесь помогать тебя, благородный $P".'
            })

        else:
            print({
                'english': '"To be here to wait for Captain @John."',
                'russian': '"Здесь ждать Капитан @Джон".'
            })
        fi

        jump label_1027

    case 'fath':
    case {'russian': 'отец'}:
    case 'scho':
    case {'russian': 'учен'}:
    case 'valk':
    case {'russian': 'валк'}:
        if partyHas(byte 235):
            jump label_3117

        else:
            print({
                'english': '"To very much respect Valkadesh my father."',
                'russian': '"Уважать много Валкадеш мой отец".'
            })
            wait()

            print({
                'english': '\n\n"To want to be a scholar someday just like him!"\n',
                'russian': '\n\n"Хотеть быть учёный однажды как он!"\n'
            })
            wait()

            jump label_2973
        fi

    case 'dire':
    case {'russian': 'напр'}:
        print({
            'english': '"To ask what directions were unclear?"',
            'russian': '"Какой направление быть непонятно?"'
        })
        jump label_1027

    case 'join':
    case {'russian': 'прис'}:
        if partyHas(byte 235):
            printString(strings_4206, byte 3)
            jump label_1027

        else:
            jump label_3693
        fi

    case 'sacr':
    case {'russian': 'свящ'}:
        print({
            'english': '"To not know much about that. But to be sure that @Valkadesh would ',
            'russian': '"Не знать об этом. Но @Валкадеш точно '
        })
        print({
            'english': 'know!"',
            'russian': 'знать!"'
        })
        jump label_1027

    case 'cont':
    case {'russian': 'само'}:
    case 'dili':
    case {'russian': 'усер'}:
    case 'pass':
    case {'russian': 'увл'}:
        print({
            'english': '"To be one of our guiding @principles."',
            'russian': '"Один из наших @принципов".'
        })
        jump label_1027

    case 'prin':
    case {'russian': 'прин'}:
        print({
            'english': '"To be surprised that you don\'t know that!"',
            'russian': '"Удивляться ты не знаешь это!"'
        })
        wait()

        print({
            'english': '\n\n"To have three guiding principles - @control, @diligence, and ',
            'russian': '\n\n"Три ведущий принцип - @самообладание, @усердие и '
        })
        print({
            'english': '@passion."',
            'russian': '@увлечённость".'
        })
        wait()

        print({
            'english': '\n\n"To be the basis of all gargoyle beliefs."',
            'russian': '\n\n"Это основа вера гаргулий".'
        })
        jump label_1027

    case 'fals':
    case {'russian': 'лож'}:
    case 'prop':
    case {'russian': 'прор'}:
        print({
            'english': '"To be feared by everybody - everybody except me and @Valkadesh, my ',
            'russian': '"Все бояться он - но не я и не @Валкадеш, мой '
        })
        print({
            'english': 'father!"',
            'russian': 'отец!"'
        })
        jump label_1027

    case 'guid':
    case {'russian': 'вед'}:
        jump label_3213

    case 'leav':
    case {'russian': 'уход'}:
        if partyHas(byte 235):
            print({
                'english': '"To wish to stay with you!"\n*\n"To not leave until there is peace ',
                'russian': '"Хочу здесь с тобой!"\n*\n"Не уходить пока не будет мир '
            })
            print({
                'english': 'between our races!"',
                'russian': 'между человек и гаргулья!"'
            })
            jump label_1027

        else:
            printString(strings_4206, byte 3)
            jump label_1027
        fi

    case 'bye':
    case {'russian': 'пока'}:
        print({
            'english': '"May ',
            'russian': '"Пусть '
        })

        if equals(partyHas(byte 235), byte 0):
            print({
                'english': 'y',
                'russian': 'д'
            })
        fi

        print({
            'english': 'our persistence and precision lead to success!"',
            'russian': 'настойчивость и старание приведут нас к успеху!"'
        })
        wait()

        print({
            'english': '\n',
            'russian': '\n'
        })
        setBit(byte 235, value 0)

        if equals(integer(value 9), byte 1):
            print({
                'english': '\nDuring your absence, $9 decided to head for the surface, to inform ',
                'russian': '\nПока вы отсутствовали, $9 решает подняться на поверхность, чтобы сообщить '
            })
            print({
                'english': 'Lord British of your progress.',
                'russian': 'Лорду Бритишу о вашем продвижении.'
            })
            wait()

            print({
                'english': '\n',
                'russian': '\n'
            })
        fi

        bye()

    case 'lava':
    case {'russian': 'лава'}:
    case 'pits':
    case {'russian': 'ямы'}:
        print({
            'english': '"To be in danger from the lava! To stay far away!"',
            'russian': '"Лава опасно! Оставаться далеко!"'
        })
        jump label_1027

    case 'moun':
    case {'russian': 'гор'}:
        print({
            'english': '"To walk clockwise around the mountains from Hythloth to reach my ',
            'russian': '"Идти часовая стрелка вокруг горы из Хитлот найти '
        })
        print({
            'english': 'father\'s @house."',
            'russian': '@дом мой отец".'
        })
        jump label_1027

    case 'hous':
    case {'russian': 'дом'}:
        print({
            'english': '"To find the house of Valkadesh my father through the pass east of the',
            'russian': '"Найти дом Валкадеш мой отец идти проход восток от'
        })
        print({
            'english': ' @Hall."',
            'russian': ' @Зал".'
        })
        jump label_1027

    case 'hall':
    case {'russian': 'зал'}:
    case 'know':
    case {'russian': 'знан'}:
        if equals(partyHasObject(byte 76, byte 0), byte 1):
            print({
                'english': '"To find the Hall of Knowledge to the south of the city."',
                'russian': '"Найти Зал знаний юг от город".'
            })

        else:
            print({
                'english': '"To avoid the Hall! To talk to @Valkadesh first!"',
                'russian': '"Не ходить Зал! Сначала говорить с @Валкадеш!"'
            })
        fi

        jump label_1027

    case 'all':
    case {'russian': 'все'}:
    case 'ever':
    case {'russian': 'вечн'}:
        jump label_3213

    case 'no':
    case {'russian': 'нет'}:
        if hasBit(byte 235, value 0):
            jump label_3117

        else:
            printString(strings_4206, byte 3)
        fi

        jump label_1027

    case 'yes':
    case {'russian': 'да'}:
        if hasBit(byte 235, value 0):
            print({
                'english': '"Good! To know that he very much wanted to speak with you."',
                'russian': '"Хорошо! Знать он хотеть говорить тебя".'
            })

        else:
            printString(strings_4206, byte 3)
        fi

        jump label_1027

    case '*':
        printString(strings_4206, random(byte 0, byte 4))
        jump label_1027
    esac

label_2973:
    print({
        'english': '\n"To wish to meet Valkadesh?" ',
        'russian': '\n"Желать видеть Валкадеш?" '
    })

    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'y':
    case {'russian': 'д'}:
        if partyHas(byte 164):
            jump label_3117

        else:
            print({
                'english': '"To go with you and @guide you there!"',
                'russian': '"Идти с тобой и @проводить!"'
            })
            wait()

            print({
                'english': '\n\n',
                'russian': '\n\n'
            })
            jump label_3693
        fi

    case 'n':
    case {'russian': 'н'}:
        print({
            'english': '"Oh." The little gargoyle seems saddened.',
            'russian': '"Ох". Молодая гаргулья выглядела расстроенной.'
        })
        jump label_1027
    esac

label_3117:
    print({
        'english': '"To wish @directions to the house of Valkadesh?" ',
        'russian': '"Желать @путь к дом Валкадеш?" '
    })

    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'y':
    case {'russian': 'д'}:
        jump label_3213
    esac

    print({
        'english': '\n"Then to not understand you."',
        'russian': '\n"Тогда не понимать тебя".'
    })
    jump label_1027

label_3213:
    print({
        'english': '"To go from the entrance to Hythloth westward, following the ',
        'russian': '"Идти восток от вход Хитлот, вдоль '
    })
    print({
        'english': '@mountains."',
        'russian': '@горы".'
    })
    wait()

    print({
        'english': '\n\n"Then to turn north, at the @Hall of Knowledge."',
        'russian': '\n\n"Потом поворачивать север у @Зал знаний".'
    })
    wait()

    print({
        'english': '\n\n"To walk east along the mountains until you come to a narrow pass."',
        'russian': '\n\n"Идти восток вдоль горы увидеть узкий проход".'
    })
    wait()

    print({
        'english': '\n\n"To find the @house of Valkadesh through the pass!"',
        'russian': '\n\n"Найти @дом Валкадеш после проход!"'
    })
    wait()

    print({
        'english': '\n\n"To see it at 40 degrees south, 65 degrees east by the sextant."',
        'russian': '\n\n"40 градус юг, 65 градус восток на секстант".'
    })
    wait()

    print({
        'english': '\n\n"But to take care! To avoid the @lava pits and the @Hall of ',
        'russian': '\n\n"Но быть осторожно! Ямы с @лавой и @Зал '
    })
    print({
        'english': 'Knowledge!"',
        'russian': 'знаний!"'
    })
    wait()

    print({
        'english': '\n\n"To understand these @directions?" ',
        'russian': '\n\n"Понимать @путь?" '
    })

    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'y':
    case {'russian': 'д'}:
        print({
            'english': '"Good!"',
            'russian': '"Хорошо!"'
        })
        jump label_1027

    case 'n':
    case {'russian': 'н'}:
        print({
            'english': '"To ask what was unclear?"',
            'russian': '"Спрашивать что непонятно?"'
        })
        jump label_1027
    esac

label_3693:
    integer(value 7) = partyJoin(byte 235)

    if integer(value 7):
        jump label_3761
    fi

    print({
        'english': 'The little gargoyle eagerly joins your group.',
        'russian': 'Молодая гаргулья охотно присоединяется к вашей группе.'
    })
    jump label_1027

label_3761:
    integer(value 8) = plus(integer(value 24), byte 1)
    integer(value 9) = byte 0

label_3778:
    if less(integer(value 8), byte 2):
        print({
            'english': '"To wish very much to join you. But to not have enough room in your ',
            'russian': '"Сильно желать идти вместе. Но ваша группа нет '
        })
        print({
            'english': 'party for another."',
            'russian': 'места".'
        })
        jump label_1027
    fi

    integer(value 6) = character(integer(value 8), byte 1)

    if or(or(equals(integer(value 6), byte 4), equals(integer(value 6), byte 3)), equals(integer(value 6), byte 2)):
        integer(value 8) = minus(integer(value 8), byte 1)
        jump label_3778

        if partyLeave(integer(value 6)):
            integer(value 8) = minus(integer(value 8), byte 1)
            jump label_3778
        fi
    fi

    look(integer(value 6))
    string(value 9) = string(value 34)

    if isNearby(integer(value 6)):
        portrait(integer(value 6))
        print({
            'english': '$9 speaks. "$G, I\'ll return to the surface and let everyone know of ',
            'russian': '$9 начинает говорить. "$G, я вернусь на поверхность и сообщу всем '
        })
        print({
            'english': 'our progress."',
            'russian': 'о нашем продвижении".'
        })
        wait()

        print({
            'english': '\n\n',
            'russian': '\n\n'
        })
        integer(value 9) = byte 0
        jump label_4075

    else:
        integer(value 9) = byte 1
        jump label_4075
    fi

label_4075:
    portrait(byte 235)

    if partyJoin(byte 235):
        print({
            'english': '"To not be able to join you right now. To ask again later, perhaps."\n',
            'russian': '"Нет идти вместе с тобой сейчас. Спрашивать потом, может быть".\n'
        })
        bye()

    else:
        print({
            'english': 'The little gargoyle eagerly joins your group.',
            'russian': 'Молодая гаргулья охотно присоединяется к вашей группе.'
        })
        jump label_1027
    fi

strings_4206 = [
    {
        'english': '"To know nothing about that."',
        'russian': '"Знать ничего об это".'
    }, // 0
    {
        'english': '"To be young. To think you should ask someone older."',
        'russian': '"Молодой. Ты спрашивать кого старше".'
    }, // 1
    {
        'english': '"To truly wish I could help you with that."',
        'russian': '"Жалеть не мочь помогать".'
    }, // 2
    {
        'english': '"To not understand what you mean by $Z."',
        'russian': '"Не понимать: \'$Z\'".'
    }, // 3
    {
        'english': '"To not have enough experience to answer that."',
        'russian': '"Нет опыт отвечать на это".'
    }, // 4
]
