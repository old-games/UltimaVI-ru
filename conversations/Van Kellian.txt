source("CONVERSE.A")
index(46)

id(46)
name("Van Kellian")

description:
    print("a man dressed in velvets and silks of yellow, green and blue.")
    wait()

    print("\n\nHis voice is rich and mellow.")
    wait()

    print("\n")

interaction:
    if equals(integer(value 32), byte 153):
    print("He glances behind him and ducks, as if expecting someone to throw ")
    print("something at him.\n*\n\"Bit of a brawl going on just now. Be glad to talk")
    print(" to you some other time.\"\n")
    bye()

    endif

    if equals(hasBit(byte 235, value 0), byte 0):
    ('SETF', ('byte', 235), ('value', 0))
    print("\"How do you do. I am the bard Van Kellian.\"")
    wait()

    print("\n\n\"Please, speak your name, $G.\"\n")

    ask()
    print("\n\"A pleasure, to be sure, $Z.\"")

    else:
    print("\"A very good $T to ye, my friend.\"")
    jump 445

    endif

    print("\n")

    ask()
    case "name":
    print("\"Call me Van.\"")
    jump 445

    case "job":
    print("\"Why, singing is my trade.\"")
    wait()

    print("\n\n\"Songs to soothe the soul and refresh the mind.\"")
    wait()

    print("\n\n\"Shall I sing for ye?\" ")

    if partyHas(byte 4):
    wait()

    ('PORTRAIT', ('byte', 4))
    print("\n\nIolo rolls his eyes and whispers to you.")
    wait()

    print("\n\n\"He believes he does us a favor. This I must hear.\"")
    wait()

    ('PORTRAIT', ('byte', 235))
    print("\n\n\"Well? How about a @song?\" ")

    endif

    jump 2045

    case "sing,song":
    print("\"'Tis such a topsy-turvy world ")
    wait()

    print("When my sweet lady-love whirls by ")
    wait()

    print("\nI would that I could catch her eye ")
    wait()

    print("\nSing ho eyo he hum!\"")
    jump 445

    case "mant":
    print("\"Did ye know that the mantra of pride is 'mul?' A @beggar told me ")
    print("that.\"")
    jump 445

    case "prid,begg,mul":
    print("\"There is little enough dignity in the life of a beggar.\"")
    wait()

    print("\n\n\"I gave him a few coins, of course.\"")
    jump 445

    case "stel,star":
    print("\"Starhelm and I have often debated the nature of the gargoyle @Sin ")
    print("'Vraal.\"")
    jump 445

    case "sin,vraa,'vra":
    print("\"If Lord British suffers him to live, then I will not harm him.\"")
    wait()

    print("\n\n\"What possible threat could one @gargoyle living alone in the Dry ")
    print("Lands be?\"")

    if isNearby(byte 45):
    wait()

    ('PORTRAIT', ('byte', 45))
    print("\n\nStelnar says \"I'll tell ye, Van.\"")
    wait()

    print("\n\n\"If ye let one gargoyle live, ")
    wait()

    print("then ye'll be tempted to spare trolls, ")
    wait()

    print("and then even cyclopses.\"")
    wait()

    print("\n\n\"And then ye forget valour, and soon ye are overrun by monsters!\"")
    wait()

    ('PORTRAIT', ('byte', 235))

    endif

    jump 445

    case "valo,comp":
    print("\"Valour comes from the courage to be virtuous.\"")
    wait()

    print("\n\n\"Just as compassion comes from a love of all mankind.\"")

    if isNearby(byte 45):
    wait()

    ('PORTRAIT', ('byte', 45))
    print("\n\n\"Aha! That means monsters are not deserving of mercy!\" says Stelnar")
    wait()

    ('PORTRAIT', ('byte', 235))
    print("\n\n\"Courage grows. Why not love?\"")

    endif

    jump 445

    case "garg":
    print("\"Well, I hear their skin is stony and rough.\"")
    wait()

    print("\n\"Their cries are fierce yowlings to make the blood run cold with ")
    print("fear.\"")
    wait()

    print("\n\n\"Though, mind ye, I myself have never faced one in combat.\"")
    jump 445

    case "bye":
    print("\"Good $T, and farewell.\"\n")
    bye()

    case "*":
    print("\"Hmm. No, I cannot help ye with that.\"")

    esac

    jump 445

2045:
    askc("yn")
    case "n":
    print("\"Well, perhaps another time, then.\"")
    case "y":
    print("The bard plays a harp and sings.")
    wait()

    print("\n\n\"Tho' she disdains to speak to me ")
    wait()

    print("\nAh how I pine and sigh for her ")
    wait()

    print("\nI would that I were handsome- o ")
    wait()

    print("\nSing ho eyo he hum!\"")

    esac

    jump 445
