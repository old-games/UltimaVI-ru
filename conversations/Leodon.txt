source("CONVERSE.B")
index(14)

id(113)
name("Leodon")

description:
    print("a woman with a slightly seaworn look, but delicate hands.")
    wait()

    print("\n")

interaction:
    if partyHas(byte 235):
    print("\"Yes, $P?\"")
    jump 212

    endif

    if equals(integer(value 32), byte 153):
    print("\"Not now, $G!\" She ducks a punch. \"I'm busy!\"\n")
    bye()

    endif

    print("\"A good $T to you, $G. Come, have a seat and talk with us a while.\"\n")

    ask()
    case "name":
    print("\"I'm @Captain Leodon.\"")
    ('SETF', ('byte', 235), ('value', 0))
    jump 212

    case "job":
    print("\"I'm captain of the @Golden @Hind.\"")
    wait()

    print("\n\"She's the finest ship I've ever had the pleasure of @sailing 'cross ")
    print("the briny deep.\"")
    jump 212

    case "fine,ship,sail,brin,deep,gold,hind,plea":
    print("\"Life on the @sea is the only life for me.\"")
    wait()

    print("\n\n\"Alas, the Hind needs serious @repairs just now.\"")
    jump 212

    case "need,seri,repa":
    print("\"Yes, I must keep myself occupied on land, meantime.\"")

    if partyHas(byte 235):
    jump 212

    endif

    wait()

    print("\n\n\"Perhaps I could @join thy party for a time.\"")
    jump 212

    case "occu,land,join,part":
    jump 1909

    case "leav":
    jump 2523

    case "life,sea":
    print("\"Ah, the sea. 'Tis as vast as a thousand @dreams.\"")
    jump 212

    case "vast,thou,drea":
    print("\"Indeed.\"")
    jump 212

    case "capt":

    if partyHas(byte 235):
    print("\"You wouldn't be talking about Captain @John, would you?\"")
    jump 212

    endif

    integer(value 0) = plus(plus(isNearby(byte 114), isNearby(byte 111)), isNearby(byte 112))

    if lessOrEquals(integer(value 0), byte 1):
    print("\"You wouldn't be talking about Captain @John, would you?\"")
    jump 212

    endif

    print("When you say 'Captain,' all the pirates at the table turn to you ")
    print("expectantly.")
    wait()

    print("\n\nWhen they realize you weren't talking to them, they return to their ")
    print("business.")
    jump 212

    case "leon":
    print("\"Aye, Leonna is the best first mate I've ever had.\"")
    wait()

    print("\n\n")

    if isNearby(byte 114):
    ('PORTRAIT', ('byte', 114))
    print("Leonna blushes and looks away, embarassed.")
    wait()

    ('PORTRAIT', ('byte', 235))
    print("\n\n")

    endif

    print("\"Comes from being a captain once herself, you know.\"")
    jump 212

    case "john":
    print("\"That scallawag?\"")
    wait()

    print("\n\"He went down to the other side of the world to join up with the ")
    print("@gargoyles, the dirty traitor...\"")

    if isNearby(byte 112):
    wait()

    ('PORTRAIT', ('byte', 112))
    print("\nThe tea-drinker interrupts. \"No, no, you've got it all wrong!\"")
    wait()

    print("\n\n\"I can tell you the truth about Captain John!\"")
    wait()

    ('PORTRAIT', ('byte', 235))

    endif

    jump 212

    case "garg":
    print("\"Vile creatures, they are.\"")
    wait()

    print("\n\n\"One of them attacked  my ship once. He flew off with a @ham before ")
    print("anyone could stop him.\"")
    jump 212

    case "vile,crea,ham":
    print("\"Yes, he stole my ham, and I dined on @biscuits that night.\"")
    jump 212

    case "dine,bisc":
    print("\"That's right.\"")
    jump 212

    case "bye":

    if partyHas(byte 235):
    print("\"Back to our quest, eh $G?\"\n")
    bye()

    endif

    print("\"Drop by again next time you're in town.\"\n")
    bye()

    case "*":
    print("\"I can't help you with that.\"")

    esac

    jump 212

1909:
    if partyHas(byte 235):
    print("\"I'd be glad to join you--but I have already!\"")
    jump 212

    endif

    print("\"The Golden Hind won't be repaired for months, at the soonest.\"")
    wait()

    print("\n\n\"Traveling with you would likely prove interesting.\"")
    wait()

    print("\n\n\"Would you like me to come along?\" ")

    askc("yn")
    case "n":
    print("\"Okay. I'll be here if you change your mind.\"")
    jump 212

    case "y":

    esac

    integer(value 0) = partyJoin(byte 235)

    if equals(integer(value 0), byte 1):
    print("\"Not while you're in that thing!\"")
    jump 212

    endif

    if equals(integer(value 0), byte 2):
    print("\"You have enough travelling with you already.\"")
    wait()

    print("\n\n\"But if you ask one of them to @leave first, I'd be happy to join ")
    print("you.\"")
    jump 212

    endif

    if equals(integer(value 0), byte 3):
    jump 1914

    endif

    print("\"Very well. This should make a nice change from my usual routine.\"")

    if equals(partyHas(byte 114), byte 0):
    print("\n\n")
    wait()

    print("\"You might ask @Leonna if she would like to join us as well.\"")

    endif

    print("\n")
    bye()

2523:
    if equals(partyHas(byte 235), byte 0):
    print("\"I'd have to @join you before I could leave, silly!\"")
    jump 212

    endif

    integer(value 0) = partyLeave(byte 235)

    if equals(integer(value 0), byte 1):
    print("\"Let's get our feet back on solid ground first, okay?\"")
    jump 212

    endif

    if equals(integer(value 0), byte 2):
    jump 2531

    endif

    print("\"Okay. I think I'll head back to the Fallen Virgin, then.\"\n*\n\"Here's ")
    print("all the equipment I was carrying, if you need it.\"\n")
    bye()
