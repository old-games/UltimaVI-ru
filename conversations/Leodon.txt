source('CONVERSE.B')
index(14)

id(113)
name({
    'english': 'Leodon',
    'russian': 'Леодон'
})

description:
    print({
        'english': 'a woman with a slightly seaworn look, but delicate hands.',
        'russian': 'женщину со слегка потрёпанной внешностью, но изящными руками.'
    })
    wait()

    print({
        'english': '\n',
        'russian': '\n'
    })

interaction:
    if partyHas(byte 235):
        print({
            'english': '"Yes, $P?"',
            'russian': '"Да, $P?"'
        })
        jump label_212
    fi

    if equals(integer(value 32), byte 153):
        print({
            'english': '"Not now, $G!" She ducks a punch. "I\'m busy!"\n',
            'russian': '"Не сейчас, $G!" Она уклоняется от удара. "Я занята!"\n'
        })
        bye()
    fi

    print({
        'english': '"A good $T to you, $G. Come, have a seat and talk with us a while."',
        'russian': '"Доброго времени $T вам, $G. Подойдите, присядьте и поболтайте с нами немного".'
    })

label_212:
    print({
        'english': '\n',
        'russian': '\n'
    })

    ask()

    case 'name':
    case {'russian': 'имя'}:
        print({
            'english': '"I\'m @Captain Leodon."',
            'russian': '"Я @капитан Леодон".'
        })
        setBit(byte 235, value 0)
        jump label_212

    case 'job':
    case {'russian': 'раб'}:
        print({
            'english': '"I\'m captain of the @Golden @Hind."',
            'russian': '"Я капитан \'@Золотой @лани\'".'
        })
        wait()

        print({
            'english': '\n"She\'s the finest ship I\'ve ever had the pleasure of @sailing \'cross ',
            'russian': '\n"Это самый прекрасный корабль, на котором я когда-либо имела удовольствие @плавать, пересекая '
        })
        print({
            'english': 'the briny deep."',
            'russian': 'солёную пучину".'
        })
        jump label_212

    case 'fine':
    case {'russian': 'прек'}:
    case 'ship':
    case {'russian': 'кора'}:
    case 'sail':
    case {'russian': 'плав'}:
    case 'brin':
    case {'russian': 'солё'}:
    case 'deep':
    case {'russian': 'пучи'}:
    case 'gold':
    case {'russian': 'золо'}:
    case 'hind':
    case {'russian': 'лани'}:
    case 'plea':
    case {'russian': 'удов'}:
        print({
            'english': '"Life on the @sea is the only life for me."',
            'russian': '"Жизнь в @море для меня - единственная жизнь".'
        })
        wait()

        print({
            'english': '\n\n"Alas, the Hind needs serious @repairs just now."',
            'russian': '\n\n"Увы, \'Лань\' как раз сейчас нуждается в серьёзном @ремонте".'
        })
        jump label_212

    case 'need':
    case {'russian': 'нужд'}:
    case 'seri':
    case {'russian': 'серь'}:
    case 'repa':
    case {'russian': 'ремо'}:
        print({
            'english': '"Yes, I must keep myself occupied on land, meantime."',
            'russian': '"Да, мне нужно чем-то занять себя на суше".'
        })

        if partyHas(byte 235):
            jump label_212
        fi

        wait()

        print({
            'english': '\n\n"Perhaps I could @join thy party for a time."',
            'russian': '\n\n"Возможно, я могла бы @присоединиться к твоему отряду на некоторое время".'
        })
        jump label_212

    case 'occu':
    case {'russian': 'заня'}:
    case 'land':
    case {'russian': 'суше'}:
    case 'join':
    case {'russian': 'прис'}:
    case 'part':
    case {'russian': 'отря'}:
        jump label_1909

    case 'leav':
    case {'russian': 'поки'}:
        jump label_2523

    case 'life':
    case {'russian': 'жизн'}:
    case 'sea':
    case {'russian': 'море'}:
        print({
            'english': '"Ah, the sea. \'Tis as vast as a thousand @dreams."',
            'russian': '"Ах, море. Оно такое же огромное, как тысяча @снов".'
        })
        jump label_212

    case 'vast':
    case {'russian': 'огро'}:
    case 'thou':
    case {'russian': 'тыся'}:
    case 'drea':
    case {'russian': 'снов'}:
        print({
            'english': '"Indeed."',
            'russian': '"Несомненно".'
        })
        jump label_212

    case 'capt':
    case {'russian': 'капи'}:
        if partyHas(byte 235):
            print({
                'english': '"You wouldn\'t be talking about Captain @John, would you?"',
                'russian': '"Вы ведь не о капитане @Джоне говорите, правда?"'
            })
            jump label_212
        fi

        integer(value 0) = plus(plus(isNearby(byte 114), isNearby(byte 111)), isNearby(byte 112))

        if lessOrEquals(integer(value 0), byte 1):
            print({
                'english': '"You wouldn\'t be talking about Captain @John, would you?"',
                'russian': '"Вы ведь не о капитане @Джоне говорите, правда?"'
            })
            jump label_212
        fi

        print({
            'english': 'When you say \'Captain,\' all the pirates at the table turn to you ',
            'russian': 'Если в баре: Когда вы говорите \'капитан\', все пираты за столом выжидательно '
        })
        print({
            'english': 'expectantly.',
            'russian': 'поворачиваются к вам.'
        })
        wait()

        print({
            'english': '\n\nWhen they realize you weren\'t talking to them, they return to their ',
            'russian': '\n\nКогда они понимают, что вы обращаетесь не к ним, они возвращаются к своим '
        })
        print({
            'english': 'business.',
            'russian': 'делам.'
        })
        jump label_212

    case 'leon':
    case {'russian': 'леон'}:
        print({
            'english': '"Aye, Leonna is the best first mate I\'ve ever had."',
            'russian': '"Леонна - лучший первый помощник, который у меня когда-либо был".'
        })
        wait()

        print({
            'english': '\n\n',
            'russian': '\n\n'
        })

        if isNearby(byte 114):
            portrait(byte 114)
            print({
                'english': 'Leonna blushes and looks away, embarassed.',
                'russian': 'Леонна рядом: Леонна краснеет и смущённо отводит взгляд.'
            })
            wait()

            portrait(byte 235)
            print({
                'english': '\n\n',
                'russian': '\n\n'
            })
        fi

        print({
            'english': '"Comes from being a captain once herself, you know."',
            'russian': '"Это потому, что она сама когда-то была капитаном".'
        })
        jump label_212

    case 'john':
    case {'russian': 'джон'}:
        print({
            'english': '"That scallawag?"',
            'russian': '"Этот негодяй?"'
        })
        wait()

        print({
            'english': '\n"He went down to the other side of the world to join up with the ',
            'russian': '\n"Он отправился на другой конец света, чтобы присоединиться к '
        })
        print({
            'english': '@gargoyles, the dirty traitor..."',
            'russian': '@горгульям, грязный предатель..."'
        })

        if isNearby(byte 112):
            wait()

            portrait(byte 112)
            print({
                'english': '\nThe tea-drinker interrupts. "No, no, you\'ve got it all wrong!"',
                'russian': '\nЕё прерывает любитель чая: "Нет, нет, вы всё неправильно поняли!"'
            })
            wait()

            print({
                'english': '\n\n"I can tell you the truth about Captain John!"',
                'russian': '\n\n"Я могу рассказать вам правду о капитане Джоне!"'
            })
            wait()

            portrait(byte 235)
        fi

        jump label_212

    case 'garg':
    case {'russian': 'горг'}:
        print({
            'english': '"Vile creatures, they are."',
            'russian': '"Мерзкие твари, вот они кто".'
        })
        wait()

        print({
            'english': '\n\n"One of them attacked  my ship once. He flew off with a @ham before ',
            'russian': '\n\n"Один из них однажды напал на мой корабль. Он улетел с @ветчиной, прежде '
        })
        print({
            'english': 'anyone could stop him."',
            'russian': 'чем кто-либо успел его остановить".'
        })
        jump label_212

    case 'vile':
    case {'russian': 'мерз'}:
    case 'crea':
    case {'russian': 'твар'}:
    case 'ham':
    case {'russian': 'ветч'}:
        print({
            'english': '"Yes, he stole my ham, and I dined on @biscuits that night."',
            'russian': '"Да, он украл мою ветчину, и в тот вечер мне пришлось ужинать @печеньем".'
        })
        jump label_212

    case 'dine':
    case {'russian': 'ужин'}:
    case 'bisc':
    case {'russian': 'пече'}:
        print({
            'english': '"That\'s right."',
            'russian': '"Именно так".'
        })
        jump label_212

    case 'bye':
    case {'russian': 'пока'}:
        if partyHas(byte 235):
            print({
                'english': '"Back to our quest, eh $G?"\n',
                'russian': '"Вернёмся к нашим поискам, а, $G?"\n'
            })
            bye()
        fi

        print({
            'english': '"Drop by again next time you\'re in town."\n',
            'russian': '"Зайдите в следующий раз, когда будете в городке".\n'
        })
        bye()

    case '*':
        print({
            'english': '"I can\'t help you with that."',
            'russian': '"Я не могу помочь вам с этим".'
        })
    esac

    jump label_212

label_1909:
    if partyHas(byte 235):
label_1914:
        print({
            'english': '"I\'d be glad to join you--but I have already!"',
            'russian': '"Я была бы рада присоединиться к вам, но я итак в вашем отряде!"'
        })
        jump label_212
    fi

    print({
        'english': '"The Golden Hind won\'t be repaired for months, at the soonest."',
        'russian': '"\'Золотая лань\' не будет отремонтирована в ближайшие месяцы".'
    })
    wait()

    print({
        'english': '\n\n"Traveling with you would likely prove interesting."',
        'russian': '\n\n"Путешествовать с вами, вероятно, будет интересно".'
    })
    wait()

    print({
        'english': '\n\n"Would you like me to come along?" ',
        'russian': '\n\n"Хотите, я составлю вам компанию?" '
    })

    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'n':
    case {'russian': 'н'}:
        print({
            'english': '"Okay. I\'ll be here if you change your mind."',
            'russian': '"Ладно. Я буду здесь, если вы передумаете".'
        })
        jump label_212

    case 'y':
    case {'russian': 'д'}:
    esac

    integer(value 0) = partyJoin(byte 235)

    if equals(integer(value 0), byte 1):
        print({
            'english': '"Not while you\'re in that thing!"',
            'russian': '"Только не здесь!"'
        })
        jump label_212
    fi

    if equals(integer(value 0), byte 2):
        print({
            'english': '"You have enough travelling with you already."',
            'russian': '"С вами итак уже достаточно попутчиков".'
        })
        wait()

        print({
            'english': '\n\n"But if you ask one of them to @leave first, I\'d be happy to join ',
            'russian': '\n\n"Но если вы попросите кого-нибудь из них @покинуть отряд, я с радостью присоединюсь к '
        })
        print({
            'english': 'you."',
            'russian': 'вам".'
        })
        jump label_212
    fi

    if equals(integer(value 0), byte 3):
        jump label_1914
    fi

    print({
        'english': '"Very well. This should make a nice change from my usual routine."',
        'russian': '"Отлично. Это должно внести приятное разнообразие в мой обычный распорядок дня".'
    })

    if equals(partyHas(byte 114), byte 0):
        print({
            'english': '\n\n',
            'russian': '\n\n'
        })
        wait()

        print({
            'english': '"You might ask @Leonna if she would like to join us as well."',
            'russian': '"Вы могли бы спросить @Леонну, не хочет ли она тоже присоединиться к нам".'
        })
    fi

    print({
        'english': '\n',
        'russian': '\n'
    })
    bye()

label_2523:
    if equals(partyHas(byte 235), byte 0):
label_2531:
        print({
            'english': '"I\'d have to @join you before I could leave, silly!"',
            'russian': '"Мне сначало придётся @присоединиться к отряду, прежде чем его покинуть, глупышка!"'
        })
        jump label_212
    fi

    integer(value 0) = partyLeave(byte 235)

    if equals(integer(value 0), byte 1):
        print({
            'english': '"Let\'s get our feet back on solid ground first, okay?"',
            'russian': '"Давай сначала встанем на твёрдую почву, хорошо?"'
        })
        jump label_212
    fi

    if equals(integer(value 0), byte 2):
        jump label_2531
    fi

    print({
        'english': '"Okay. I think I\'ll head back to the Fallen Virgin, then."\n*\n"Here\'s ',
        'russian': '"Ладно. Тогда, пожалуй, я вернусь в \'Падшую деву\'".\n*\n"Вот '
    })
    print({
        'english': 'all the equipment I was carrying, if you need it."\n',
        'russian': 'всё снаряжение, которое у меня с собой было, если оно вам понадобится".\n'
    })
    bye()

    // Unreachable code!
    jump label_212
