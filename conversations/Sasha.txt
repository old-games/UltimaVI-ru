source('CONVERSE.B')
index(27)

id(126)
name('Sasha')

description:
    print('a pretty young nurse with violet eyes.')
    wait()

    print('\n')

interaction:
    print('"Leave these men alone! Can\'t you see they need to @rest?"\n')

    ask()

    case 'name':
        print('"My name is Sasha."')
        setBit(byte 235, value 0)
        jump label_107

    case 'job':
        print('"I @tend the sick. I know how to @heal, @cure, and @resurrect."')
        jump label_107

    case 'alon':
    case 'leav':
    case 'need':
    case 'rest':
    case 'slee':
        print('"Aye, these men\'s wounds need @time to @heal."')
        jump label_107

    case 'sick':
    case 'tend':
    case 'time':
    case 'woun':
        print('"Thou hast kept me from my duties long enough. Away with thee!"')
        jump label_107

    case 'heal':
        print('"More wounded? I\'ll do what I can."')
        wait()

        print('\n\nThe poor nurse seems weary beyond words.\n')
        jump label_1121

    case 'cure':
        print('"Poison? Yes, I can cure that. Let me see..."')
        wait()

        print('\n\n')
        jump label_2114

    case 'resu':
        print('Your question seems almost like a blow to the woman.')
        wait()

        print('\n\n"Nay, I cannot. I no longer have the energy, or the @reagents."')
        wait()

        print('\n\n"It has been a dark, dark day indeed."')
        wait()

        print('\n\n"I am sorry that I cannot help you, but we all @grieve today."')
        jump label_107

    case 'ener':
    case 'reag':
        print('"I have aided many today."')
        wait()

        print('\n\n"These men are the last; they are beyond the help of all save @time ')
        print('itself."')
        jump label_107

    case 'dark':
    case 'grie':
    case 'men':
    case 'toda':
        print('"These soldiers are the only survivors of an attempt to free the ')
        print('Shrine of @Compassion."')
        jump label_107

    case 'comp':
    case 'shri':
        print('"Show thy compassion now and let them @sleep."')
        jump label_107

    case 'bye':
        print('"Goodbye."\n')
        bye()

    case '*':
        print('"I cannot help thee with that."')
    esac

    jump label_107

label_1121:
    if greater(integer(value 23), byte 0):
        integer(value 1) = byte 0
        integer(value 2) = byte 0
        integer(value 4) = byte 0
        jump label_1284
    fi

    integer(value 3) = character(byte 0, byte 0)

    if isWounded(integer(value 3)):
        jump label_1644

    else:
        print('"Don\'t waste my time! Thou art not wounded!"')
        wait()

        print('\n\n"\'Tis hard enough tending to those truly sick. Begone!"')
        jump label_107
    fi

label_1284:
    if greater(integer(value 1), integer(value 23)):
        jump label_1394
    fi

    integer(value 3) = character(integer(value 1), byte 0)

    if equals(isWounded(integer(value 3)), byte 0):
        jump label_1379
    fi

    if equals(integer(value 4), byte 0):
        integer(value 4) = integer(value 3)
        integer(value 2) = plus(integer(value 2), byte 1)
        jump label_1379
    fi

    look(integer(value 4))
    print('#2) $Y\n')
    integer(value 2) = plus(integer(value 2), byte 1)
    integer(value 4) = integer(value 3)

label_1379:
    integer(value 1) = plus(integer(value 1), byte 1)
    jump label_1284

label_1394:
    if equals(integer(value 2), byte 0):
        print('"Don\'t waste my time! None of you are wounded!"')
        wait()

        print('\n\n"\'Tis hard enough tending to those truly sick. Begone!"')
        jump label_107
    fi

    if equals(integer(value 2), byte 1):
        integer(value 3) = integer(value 4)
        jump label_1644
    fi

    look(integer(value 4))
    print('#2) $Y\n"Which of you?" ')
    inputNumber(integer(value 2))

    if equals(integer(value 2), byte 0):
        jump label_2066
    fi

    integer(value 1) = byte 0

label_1582:
    integer(value 3) = character(integer(value 1), byte 0)

    if isWounded(integer(value 3)):
        integer(value 2) = minus(integer(value 2), byte 1)
    fi

    if equals(integer(value 2), byte 0):
        jump label_1644
    fi

    integer(value 1) = plus(integer(value 1), byte 1)

    if lessOrEquals(integer(value 1), integer(value 23)):
        jump label_1582
    fi

label_1644:
    look(integer(value 3))
    print('"I see thy injury, $Y."')
    wait()

    print('\n\n"Wilt thou make an offering of 40 gold?" ')

    choice('yn')

    case 'y':
        if less(objectsCount(integer(value 3), byte 88), byte 40):
            jump label_1870

        else:
            print('Sasha approaches $Y and binds the wounds.')
            destroy(integer(value 3), byte 88, byte 0, byte 40)
            heal(integer(value 3))
            jump label_107
        fi

    case 'n':
        if less(objectsCount(integer(value 3), byte 88), byte 40):
            jump label_1870

        else:
            print('"If thou wilt not pay, I cannot heal thee."')
            jump label_2066
        fi
    esac

label_1870:
    if less(integer(value 20), byte 40):
        print('"I\'m sorry. Without an offering I cannot heal thee."')
        jump label_107

    else:
        print('"Thou art poor, but thy cause is just."')
        wait()

        print('\n\n"I will heal thee without payment."')
        wait()

        print('\n\nSasha approaches $Y and binds the wounds.')
        heal(integer(value 3))
        jump label_2066
    fi

label_2066:
    wait()

    print('\n\n"Is there aught else I can do for thee?"')
    jump label_107

label_2114:
    if greater(integer(value 23), byte 0):
        integer(value 1) = byte 0
        integer(value 2) = byte 0
        integer(value 4) = byte 0
        jump label_2278
    fi

    integer(value 3) = character(byte 0, byte 0)

    if isPoisoned(integer(value 3)):
        jump label_2639

    else:
        print('"Don\'t waste my time! Thou art not poisoned!"')
        wait()

        print('\n\n"\'Tis hard enough tending to those truly sick. Begone!"')
        jump label_107
    fi

label_2278:
    if greater(integer(value 1), integer(value 23)):
        jump label_2388
    fi

    integer(value 3) = character(integer(value 1), byte 0)

    if equals(isPoisoned(integer(value 3)), byte 0):
        jump label_2373
    fi

    if equals(integer(value 4), byte 0):
        integer(value 4) = integer(value 3)
        integer(value 2) = plus(integer(value 2), byte 1)
        jump label_2373
    fi

    look(integer(value 4))
    print('#2) $Y\n')
    integer(value 2) = plus(integer(value 2), byte 1)
    integer(value 4) = integer(value 3)

label_2373:
    integer(value 1) = plus(integer(value 1), byte 1)
    jump label_2278

label_2388:
    if equals(integer(value 2), byte 0):
        print('"Don\'t waste my time! None of you are poisoned!"')
        wait()

        print('\n\n"\'Tis hard enough tending to those truly sick. Begone!"')
        jump label_107
    fi

    if equals(integer(value 2), byte 1):
        integer(value 3) = integer(value 4)
        jump label_2639
    fi

    look(integer(value 4))
    print('#2) $Y\n"Which of you?" ')
    inputNumber(integer(value 2))

    if equals(integer(value 2), byte 0):
        jump label_2066
    fi

    integer(value 1) = byte 0

label_2577:
    integer(value 3) = character(integer(value 1), byte 0)

    if isPoisoned(integer(value 3)):
        integer(value 2) = minus(integer(value 2), byte 1)
    fi

    if equals(integer(value 2), byte 0):
        jump label_2639
    fi

    integer(value 1) = plus(integer(value 1), byte 1)

    if lessOrEquals(integer(value 1), integer(value 23)):
        jump label_2577
    fi

label_2639:
    look(integer(value 3))
    print('"I sense that thou art poisoned, $Y."')
    wait()

    print('\n\n"Wilt thou make an offering of 15 gold?" ')

    choice('yn')

    case 'y':
        if less(objectsCount(integer(value 3), byte 88), byte 15):
            jump label_2911

        else:
            print('Sasha grabs a vial and pours it down $Y\'s throat.')
            wait()

            print('\n\n$Y feels much better.')
            destroy(integer(value 3), byte 88, byte 0, byte 15)
            cure(integer(value 3))
            jump label_2066
        fi

    case 'n':
        if less(objectsCount(integer(value 3), byte 88), byte 15):
            jump label_2911

        else:
            print('"If thou wilt not pay, I cannot cure thee."')
            jump label_2066
        fi
    esac

label_2911:
    if less(integer(value 20), byte 40):
        print('"I\'m sorry. Without an offering I cannot cure thee."')
        jump label_107

    else:
        print('"Thou art poor, but thy cause is just."')
        wait()

        print('\n\n"I will cure thee without payment."')
        wait()

        print('\n\nSasha grabs a vial and pours it down $Y\'s throat.')
        wait()

        print('\n\n$Y feels much better.')
        cure(integer(value 3))
        jump label_2066
    fi
