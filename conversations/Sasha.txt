source("CONVERSE.B")
index(27)

id(126)
name("Sasha")

description:
    print("a pretty young nurse with violet eyes.")
    wait()

    print("\n")

interaction:
    print("\"Leave these men alone! Can't you see they need to @rest?\"\n")

    ask()
    case "name":
    print("\"My name is Sasha.\"")
    ('SETF', ('byte', 235), ('value', 0))
    jump 107

    case "job":
    print("\"I @tend the sick. I know how to @heal, @cure, and @resurrect.\"")
    jump 107

    case "rest,need,alon,leav,slee":
    print("\"Aye, these men's wounds need @time to @heal.\"")
    jump 107

    case "woun,time,tend,sick":
    print("\"Thou hast kept me from my duties long enough. Away with thee!\"")
    jump 107

    case "heal":
    print("\"More wounded? I'll do what I can.\"")
    wait()

    print("\n\nThe poor nurse seems weary beyond words.\n")
    jump 1121

    case "cure":
    print("\"Poison? Yes, I can cure that. Let me see...\"")
    wait()

    print("\n\n")
    jump 2114

    case "resu":
    print("Your question seems almost like a blow to the woman.")
    wait()

    print("\n\n\"Nay, I cannot. I no longer have the energy, or the @reagents.\"")
    wait()

    print("\n\n\"It has been a dark, dark day indeed.\"")
    wait()

    print("\n\n\"I am sorry that I cannot help you, but we all @grieve today.\"")
    jump 107

    case "ener,reag":
    print("\"I have aided many today.\"")
    wait()

    print("\n\n\"These men are the last; they are beyond the help of all save @time ")
    print("itself.\"")
    jump 107

    case "men,grie,toda,dark":
    print("\"These soldiers are the only survivors of an attempt to free the ")
    print("Shrine of @Compassion.\"")
    jump 107

    case "shri,comp":
    print("\"Show thy compassion now and let them @sleep.\"")
    jump 107

    case "bye":
    print("\"Goodbye.\"\n")
    bye()

    case "*":
    print("\"I cannot help thee with that.\"")

    esac

    jump 107

1121:
    if greater(integer(value 23), byte 0):
    integer(value 1) = byte 0
    integer(value 2) = byte 0
    integer(value 4) = byte 0
    jump 1284

    endif

    integer(value 3) = character(byte 0, byte 0)

    if isWounded(integer(value 3)):
    jump 1644

    else:
    print("\"Don't waste my time! Thou art not wounded!\"")
    wait()

    print("\n\n\"'Tis hard enough tending to those truly sick. Begone!\"")
    jump 107

1283:
    endif

1284:
    if greater(integer(value 1), integer(value 23)):
    jump 1394

    endif

    integer(value 3) = character(integer(value 1), byte 0)

    if equals(isWounded(integer(value 3)), byte 0):
    jump 1379

    endif

    if equals(integer(value 4), byte 0):
    integer(value 4) = integer(value 3)
    integer(value 2) = plus(integer(value 2), byte 1)
    jump 1379

    endif

    ('SETNAME', ('integer', [('value', 4)]))
    print("#2) $Y\n")
    integer(value 2) = plus(integer(value 2), byte 1)
    integer(value 4) = integer(value 3)
    integer(value 1) = plus(integer(value 1), byte 1)
    jump 1284

1394:
    if equals(integer(value 2), byte 0):
    print("\"Don't waste my time! None of you are wounded!\"")
    wait()

    print("\n\n\"'Tis hard enough tending to those truly sick. Begone!\"")
    jump 107

    endif

    if equals(integer(value 2), byte 1):
    integer(value 3) = integer(value 4)
    jump 1644

    endif

    ('SETNAME', ('integer', [('value', 4)]))
    print("#2) $Y\n\"Which of you?\" ")
    ('INPUTNUM', 2)

    if equals(integer(value 2), byte 0):
    jump 2066

    endif

    integer(value 1) = byte 0
    integer(value 3) = character(integer(value 1), byte 0)

    if isWounded(integer(value 3)):
    integer(value 2) = minus(integer(value 2), byte 1)

    endif

    if equals(integer(value 2), byte 0):
    jump 1644

    endif

    integer(value 1) = plus(integer(value 1), byte 1)

    if lessOrEquals(integer(value 1), integer(value 23)):
    jump 1582

    endif

1644:
    ('SETNAME', ('integer', [('value', 3)]))
    print("\"I see thy injury, $Y.\"")
    wait()

    print("\n\n\"Wilt thou make an offering of 40 gold?\" ")

    askc("yn")
    case "y":

    if less(objectsCount(integer(value 3), byte 88), byte 40):
    jump 1870

    else:
    print("Sasha approaches $Y and binds the wounds.")
    ('DELETE', ('integer', [('value', 3)]), ('byte', 88), ('byte', 0), ('byte', 40))
    ('HEAL', ('integer', [('value', 3)]))
    jump 107

    endif

    case "n":

    if less(objectsCount(integer(value 3), byte 88), byte 40):
    jump 1870

    else:
    print("\"If thou wilt not pay, I cannot heal thee.\"")
    jump 2066

1868:
    endif

    esac

1870:
    if less(integer(value 20), byte 40):
    print("\"I'm sorry. Without an offering I cannot heal thee.\"")
    jump 107

    else:
    print("\"Thou art poor, but thy cause is just.\"")
    wait()

    print("\n\n\"I will heal thee without payment.\"")
    wait()

    print("\n\nSasha approaches $Y and binds the wounds.")
    ('HEAL', ('integer', [('value', 3)]))
    jump 2066

2065:
    endif

2066:
    wait()

    print("\n\n\"Is there aught else I can do for thee?\"")
    jump 107

2114:
    if greater(integer(value 23), byte 0):
    integer(value 1) = byte 0
    integer(value 2) = byte 0
    integer(value 4) = byte 0
    jump 2278

    endif

    integer(value 3) = character(byte 0, byte 0)

    if isPoisoned(integer(value 3)):
    jump 2639

    else:
    print("\"Don't waste my time! Thou art not poisoned!\"")
    wait()

    print("\n\n\"'Tis hard enough tending to those truly sick. Begone!\"")
    jump 107

2277:
    endif

2278:
    if greater(integer(value 1), integer(value 23)):
    jump 2388

    endif

    integer(value 3) = character(integer(value 1), byte 0)

    if equals(isPoisoned(integer(value 3)), byte 0):
    jump 2373

    endif

    if equals(integer(value 4), byte 0):
    integer(value 4) = integer(value 3)
    integer(value 2) = plus(integer(value 2), byte 1)
    jump 2373

    endif

    ('SETNAME', ('integer', [('value', 4)]))
    print("#2) $Y\n")
    integer(value 2) = plus(integer(value 2), byte 1)
    integer(value 4) = integer(value 3)
    integer(value 1) = plus(integer(value 1), byte 1)
    jump 2278

2388:
    if equals(integer(value 2), byte 0):
    print("\"Don't waste my time! None of you are poisoned!\"")
    wait()

    print("\n\n\"'Tis hard enough tending to those truly sick. Begone!\"")
    jump 107

    endif

    if equals(integer(value 2), byte 1):
    integer(value 3) = integer(value 4)
    jump 2639

    endif

    ('SETNAME', ('integer', [('value', 4)]))
    print("#2) $Y\n\"Which of you?\" ")
    ('INPUTNUM', 2)

    if equals(integer(value 2), byte 0):
    jump 2066

    endif

    integer(value 1) = byte 0
    integer(value 3) = character(integer(value 1), byte 0)

    if isPoisoned(integer(value 3)):
    integer(value 2) = minus(integer(value 2), byte 1)

    endif

    if equals(integer(value 2), byte 0):
    jump 2639

    endif

    integer(value 1) = plus(integer(value 1), byte 1)

    if lessOrEquals(integer(value 1), integer(value 23)):
    jump 2577

    endif

    ('SETNAME', ('integer', [('value', 3)]))
    print("\"I sense that thou art poisoned, $Y.\"")
    wait()

    print("\n\n\"Wilt thou make an offering of 15 gold?\" ")

    askc("yn")
    case "y":

    if less(objectsCount(integer(value 3), byte 88), byte 15):
    jump 2911

    else:
    print("Sasha grabs a vial and pours it down $Y's throat.")
    wait()

    print("\n\n$Y feels much better.")
    ('DELETE', ('integer', [('value', 3)]), ('byte', 88), ('byte', 0), ('byte', 15))
    ('CURE', ('integer', [('value', 3)]))
    jump 2066

    endif

    case "n":

    if less(objectsCount(integer(value 3), byte 88), byte 15):
    jump 2911

    else:
    print("\"If thou wilt not pay, I cannot cure thee.\"")
    jump 2066

2909:
    endif

    esac

2911:
    if less(integer(value 20), byte 40):
    print("\"I'm sorry. Without an offering I cannot cure thee.\"")
    jump 107

    else:
    print("\"Thou art poor, but thy cause is just.\"")
    wait()

    print("\n\n\"I will cure thee without payment.\"")
    wait()

    print("\n\nSasha grabs a vial and pours it down $Y's throat.")
    wait()

    print("\n\n$Y feels much better.")
    ('CURE', ('integer', [('value', 3)]))
    jump 2066

3138:
    endif
