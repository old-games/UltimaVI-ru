source("CONVERSE.B")
index(44)

id(143)
name("Papa")

description:
    print("a huge male cyclops.")

interaction:
    wait()

    print("\n")

    if hasBit(byte 235, byte 2):
    print("\"Hoh, hoh. You back!\"")
    wait()

    print("\n\n\"You bring good fish.\"")
    wait()

    print("\n\n\"Bring more?\" ")

    askc("yn")
    case "y":
    jump 845

    case "n":
    print("\"No fish?\" The cyclops seems sad.")
    jump 232

    esac

    endif

    if hasBit(byte 235, value 0):
    print("\"Hoh! You bring fish?\" ")

    askc("yn")
    case "y":
    jump 845

    case "n":
    print("\"Get @fish!\"")
    jump 232

    esac

    endif

    print("\"Who you?\"")
    ('SETF', ('byte', 235), ('value', 0))
    print("\n")

    ask()
    case "name":
    print("\"Me cyclops.\"")
    wait()

    print("\n\n\"@Tiny one say me 'Papa.'\"")
    jump 232

    case "one":
    case "tiny":
    print("\"Find him on shore.\"")
    wait()

    print("\n\n\"One-eye little one die long ago.\"")
    wait()

    print("\n\n\"Female want little one, so keep tiny one.\"")
    wait()

    print("\n\n\"Not strong like one-eye little one.\"")
    jump 232

    case "job":
    print("\"Live here! Eat, hunt!\"")
    jump 232

    case "cell":
    print("\"Cellar no go. @Locked.\"")
    jump 232

    case "key":
    case "lock":

    if hasObject(byte 235, byte 64, byte 13):
    print("\"Got key. Want key?\" ")
    jump 745

    else:
    print("\"No got key.\"")
    jump 232

    endif

    case "big":
    case "blac":
    case "bloc":
    case "cube":
    print("\"Mine. In @cellar. No get!\"")
    jump 232

    case "fish":
    print("\"Fish good.\"")
    wait()

    print("\n\n\"Like eat much fish!\"")
    jump 232

    case "bye":
    print("\"Come back, bring ")

    if hasBit(byte 235, byte 2):
    print("more ")

    endif

    print("fish!\"\n")
    bye()

    case "*":
    print("\"What mean $Z?\"")
    jump 232

# Unreachable code!
    esac

745:
    askc("yn")
    case "y":
    print("\"Want fish!\"")
    wait()

    print("\n\n\"Use pole, get fish.\"")
    wait()

    print("\n\n\"Want key, bring fish!\"")
    jump 232

    case "n":
    print("\"Why ask no want?\"")
    jump 232

# Unreachable code!
    esac

845:
    integer(value 1) = byte 0
    integer(value 0) = partyHasObject(word 265, byte 0)

    if equals(integer(value 0), word 32769):
    print("\"Where fish? No smell fish.\"")
    jump 232

    endif

    ('DELETE', ('integer', [('value', 0)]), ('word', 265), ('byte', 0), ('byte', 1))

    if hasBit(byte 235, byte 2):
    print("\"Good fish! Good friend!\"")
    jump 232

    endif

    print("\"Good fish! Here, key.\"")
    wait()

    print("\n\nThe cyclops hands you a large, rusted key.")
    ('GIVE', ('byte', 64), ('byte', 13), ('byte', 235), ('byte', 1))
    ('SETF', ('byte', 235), ('byte', 2))
    jump 232
