source('CONVERSE.B')
index(74)

id(173)
name({
    'english': 'Healer',
    'russian': 'Целитель'
})

description:
    print({
        'english': 'a somber and calm gargoyle.',
        'russian': 'мрачную и спокойную горгулью.'
    })
    wait()

interaction:
    integer(value 9) = byte 0
    print({
        'english': '\n',
        'russian': '\n'
    })

    if integer(value 21):
        jump label_131
    fi

    print({
        'english': '"An in mani u',
        'russian': '"Ан ин мани у'
    })

    if integer(value 23):
        print({
            'english': 'lem',
            'russian': 'лем'
        })
    fi

    print({
        'english': ', An-bal-sil-fer."',
        'russian': ', Ан-бал-сил-фер".'
    })
    wait()

    print({
        'english': '\n\nThe gargoyle says nothing else.\n',
        'russian': '\n\nГоргулья больше ничего не говорит.\n'
    })
    bye()

label_131:
    if equals(partyHasObject(byte 76, byte 0), byte 1):
        jump label_314
    fi

    print({
        'english': '"To be unwilling to help you, False Prophet."',
        'russian': '"Не желать помогать вам, Лжепророк".'
    })
    wait()

    print({
        'english': '\n\n"To be a healer, a being of peace."',
        'russian': '\n\n"Быть целителем, мирным существом".'
    })
    wait()

    print({
        'english': '\n\n"Elsewise, to summon the guards to slay you!"',
        'russian': '\n\n"Иначе вызвать стражу, чтобы убить вас!"'
    })
    wait()

    print({
        'english': '\n\nThe gargoyle says nothing else.\n',
        'russian': '\n\nГоргулья больше ничего не говорит.\n'
    })
    bye()

label_314:
    if hasBit(byte 235, value 0):
        print({
            'english': '"To be happy to see you again, noble one."',
            'russian': '"Рад снова видеть вас, благородный".'
        })
        wait()

        print({
            'english': '\n\n"But to be sad that you seek my services."',
            'russian': '\n\n"Но грустить, что вы прибегаете к моим услугам".'
        })
        wait()

    else:
        print({
            'english': '"To see the amulet, the symbol of your courage and nobility."',
            'russian': '"Увидеть амулет, символ вашей отваги и благородства".'
        })
        wait()

        print({
            'english': '\n\n"To wish to help you however I can."',
            'russian': '\n\n"Хотеть помочь вам, чем смогу".'
        })
        wait()

        setBit(byte 235, value 0)
    fi

label_517:
    print({
        'english': '\n',
        'russian': '\n'
    })

    ask()

    case 'heal':
    case {'russian': 'лече'}:
    case 'cure':
    case {'russian': 'исце'}:
        jump label_1426

    case 'resu':
    case {'russian': 'воск'}:
    case 'dead':
    case {'russian': 'мёрт'}:
        print({
            'english': '"To ask me to raise the dead?"',
            'russian': '"Просить меня воскресить мёртвого?"'
        })
        wait()

        print({
            'english': '\n\n"To apologize, but that is beyond my power."',
            'russian': '\n\n"Извиняться, но это выше моих сил".'
        })
        wait()

        print({
            'english': '\n\n"To doubt that anyone can do that!"',
            'russian': '\n\n"Сомневаться, что кто-то может это сделать!"'
        })
        jump label_517

    case 'bye':
    case {'russian': 'пока'}:
        print({
            'english': '"May fortune prevent the need for your return!"\n',
            'russian': '"Пусть удача предотвратит ваше возвращение!"\n'
        })
        setBit(byte 235, value 0)
        bye()

    case 'name':
    case {'russian': 'имя'}:
        print({
            'english': '"To be nameless, being only a healer."',
            'russian': '"Быть без имени, быть целитель".'
        })
        jump label_517

    case 'job':
    case {'russian': 'раб'}:
        print({
            'english': '"To be entrusted with the tasks of @healing those wounded and @curing ',
            'russian': '"Выполнять задачи по @лечению раненых и @исцелению '
        })
        print({
            'english': 'those sick."',
            'russian': 'больных".'
        })
        wait()

        print({
            'english': '\n\n"To do this for all, as a service to society."',
            'russian': '\n\n"Делать это для всех, служа обществу".'
        })
        jump label_517

    case 'good':
    case {'russian': 'веще'}:
        print({
            'english': '"The goodscrafter? To regret his condition."',
            'russian': '"Вещедел? Сожалеть о его состоянии".'
        })
        wait()

        print({
            'english': '\n\n"To know that he is in great pain after the loss of his @family."',
            'russian': '\n\n"Знать, что он испытывает сильную боль после потери своей @семьи".'
        })
        jump label_517

    case 'fami':
    case {'russian': 'семь'}:
        print({
            'english': '"To know that his family was lost when the edges of the world @fell ',
            'russian': '"Знать, что его семья погибла, когда края света '
        })
        print({
            'english': 'off."',
            'russian': '@обрушились".'
        })
        wait()

        print({
            'english': '\n\n"But to have less and less patience for his dispassionate self-',
            'russian': '\n\n"Но у меня оставаться всё меньше и меньше терпения к его бесстрастной жалости '
        })
        print({
            'english': 'pity."',
            'russian': 'к себе".'
        })
        jump label_517

    case 'fell':
    case {'russian': 'края'}:
    case 'off':
    case {'russian': 'обру'}:
        print({
            'english': '"Yes, during the cataclysms."',
            'russian': '"Да, во время катаклизмов".'
        })
        wait()

        print({
            'english': '\n\n"To have lost friends myself during that bad time."',
            'russian': '\n\n"Я сам потерял друзей в это тяжёлое время".'
        })
        wait()

        print({
            'english': '\n\n"But to maintain the struggle for life diligently!"',
            'russian': '\n\n"Но упорно продолжать борьбу за жизнь!"'
        })
        jump label_517

    case '*':
        print({
            'english': '"To be a healer, dedicated only to my @job. To know nothing about $Z."',
            'russian': '"Быть целитель, преданный только своей @работе. Ничего не знать о $Z".'
        })
        jump label_517
    esac

label_1426:
    if notEquals(integer(value 32), byte 143):
        print({
            'english': '"To ask that you see me at my shop."',
            'russian': '"Попросить вас зайти ко мне в мастерскую".'
        })
        jump label_517
    fi

    if greater(integer(value 23), byte 0):
        integer(value 1) = byte 0
        integer(value 2) = byte 0
        integer(value 4) = byte 0
        jump label_1621
    fi

    integer(value 3) = character(byte 0, byte 0)

    if or(isWounded(integer(value 3)), isPoisoned(integer(value 3))):
        jump label_1972

    else:
        print({
            'english': '"To be unfamiliar with human anatomy..."',
            'russian': '"Быть незнакомым с анатомией человека..."'
        })
        wait()

        print({
            'english': '\n\n"But to be certain that you are well!"',
            'russian': '\n\n"Но быть уверенным, что вы здоровы!"'
        })
        jump label_2658
    fi

label_1621:
    if greater(integer(value 1), integer(value 23)):
        jump label_1735
    fi

    integer(value 3) = character(integer(value 1), byte 0)

    if equals(or(isWounded(integer(value 3)), isPoisoned(integer(value 3))), byte 0):
        jump label_1720
    fi

    if equals(integer(value 4), byte 0):
        integer(value 4) = integer(value 3)
        integer(value 2) = plus(integer(value 2), byte 1)
        jump label_1720
    fi

    look(integer(value 4))
    print({
        'english': '#2) $Y\n',
        'russian': '#2) $Y\n'
    })
    integer(value 2) = plus(integer(value 2), byte 1)
    integer(value 4) = integer(value 3)

label_1720:
    integer(value 1) = plus(integer(value 1), byte 1)
    jump label_1621

label_1735:
    if equals(integer(value 2), byte 0):
        print({
            'english': '"To be unfamiliar with human anatomy..."',
            'russian': '"Быть незнакомым с анатомией человека..."'
        })
        wait()

        print({
            'english': '\n\n"But to be certain that all of you are well!"',
            'russian': '\n\n"Но быть уверенным, что все вы здоровы!"'
        })
        jump label_2658
    fi

    if equals(integer(value 2), byte 1):
        integer(value 3) = integer(value 4)
        jump label_1972
    fi

    look(integer(value 4))
    print({
        'english': '#2) $Y\n"Which of you?" ',
        'russian': '#2) $Y\n"Кто из вас?" '
    })
    inputDigit(integer(value 2))

    if equals(integer(value 2), byte 0):
        jump label_2658
    fi

    integer(value 1) = byte 0

label_1906:
    integer(value 3) = character(integer(value 1), byte 0)

    if or(isWounded(integer(value 3)), isPoisoned(integer(value 3))):
        integer(value 2) = minus(integer(value 2), byte 1)
    fi

    if equals(integer(value 2), byte 0):
        jump label_1972
    fi

    integer(value 1) = plus(integer(value 1), byte 1)

    if lessOrEquals(integer(value 1), integer(value 23)):
        jump label_1906
    fi

label_1972:
    look(integer(value 3))
    print({
        'english': 'The gargoyle mixes strange powders into a foul-smelling brew.',
        'russian': 'Горгулья смешивает странные порошки в дурно пахнущее варево.'
    })
    wait()

    print({
        'english': '\n\n',
        'russian': '\n\n'
    })

label_2040:
    if equals(hasBit(byte 235, byte 2), byte 0):
        jump label_2157
    fi

    heal(integer(value 3))
    cure(integer(value 3))

    if equals(integer(value 3), byte 1):
        print({
            'english': 'You drink the potion and feel restored!',
            'russian': 'Вы выпиваете зелье и чувствуете себя восстановленным!'
        })

    else:
        print({
            'english': '$Y drinks the potion and feels restored!',
            'russian': '$Y выпивает зелье и чувствует себя восстановленным!'
        })
    fi

    jump label_2658

label_2157:
    print({
        'english': '"To drink this and be healthy."',
        'russian': '"Выпить это и быть здоровым".'
    })

label_2188:
    wait()

    print({
        'english': '\n\nDo',
        'russian': '\n\nБуде'
    })

    if equals(integer(value 3), byte 1):
        print({
            'english': ' you',
            'russian': 'те ли вы'
        })

    else:
        print({
            'english': 'es $Y',
            'russian': 'т ли $Y'
        })
    fi

    print({
        'english': ' drink it? ',
        'russian': ' это пить? '
    })

    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'y':
    case {'russian': 'д'}:
        if less(integer(value 9), byte 2):
            jump label_2390

        else:
            setBit(byte 235, byte 2)
            jump label_2040
        fi

    case 'n':
    case {'russian': 'н'}:
        print({
            'english': 'The gargoyle shrugs.\n\n"To assure you that it is safe and ',
            'russian': 'Горгулья пожимает плечами.\n\n"Заверить вас, что это безопасно и '
        })
        print({
            'english': 'invigorating."',
            'russian': 'бодряще".'
        })
        wait()

        print({
            'english': '\n\n"But not to force anyone to act against their will."',
            'russian': '\n\n"Но не заставлять кого-либо действовать против его воли".'
        })
        wait()

        jump label_517
    esac

label_2390:
    if equals(integer(value 3), byte 1):
        print({
            'english': 'You drink the potion and feel ',
            'russian': 'Вы выпиваете зелье и чувствуете '
        })

    else:
        print({
            'english': '$Y drinks the potion and feels ',
            'russian': '$Y выпивает зелье и чувствует '
        })
    fi

    if integer(value 9):
        print({
            'english': 'deathly ill!',
            'russian': 'смертельную тошноту!'
        })

    else:
        print({
            'english': 'slightly dizzy.',
            'russian': 'лёгкое головокружение.'
        })
    fi

    wait()

    print({
        'english': '\n\n"To apologize for the error! But to know exactly what I did wrong."',
        'russian': '\n\n"Извиниться за ошибку! Но точно знать, что я сделал не так".'
    })
    wait()

    print({
        'english': '\n\nThe gargoyle mixes a different drink that somehow smells worse than ',
        'russian': '\n\nГоргулья смешивает другой напиток, который пахнет ещё хуже, чем '
    })
    print({
        'english': 'the last.',
        'russian': 'предыдущий.'
    })
    integer(value 9) = plus(integer(value 9), byte 1)
    jump label_2188

label_2658:
    wait()

    print({
        'english': '\n\n"To ask if there is aught else I can do for you?"',
        'russian': '\n\n"Спрашивать, могу ли я ещё что-нибудь для вас сделать?"'
    })
    jump label_517
