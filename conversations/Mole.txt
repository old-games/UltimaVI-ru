source('CONVERSE.B')
index(79)

id(178)
name({
    'english': 'Mole',
    'russian': 'Крот'
})

description:
    print({
        'english': 'a coarse looking individual',
        'russian': 'грубовато выглядящего человека'
    })

    if equals(hasBit(byte 235, byte 7), byte 0):
        print({
            'english': ', digging in the dirt with his bare hands',
            'russian': ', роющегося в грязи голыми руками'
        })
    fi

    print({
        'english': '.\n*',
        'russian': '.\n*'
    })

interaction:
    integer(value 0) = partyHasObject(word 339, byte 0)

    if notEquals(integer(value 0), word 32769):
        print({
            'english': '"Now, now. You can\'t be bringing bodies out here without no ',
            'russian': '"Ну-ну. Нельзя привозить сюда людей без предварительного '
        })
        print({
            'english': 'reservations."\n*\n"Go see me master Glen about having a funeral first."',
            'russian': 'бронирования".\n*\n"Сначала поговорите с моим хозяином, мастером Гленом, насчёт похорон".'
        })
        print({
            'english': '\n',
            'russian': '\n'
        })
        bye()
    fi

    if and(hasBit(byte 146, byte 6), equals(hasBit(byte 235, byte 6), byte 0)):
        print({
            'english': '"Old penny pincher says he\'s going to pay me?"\n*\n"I\'ll believe it when',
            'russian': '"Старый скряга говорит, что заплатит мне?"\n*\n"Я поверю в это, только когда'
        })
        print({
            'english': ' I have the coins in me hand."',
            'russian': ' у меня в руках будут монеты".'
        })
        setBit(byte 235, byte 6)
        jump label_1147
    fi

    if and(hasBit(byte 146, byte 5), equals(hasBit(byte 235, byte 5), byte 0)):
        print({
            'english': '"Aye, maybe there\'d \'ave been extra for shovel and such in my pay, if ',
            'russian': '"Да, возможно, он мог бы вычесть из моей зарплаты деньги за лопату и прочее, если '
        })
        print({
            'english': 'the old skinflint had ever remembered to pay me!"\n',
            'russian': 'бы этот старый скряга хоть раз не забыл мне заплатить!"\n'
        })
        setBit(byte 235, byte 5)
        bye()
    fi

    if and(hasBit(byte 146, byte 4), equals(hasBit(byte 235, byte 4), byte 0)):
        print({
            'english': '"I\'d have been glad to get a new shovel! Believe me, I knows how to ',
            'russian': '"Я был бы рад купить новую лопату! Поверьте мне, я тоже знаю, как '
        })
        print({
            'english': 'pick out a good one, too."\n*\n"But how\'m I supposed to pay for it, you ',
            'russian': 'выбрать стоящую".\n*\n"Но как я должен за неё заплатить по его мнению, '
        })
        print({
            'english': 'just ask him that!"\n',
            'russian': 'спросите его!"\n'
        })
        setBit(byte 235, byte 4)
        bye()
    fi

    if and(hasBit(byte 146, byte 3), equals(hasBit(byte 235, byte 3), byte 0)):
        print({
            'english': 'Mole listens, a bit impatiently.\n\n*"He gave me a shovel, all right - ',
            'russian': 'Крот слушает немного нетерпеливо.\n\n*"Он подарил мне лопату, да, '
        })
        print({
            'english': 'cheapest shovel I ever saw in all my years in the business!"*\n\n"Tell ',
            'russian': 'самую дешёвую лопату, которую я когда-либо видел за все годы работы в этом деле!"*\n\n"Скажите '
        })
        print({
            'english': '\'im it broke the third day I tried usin\' it."\n',
            'russian': 'ему, что она сломалась на третий день, когда я попробовал её использовать".\n'
        })
        setBit(byte 235, byte 3)
        bye()
    fi

    if and(hasBit(byte 146, byte 2), equals(hasBit(byte 235, byte 2), byte 0)):
        print({
            'english': 'You tell him what Glen said.\n\n*"Wants \'is graves dug, does he? Well, ',
            'russian': 'Вы говорите ему, что сказал Глен.\n\n*"Он хочет, чтобы могилы были вырыты, не так ли? Что ж, '
        })
        print({
            'english': 'you can tell old zombie-face I\'d do a lot better if I had a shovel!"\n',
            'russian': 'можете сказать этой старой зомби-морде, что я бы справился намного лучше, будь у меня лопата!"\n'
        })
        setBit(byte 235, byte 2)
        bye()
    fi

    print({
        'english': '"Hello. If I be speaking with ye, I\'d best not be digging at the same ',
        'russian': '"Привет. Если уж я с вами разговариваю, то лучше не копать '
    })
    print({
        'english': 'time."',
        'russian': 'одновременно".'
    })

label_1147:
    print({
        'english': '\n',
        'russian': '\n'
    })

    ask()

    case 'name':
    case {'russian': 'имя'}:
        print({
            'english': '"I be Mole."',
            'russian': '"Я Крот".'
        })
        setBit(byte 235, value 0)
        jump label_1147

    case 'dig':
    case {'russian': 'рою'}:
    case 'fath':
    case {'russian': 'отец'}:
        print({
            'english': '"Digging\'s been in me family for generations."',
            'russian': '"Копание - наша семейная традиция, передающаяся из поколения в поколение".'
        })
        jump label_1147

    case 'grav':
    case {'russian': 'моги'}:
        print({
            'english': '"If you take away enough dirt, a grave\'s what\'s left."\n*\n"After they ',
            'russian': '"Если вырыть достаточно земли, то получится могила".\n*\n"После '
        })
        print({
            'english': 'has a @funeral, I puts all the dirt back again."',
            'russian': '@похорон я снова засыпаю всё землей".'
        })
        jump label_1147

    case 'fune':
    case {'russian': 'похо'}:
        print({
            'english': '"Funerals aren\'t me trade. I know plenty about @dirt, though."',
            'russian': '"Похороны - это не моё ремесло. Но зато я много знаю о @грязи".'
        })
        jump label_1147

    case 'dirt':
    case {'russian': 'гряз'}:
        print({
            'english': '"I knows all the different @kinds of dirt by heart."',
            'russian': '"Я наизусть знаю все @виды грязи".'
        })
        jump label_1147

    case 'diff':
    case {'russian': 'все'}:
    case 'kind':
    case {'russian': 'виды'}:
    case 'hear':
    case {'russian': 'наиз'}:
        print({
            'english': '"Learned \'em from me father."',
            'russian': '"Узнал их у своего отца".'
        })
        jump label_1147

    case 'trad':
    case {'russian': 'трад'}:
    case 'job':
    case {'russian': 'раб'}:
        print({
            'english': '"I @dig @graves for me master, @Glen."',
            'russian': '"Я @рою @могилы для своего хозяина, @Глена".'
        })
        jump label_1147

    case 'give':
    case {'russian': 'дать'}:
        if notEquals(partyHasObject(byte 104, byte 0), word 32769):
            jump label_2354

        else:
            print({
                'english': '"What \'ave you got I could want? All I needs in me life is a good ',
                'russian': '"Что у вас такого есть, что я мог бы пожелать? Всё, что мне нужно от жизни, - это хорошая '
            })
            print({
                'english': '@shovel."',
                'russian': '@лопата".'
            })
        fi

        jump label_1147

    case 'shov':
    case {'russian': 'лопа'}:
        if notEquals(partyHasObject(byte 104, byte 0), word 32769):
            jump label_2354

        else:
            print({
                'english': '"\'Tis the @tool of me trade."',
                'russian': '"Это @инструмент моего ремесла".'
            })
        fi

        jump label_1147

    case 'tool':
    case {'russian': 'инст'}:
        print({
            'english': '"Me father said a good shovel is more important than a good @wife."',
            'russian': '"Мой отец говорил, что хорошая лопата важнее, чем хорошая @жена".'
        })
        jump label_1147

    case 'wife':
    case {'russian': 'жена'}:
        print({
            'english': '"That\'s what you look for after you\'ve got a good @shovel."',
            'russian': '"Это то, что нужно после того, когда у тебя есть хорошая @лопата".'
        })
        jump label_1147

    case 'mast':
    case {'russian': 'хозя'}:
    case 'glen':
    case {'russian': 'глен'}:
        if equals(hasBit(byte 146, byte 2), byte 0):
            print({
                'english': '"I\'ll not speak with \'im, the way he treats me."\n*\n"But if you sees ',
                'russian': '"Я не буду с ним разговаривать из-за того, как он ко мне относится".\n*\n"Но если вы его '
            })
            print({
                'english': 'him, tell him I could dig these graves better if I had a @shovel!"',
                'russian': 'увидите, скажите ему, что я мог бы копать могилы лучше, если бы у меня была @лопата!"'
            })
            setBit(byte 235, byte 2)

        else:
            print({
                'english': '"He\'s a strange one... Nobody knows what he keeps in that back room of',
                'russian': '"Он странный... Никто не знает, что он хранит в той'
            })
            print({
                'english': ' \'is."',
                'russian': ' подсобке".'
            })
        fi

        jump label_1147

    case 'bye':
    case {'russian': 'пока'}:
        print({
            'english': '"Oh, going away, are ye? Let me know when ye return, so I\'ll know \'tis',
            'russian': '"О, вы уходите, да? Дайте мне знать, когда вернётесь, чтобы я знал, что пришло'
        })
        print({
            'english': ' time to speak with ye again."*\n\nHe returns to his digging.\n',
            'russian': ' время поговорить с вами снова".*\n\nОн возвращается к своим копаниям.\n'
        })
        bye()

    case '*':
        print({
            'english': '"I think ye\'d best ask someone smarter than me."',
            'russian': '"Я думаю, вам лучше спросить кого-нибудь поумнее меня".'
        })
    esac

    jump label_1147

label_2354:
    print({
        'english': '"Oh, ye\'ve brought a shovel with ye! Is it for me?" ',
        'russian': '"О, вы принёсли с собой лопату! Она для меня?" '
    })

    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'n':
    case {'russian': 'н'}:
        print({
            'english': '"Too bad. I really need one."',
            'russian': '"Очень жаль. Мне очень нужна лопата".'
        })
        jump label_1147
    esac

    destroyItem(partyHasObject(byte 104, byte 0), byte 104, byte 0, byte 1)
    print({
        'english': '\n"Thank ye very much! And \'tis not even my birthday!"\n*\n"Let me tell ',
        'russian': '\n"Большое спасибо! И сегодня даже не мой день рождения!"\n*\n"Позвольте мне сказать '
    })
    print({
        'english': 'you this - keep an eye on old Glen."\n*\n"They say not all of the bodies',
        'russian': 'вам вот что - приглядывайте за стариной Гленом".\n*\n"Говорят, не все тела'
    })
    print({
        'english': ' end up where they\'re supposed to..."\n*\n"You know, \'e was supposed to ',
        'russian': ' оказываются там, где им положено быть..."\n*\n"Знаете, он должен был '
    })
    print({
        'english': 'have paid me for a new shovel, and then you wouldn\'t have \'ad to go to',
        'russian': 'заплатить мне за новую лопату, и тогда вам не пришлось бы'
    })
    print({
        'english': ' so much trouble."',
        'russian': ' так сильно заморачиваться".'
    })
    setBit(byte 235, byte 2)
    setBit(byte 235, byte 3)
    setBit(byte 235, byte 4)
    setBit(byte 235, byte 5)
    setBit(byte 235, byte 6)
    setBit(byte 235, byte 7)
    setBit(byte 146, byte 2)
    setBit(byte 146, byte 3)
    setBit(byte 146, byte 4)
    setBit(byte 146, byte 5)
    setBit(byte 146, byte 6)
    jump label_1147
