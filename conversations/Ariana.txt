source('CONVERSE.A')
index(13)

id(13)
name({
    'english': 'Ariana',
    'russian': 'FIXME Ariana'
})

description:
    print({
        'english': 'a cute little girl with short hair.\n*',
        'russian': 'FIXME a cute little girl with short hair.\n*'
    })

interaction:
    if hasBit(byte 235, byte 7):
        jump label_2104
    fi

    if hasBit(byte 235, value 0):
        jump label_180
    fi

    print({
        'english': '"My parents told me never to talk to strangers. What\'s your name?"\n',
        'russian': 'FIXME "My parents told me never to talk to strangers. What\'s your name?"\n'
    })

    ask()
    print({
        'english': '\n"Ok. Now I can talk to you!"',
        'russian': 'FIXME \n"Ok. Now I can talk to you!"'
    })
    setBit(byte 235, value 0)
    jump label_198

label_180:
    print({
        'english': '"Oh, hello again."\n',
        'russian': 'FIXME "Oh, hello again."\n'
    })

    ask()

    case {'english': 'name'}:
    case {'russian': 'FIXME name'}:
        print({
            'english': 'She curtsies gracefully. "Ariana is my name."',
            'russian': 'FIXME She curtsies gracefully. "Ariana is my name."'
        })
        jump label_198

    case {'english': 'job'}:
    case {'russian': 'FIXME job'}:
        print({
            'english': '"I\'m learning to be a @bard. I like to @play the harpsichord best."',
            'russian': 'FIXME "I\'m learning to be a @bard. I like to @play the harpsichord best."'
        })
        jump label_198

    case {'english': 'bard'}:
    case {'russian': 'FIXME bard'}:
        print({
            'english': '"I want to be a bard when I grow up. They have more @fun than ',
            'russian': 'FIXME "I want to be a bard when I grow up. They have more @fun than '
        })
        print({
            'english': 'anybody!"',
            'russian': 'FIXME anybody!"'
        })
        jump label_198

    case {'english': 'comp'}:
    case {'russian': 'FIXME comp'}:
        print({
            'english': '"They taught me all about compassion. They say it\'s very important for',
            'russian': 'FIXME "They taught me all about compassion. They say it\'s very important for'
        })
        print({
            'english': ' bards."',
            'russian': 'FIXME  bards."'
        })
        jump label_198

    case {'english': 'mant'}:
    case {'russian': 'FIXME mant'}:
        print({
            'english': '"I can\'t remember it now... And @Kenneth just taught it to me last ',
            'russian': 'FIXME "I can\'t remember it now... And @Kenneth just taught it to me last '
        })
        print({
            'english': 'week..."\n*\n"Wait, I know! It\'s \'mo!\'"\n*\n"Or maybe it was \'om\'... Or ',
            'russian': 'FIXME week..."\n*\n"Wait, I know! It\'s \'mo!\'"\n*\n"Or maybe it was \'om\'... Or '
        })
        print({
            'english': '\'mu,\' or \'um\'... It was something like that."',
            'russian': 'FIXME \'mu,\' or \'um\'... It was something like that."'
        })
        jump label_198

    case {'english': 'rune'}:
    case {'russian': 'FIXME rune'}:
        jump label_1475

    case {'english': 'harp'}:
    case {'russian': 'FIXME harp'}:
    case {'english': 'music'}:
    case {'russian': 'FIXME music'}:
    case {'english': 'play'}:
    case {'russian': 'FIXME play'}:
    case {'english': 'song'}:
    case {'russian': 'FIXME song'}:
        jump label_843

    case {'english': 'fun'}:
    case {'russian': 'FIXME fun'}:
        print({
            'english': '"Oh yes, lots of it!"',
            'russian': 'FIXME "Oh yes, lots of it!"'
        })
        jump label_198

    case {'english': 'ken'}:
    case {'russian': 'FIXME ken'}:
        print({
            'english': '"He\'s my teacher."',
            'russian': 'FIXME "He\'s my teacher."'
        })
        jump label_198

    case {'english': 'bye'}:
    case {'russian': 'FIXME bye'}:
        print({
            'english': '"See you later."\n',
            'russian': 'FIXME "See you later."\n'
        })
        bye()

    case '*':
        print({
            'english': '"What do you mean?"',
            'russian': 'FIXME "What do you mean?"'
        })
    esac

    jump label_198

label_843:
    print({
        'english': '"I\'ve been studying to be a bard since I was this many." She holds up ',
        'russian': 'FIXME "I\'ve been studying to be a bard since I was this many." She holds up '
    })
    print({
        'english': 'three fingers.\n*\n"I\'d like to play something for you, but I\'m not good',
        'russian': 'FIXME three fingers.\n*\n"I\'d like to play something for you, but I\'m not good'
    })
    print({
        'english': ' enough yet."\n*\nShe looks away for a moment, then turns back to you, ',
        'russian': 'FIXME  enough yet."\n*\nShe looks away for a moment, then turns back to you, '
    })
    print({
        'english': 'blushing slightly.\n*\n"Will you come back to hear my music when I am ',
        'russian': 'FIXME blushing slightly.\n*\n"Will you come back to hear my music when I am '
    })
    print({
        'english': 'older, if you can?" ',
        'russian': 'FIXME older, if you can?" '
    })

    choice({
        'english': 'yn',
        'russian': 'FIXME yn'
    })

    case {'english': 'n'}:
    case {'russian': 'FIXME n'}:
        print({
            'english': 'The little girl sniffles, seeming suddenly on the verge of tears.\n\n',
            'russian': 'FIXME The little girl sniffles, seeming suddenly on the verge of tears.\n\n'
        })
        print({
            'english': '*"I\'m sorry," she says, "I shouldn\'t have asked." She turns her back, ',
            'russian': 'FIXME *"I\'m sorry," she says, "I shouldn\'t have asked." She turns her back, '
        })
        print({
            'english': 'as if ashamed to face you.\n',
            'russian': 'FIXME as if ashamed to face you.\n'
        })
        decreaseKarma(byte 5)
        bye()

    case {'english': 'y'}:
    case {'russian': 'FIXME y'}:
        print({
            'english': 'The little girl\'s face breaks out into a smile bright enough to light ',
            'russian': 'FIXME The little girl\'s face breaks out into a smile bright enough to light '
        })
        print({
            'english': 'up the whole room.\n*\n"Really? I would like that very much."',
            'russian': 'FIXME up the whole room.\n*\n"Really? I would like that very much."'
        })

        if equals(hasBit(byte 235, byte 4), byte 0):
            increaseKarma(byte 10)
            setBit(byte 235, byte 4)
        fi
    esac

    jump label_198

label_1475:
    if hasBit(byte 235, byte 6):
        print({
            'english': '"I already gave it to you, silly. I hope you can figure out how to use',
            'russian': 'FIXME "I already gave it to you, silly. I hope you can figure out how to use'
        })
        print({
            'english': ' it."',
            'russian': 'FIXME  it."'
        })
        jump label_198
    fi

    print({
        'english': '"I have the Rune of Compassion. Isn\'t it pretty?" She reaches into her',
        'russian': 'FIXME "I have the Rune of Compassion. Isn\'t it pretty?" She reaches into her'
    })
    print({
        'english': ' pocket and takes it out to show you.*\n\n"Do you need it for ',
        'russian': 'FIXME  pocket and takes it out to show you.*\n\n"Do you need it for '
    })
    print({
        'english': 'something?" ',
        'russian': 'FIXME something?" '
    })

    choice({
        'english': 'yn',
        'russian': 'FIXME yn'
    })

    case {'english': 'n'}:
    case {'russian': 'FIXME n'}:
        print({
            'english': '"Ok."',
            'russian': 'FIXME "Ok."'
        })
        jump label_198
    esac

    print({
        'english': '\n"Are you on an important quest?" ',
        'russian': 'FIXME \n"Are you on an important quest?" '
    })

    choice({
        'english': 'yn',
        'russian': 'FIXME yn'
    })

    case {'english': 'n'}:
    case {'russian': 'FIXME n'}:
        print({
            'english': '"I\'d best hold onto it then. I was told to look after it carefully."',
            'russian': 'FIXME "I\'d best hold onto it then. I was told to look after it carefully."'
        })
        jump label_198

    case {'english': 'y'}:
    case {'russian': 'FIXME y'}:
        print({
            'english': '"I\'m not supposed to let anyone else have it. But if you truly need ',
            'russian': 'FIXME "I\'m not supposed to let anyone else have it. But if you truly need '
        })
        print({
            'english': 'it..."\n*\n"I don\'t know what I should do."\n*\n"I know! My parents run ',
            'russian': 'FIXME it..."\n*\n"I don\'t know what I should do."\n*\n"I know! My parents run '
        })
        print({
            'english': 'the Blue Boar Tavern. Go ask them if you can borrow the rune."\n*\n"If ',
            'russian': 'FIXME the Blue Boar Tavern. Go ask them if you can borrow the rune."\n*\n"If '
        })
        print({
            'english': 'they say \'tis okay, I\'ll give it to you."',
            'russian': 'FIXME they say \'tis okay, I\'ll give it to you."'
        })
        setBit(byte 235, byte 7)
        setBit(byte 235, byte 5)
    esac

    jump label_198

label_2104:
    print({
        'english': '"Hi! Did you get permission from my parents to borrow the rune?"',
        'russian': 'FIXME "Hi! Did you get permission from my parents to borrow the rune?"'
    })

    choice({
        'english': 'yn',
        'russian': 'FIXME yn'
    })

    case {'english': 'y'}:
    case {'russian': 'FIXME y'}:
        if less(canCarry(character(integer(value 3), byte 0)), weight(byte 243, byte 1)):
            print({
                'english': '"Oh, you\'re carrying too much right now. You\'d better come back for it',
                'russian': 'FIXME "Oh, you\'re carrying too much right now. You\'d better come back for it'
            })
            print({
                'english': ' later."',
                'russian': 'FIXME  later."'
            })
            jump label_198
        fi

        print({
            'english': '"Then here you are." She hands you the rune. "I wish you the best of ',
            'russian': 'FIXME "Then here you are." She hands you the rune. "I wish you the best of '
        })
        print({
            'english': 'luck on your quest."',
            'russian': 'FIXME luck on your quest."'
        })

        if hasBit(byte 235, byte 5):
            decreaseKarma(byte 10)
        fi

        clearBit(byte 235, byte 7)
        setBit(byte 235, byte 6)
        giveItem(byte 243, byte 0, byte 235, byte 1)
        jump label_198

    case {'english': 'n'}:
    case {'russian': 'FIXME n'}:
        print({
            'english': '"Well, if you get their permission later, let me know."',
            'russian': 'FIXME "Well, if you get their permission later, let me know."'
        })
        jump label_198
    esac
