source('CONVERSE.A')
index(13)

id(13)
name('Ariana')

description:
    print('a cute little girl with short hair.\n*')

interaction:
    if hasBit(byte 235, byte 7):
        jump label_2104
    fi

    if hasBit(byte 235, value 0):
        jump label_180
    fi

    print('"My parents told me never to talk to strangers. What\'s your name?"\n')

    ask()
    print('\n"Ok. Now I can talk to you!"')
    setBit(byte 235, value 0)
    jump label_198

label_180:
    print('"Oh, hello again."\n')

    ask()

    case 'name':
        print('She curtsies gracefully. "Ariana is my name."')
        jump label_198

    case 'job':
        print('"I\'m learning to be a @bard. I like to @play the harpsichord best."')
        jump label_198

    case 'bard':
        print('"I want to be a bard when I grow up. They have more @fun than ')
        print('anybody!"')
        jump label_198

    case 'comp':
        print('"They taught me all about compassion. They say it\'s very important for')
        print(' bards."')
        jump label_198

    case 'mant':
        print('"I can\'t remember it now... And @Kenneth just taught it to me last ')
        print('week..."\n*\n"Wait, I know! It\'s \'mo!\'"\n*\n"Or maybe it was \'om\'... Or ')
        print('\'mu,\' or \'um\'... It was something like that."')
        jump label_198

    case 'rune':
        jump label_1475

    case 'harp':
    case 'music':
    case 'play':
    case 'song':
        jump label_843

    case 'fun':
        print('"Oh yes, lots of it!"')
        jump label_198

    case 'ken':
        print('"He\'s my teacher."')
        jump label_198

    case 'bye':
        print('"See you later."\n')
        bye()

    case '*':
        print('"What do you mean?"')
    esac

    jump label_198

label_843:
    print('"I\'ve been studying to be a bard since I was this many." She holds up ')
    print('three fingers.\n*\n"I\'d like to play something for you, but I\'m not good')
    print(' enough yet."\n*\nShe looks away for a moment, then turns back to you, ')
    print('blushing slightly.\n*\n"Will you come back to hear my music when I am ')
    print('older, if you can?" ')

    choice('yn')

    case 'n':
        print('The little girl sniffles, seeming suddenly on the verge of tears.\n\n')
        print('*"I\'m sorry," she says, "I shouldn\'t have asked." She turns her back, ')
        print('as if ashamed to face you.\n')
        decreaseKarma(byte 5)
        bye()

    case 'y':
        print('The little girl\'s face breaks out into a smile bright enough to light ')
        print('up the whole room.\n*\n"Really? I would like that very much."')

        if equals(hasBit(byte 235, byte 4), byte 0):
            increaseKarma(byte 10)
            setBit(byte 235, byte 4)
        fi
    esac

    jump label_198

label_1475:
    if hasBit(byte 235, byte 6):
        print('"I already gave it to you, silly. I hope you can figure out how to use')
        print(' it."')
        jump label_198
    fi

    print('"I have the Rune of Compassion. Isn\'t it pretty?" She reaches into her')
    print(' pocket and takes it out to show you.*\n\n"Do you need it for ')
    print('something?" ')

    choice('yn')

    case 'n':
        print('"Ok."')
        jump label_198
    esac

    print('\n"Are you on an important quest?" ')

    choice('yn')

    case 'n':
        print('"I\'d best hold onto it then. I was told to look after it carefully."')
        jump label_198

    case 'y':
        print('"I\'m not supposed to let anyone else have it. But if you truly need ')
        print('it..."\n*\n"I don\'t know what I should do."\n*\n"I know! My parents run ')
        print('the Blue Boar Tavern. Go ask them if you can borrow the rune."\n*\n"If ')
        print('they say \'tis okay, I\'ll give it to you."')
        setBit(byte 235, byte 7)
        setBit(byte 235, byte 5)
    esac

    jump label_198

label_2104:
    print('"Hi! Did you get permission from my parents to borrow the rune?"')

    choice('yn')

    case 'y':
        if less(canCarry(character(integer(value 3), byte 0)), weight(byte 243, byte 1)):
            print('"Oh, you\'re carrying too much right now. You\'d better come back for it')
            print(' later."')
            jump label_198
        fi

        print('"Then here you are." She hands you the rune. "I wish you the best of ')
        print('luck on your quest."')

        if hasBit(byte 235, byte 5):
            decreaseKarma(byte 10)
        fi

        clearBit(byte 235, byte 7)
        setBit(byte 235, byte 6)
        giveItem(byte 243, byte 0, byte 235, byte 1)
        jump label_198

    case 'n':
        print('"Well, if you get their permission later, let me know."')
        jump label_198
    esac
