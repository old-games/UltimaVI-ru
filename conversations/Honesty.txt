source("CONVERSE.B")
index(93)

id(192)
name("Honesty")

description:
    print("the altar of Honesty.")

f3()

interaction:
    wait()
    print("\nAs you kneel before the altar, a mystical voice sounds in your head.")
    wait()
    print("\n\n")
    if less(integer(value 20), byte 40):
    print("\"Thou hast much to learn about honesty.\"")
    jump 248
    endif
    if less(integer(value 20), byte 80):
    print("\"Thy deeds have shown admirable honesty.\"")
    else:
    print("\"Thy deeds serve as an example to all.\"")
    endif
    wait()
    print("\n\nDo you wish to meditate at this altar? ")
    askc("yn")
    case "n":
    bye()
    ESAC
    if equals(integer(value 23), byte 0):
    integer(value 0) = byte 0
    jump 437
    endif
    integer(value 0) = byte 0
    integer(value 2) = byte 1
    print("\n")
    ('SETNAME', ('character', [('integer', [('value', 0)]), ('byte', 0)]))
    print("#2. $Y\n")
    integer(value 0) = plus(integer(value 0), byte 1)
    integer(value 2) = plus(integer(value 2), byte 1)
    if lessOrEquals(integer(value 0), integer(value 23)):
    jump 333
    endif
    print("\"Who will meditate?\" ")
    ('INPUTNUM', 0)
    if equals(integer(value 0), byte 0):
    print("\n")
    bye()
    endif
    integer(value 0) = minus(integer(value 0), byte 1)
    if greater(integer(value 0), integer(value 23)):
    jump 318
    endif
    print("\n\"Speak the Mantra of Honesty.\"\n")
    ask()
    print("\n\"$Z... $Z...\"")
    wait()
    print("\n\n\"$Z... $Z...\"")
    wait()
    print("\n\n\"$Z... $Z...\"")
    wait()
    print("\n")
    case "ahm":
    print("\"Whatsoever things are true...\"")
    wait()
    print("\n\n\"Whatsoever things are honest...\"")
    wait()
    print("\n\n\"If there be any virtue and if there be any praise, think on these things.\"")
    wait()
    jump 713
    case "*":
    print("You receive no enlightenment.")
    wait()
    jump 957

713:
    if equals(hasBit(byte 235, value 0), byte 0):
    ('ADD_KARMA', ('byte', 10))
    ('SETF', ('byte', 235), ('value', 0))
    endif
    if and(and(and(and(and(and(and(hasBit(byte 192, value 0), hasBit(byte 193, value 0)), hasBit(byte 194, value 0)), hasBit(byte 195, value 0)), hasBit(byte 196, value 0)), hasBit(byte 197, value 0)), hasBit(byte 198, value 0)), hasBit(byte 199, value 0)):
    ('CLEARF', ('byte', 192), ('value', 0))
    ('CLEARF', ('byte', 193), ('value', 0))
    ('CLEARF', ('byte', 194), ('value', 0))
    ('CLEARF', ('byte', 195), ('value', 0))
    ('CLEARF', ('byte', 196), ('value', 0))
    ('CLEARF', ('byte', 197), ('value', 0))
    ('CLEARF', ('byte', 198), ('value', 0))
    ('CLEARF', ('byte', 199), ('value', 0))
    ('SETF', ('byte', 235), ('value', 0))
    endif
    integer(value 1) = character(integer(value 0), byte 0)
    integer(value 2) = level(integer(value 1), byte 0)
    if greater(integer(value 2), byte 7):
    jump 957
    endif
    integer(value 3) = experience(integer(value 1), byte 0)
    if greaterOrEquals(integer(value 3), data(dword 1066, integer(value 2))):
    integer(value 2) = level(integer(value 1), byte 1)
    integer(value 4) = intelligence(integer(value 1), byte 3)
    ('SETNAME', ('integer', [('value', 1)]))
    print("\n\n$Y has gained a level...")
    wait()
    print("\n\nand intelligence!")
    wait()
    endif
    print("\n\n\"There is naught else for you to learn here and now.\"")
    wait()
    print("\n\n\"Return when thy journey has progressed further.\"\n")
    bye()

1066:
    ['INTEGERS', [0, 100, 200, 400, 800, 1600, 3200, 6400]]
