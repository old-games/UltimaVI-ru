source('CONVERSE.A')
index(76)

id(76)
name({
    'english': 'Whitsaber',
    'russian': 'Уитсейбер'
})

description:
    print({
        'english': 'a balding but distinguished man.',
        'russian': 'лысеющего, но выдающегося мужчину.'
    })

interaction:
    wait()

    print({
        'english': '\n',
        'russian': '\n'
    })

    if hasBit(byte 235, byte 2):
        print({
            'english': 'Recognizing you, fear fills the former pirate\'s eyes.',
            'russian': 'Узнав вас, глаза бывшего пирата наполняются страхом.'
        })
        wait()

        print({
            'english': '\n\n"What do you want? I thought we had a deal!"',
            'russian': '\n\n"Чего вы хотите? Я думал, мы договорились!"'
        })
        jump label_209
    fi

    if hasBit(byte 235, value 0):
        print({
            'english': '"Welcome back, Avatar!"',
            'russian': '"С возвращением, Аватар!"'
        })

    else:
        print({
            'english': '"Welcome, Avatar!"',
            'russian': '"Добро пожаловать, Аватар!"'
        })
    fi

label_209:
    print({
        'english': '\n',
        'russian': '\n'
    })

    ask()

    case 'name':
    case {'russian': 'имя'}:
        print({
            'english': '"I am Lord Whitsaber, mayor of this honorable town!"',
            'russian': '"Я лорд Уитсейбер, мэр этого достопочтенного города!"'
        })
        setBit(byte 235, value 0)
        jump label_209

    case 'job':
    case {'russian': 'раб'}:
        print({
            'english': '"I am entrusted with an honor above all others-that of governing ',
            'russian': '""Мне доверена честь, превыше которой нет ни у кого другого, - управлять '
        })
        print({
            'english': 'Trinsic, the Town of @Honor!"',
            'russian': 'Тринсиком, Городом @Чести!"'
        })
        jump label_209

    case 'trin':
    case {'russian': 'трин'}:
    case 'town':
    case {'russian': 'горо'}:
    case 'hono':
    case {'russian': 'чест'}:
        print({
            'english': '"Every citizen of this fine town strives every day to be a living ',
            'russian': '"Каждый житель этого прекрасного города каждый день стремится быть живым '
        })
        print({
            'english': 'example of honor."',
            'russian': 'примером чести".'
        })
        wait()

        print({
            'english': '\n\n"Of course, thy own example guides us all, Avatar!"',
            'russian': '\n\n"Конечно, твой собственный пример направляет нас всех, Аватар!"'
        })
        jump label_209

    case 'map':
    case {'russian': 'карт'}:
    case 'ship':
    case {'russian': 'кора'}:
    case 'hawk':
    case {'russian': 'хоки'}:
    case 'capt':
    case {'russian': 'капи'}:
    case 'home':
    case {'russian': 'дом'}:
        if hasBit(byte 235, byte 3):
            print({
                'english': '"I gave you the map. What more do you want?"',
                'russian': '"Я дал вам карту. Что вам ещё нужно?"'
            })
            jump label_209
        fi

        if hasBit(byte 235, byte 2):
            print({
                'english': '"All right! If thou wouldst but promise to keep my secret, I\'ll give ',
                'russian': '"Хорошо! Только если ты пообещаешь сохранить мою тайну, я отдам '
            })
            print({
                'english': 'thee the map!"\n\n"Agreed?" ',
                'russian': 'тебе карту!"\n\n"Идёт?" '
            })
            jump label_1925

        else:
            print({
                'english': '"What are you insinuating?"',
                'russian': '"На что вы намекаете?"'
            })
            jump label_209
        fi

    case 'pira':
    case {'russian': 'пира'}:
        print({
            'english': '"Me, a pirate? Absurd!"',
            'russian': '"Я пират? Абсурд!"'
        })
        wait()

        print({
            'english': '\n\nHe laughs out loud...but you sense a trace of fear in his voice!',
            'russian': '\n\nОн смеется во весь голос... но вы чувствуете нотки страха в его голосе!'
        })
        jump label_209

    case 'sand':
    case {'russian': 'сэнд'}:
    case 'alas':
    case {'russian': 'алас'}:
    case 'gord':
    case {'russian': 'горд'}:
    case 'firs':
    case {'russian': 'перв'}:
    case 'mate':
    case {'russian': 'помо'}:
        print({
            'english': '"Wh--what did Sandy tell you?"',
            'russian': '"Ч-что тебе сказал Сэнди?"'
        })
        wait()

        print({
            'english': '\n\n"Did he say I was once a @pirate?" ',
            'russian': '\n\n"Он сказал, что я когда-то был @пиратом?" '
        })
        jump label_1462

    case 'rune':
    case {'russian': 'руна'}:
        print({
            'english': '"The Rune of Honor? Why, it is on a pedestal in the center of town!"',
            'russian': '"Руна Чести? Да ведь она на пьедестале в центре города!"'
        })
        wait()

        print({
            'english': '\n\n"Even though the rune is our most prized possession, we do not guard',
            'russian': '\n\n"Несмотря на то, что руна - наше самое ценное достояние, мы не охраняем'
        })
        print({
            'english': ' it!"',
            'russian': ' её!"'
        })
        wait()

        print({
            'english': '\n\n"And dost thou know why not?" ',
            'russian': '\n\n"А ты знаешь, почему не охраняем?" '
        })
        jump label_1676

    case 'mant':
    case {'russian': 'мант'}:
        print({
            'english': '"The Mantra of Honor? Let me think..."',
            'russian': '"Мантра Чести? Дай-ка подумать..."'
        })
        wait()

        print({
            'english': '\n\n"Oh yes, I remember now. It\'s \'summ.\'"',
            'russian': '\n\n"О, да, теперь я вспомнил. Это \'самм\'".'
        })
        jump label_209

    case 'bye':
    case {'russian': 'пока'}:
        if hasBit(byte 235, byte 2):
            print({
                'english': '"Goodbye, Avatar! Thou hast my thanks!"',
                'russian': '"Прощай, Аватар! Прими мою благодарность!"'
            })
            wait()

            print({
                'english': '\n\n"Truly are thy compassion and honor an example to us all!"\n',
                'russian': '\n\n"Воистину, твоё сострадание и честь служат примером для всех нас!"\n'
            })

        else:
            print({
                'english': '"Good $T, Avatar. Return again when thou hast more time to chat!"\n',
                'russian': '"Доброго $T, Аватар. Возвращайся, когда у тебя будет больше времени поболтать!\n'
            })
        fi

        bye()

    case '*':
        print({
            'english': '"I beg thy pardon, Avatar?"',
            'russian': '"Прошу прощения, Аватар?"'
        })
        jump label_209
    esac

label_1462:
    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'y':
    case {'russian': 'д'}:
        setBit(byte 235, byte 2)
        print({
            'english': '"Then all is lost!"',
            'russian': '"Тогда всё пропало!"'
        })
        wait()

        print({
            'english': '\n\n"Have pity, Avatar, and keep my secret!"',
            'russian': '\n\n"Сжалься, Аватар, и сохрани мою тайну!"'
        })
        wait()

        print({
            'english': '\n\n"I have changed since those dark days, truly I have!"',
            'russian': '\n\n"Я изменился с тех темных дней, правда изменился!"'
        })
        jump label_209

    case 'n':
    case {'russian': 'н'}:
        print({
            'english': 'He seems strangely relieved. "Oh. Well, good, because it isn\'t true!"',
            'russian': 'Он, кажется, испытывает странное облегчение. "Ох. Что ж, хорошо, потому что это неправда!"'
        })
        jump label_209
    esac

label_1676:
    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'y':
    case {'russian': 'д'}:
        print({
            'english': '"Oh." He seems disappointed somehow.',
            'russian': '"О". Он выглядит чем-то разочарованным.'
        })
        jump label_209

    case 'n':
    case {'russian': 'н'}:
        print({
            'english': '"Because Trinsic is the Town of Honor!"',
            'russian': '"Потому что Тринсик - Город Чести!"'
        })
        wait()

        print({
            'english': '\n\n"None here would be dishonorable enough to steal it."',
            'russian': '\n\n"Никто здесь не будет настолько бесчестным, чтобы украсть ее".'
        })
        wait()

        print({
            'english': '\n\n"And surely, if any took the rune, they would do the honorable thing',
            'russian': '\n\n"И, конечно, если бы кто-нибудь взял руну, он поступил бы благородно'
        })
        print({
            'english': ' and return it afterwards!"',
            'russian': ' и вернул её на место!"'
        })
        jump label_209
    esac

label_1925:
    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'y':
    case {'russian': 'д'}:
        print({
            'english': '"Oh, thank you, Avatar."',
            'russian': '"О, спасибо вам, Аватар".'
        })
        wait()

        print({
            'english': '\n\nHe hands over his piece of the map.',
            'russian': '\n\nОн передаёт свой кусок карты.'
        })
        moveItem(word 401, byte 0, byte 235, byte 1)
        setBit(byte 235, byte 3)
        wait()

        print({
            'english': '\n"I\'ll rely on thy honor to keep my secret."',
            'russian': '\n"Я полагаюсь на твою честь, сохрани мою тайну".'
        })
        jump label_209

    case 'n':
    case {'russian': 'н'}:
        print({
            'english': '"But what more can I do? I cannot change the past!"',
            'russian': '"Но что ещё я могу сделать? Я не могу изменить прошлое!"'
        })
        wait()

        print({
            'english': '\n\n"By giving you the map, do I not prove that I have changed my ways?"',
            'russian': '\n\n"Отдав вам карту, разве я не доказываю, что изменил свои привычки?"'
        })
        wait()

        print({
            'english': '\n"No pirate would willingly give up the key to such a treasure!"',
            'russian': '\n"Ни один пират добровольно не отдаст ключ к такому сокровищу!"'
        })
        jump label_209
    esac
