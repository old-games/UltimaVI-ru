source('CONVERSE.A')
index(75)

id(75)
name('Sandy')

description:
    print('a shifty-eyed man with a strange smile. He smells of rancid grease and')
    print(' cooking smoke.')
    wait()

    print('\n')

interaction:
    print('"Hello there, $G."')
    integer(value 0) = partyHasObject(word 417, byte 0)

    if equals(integer(value 0), word 32769):
        jump label_790
    fi

    print('*\n\n"That big, carefully wrapped bundle could only be a dragon\'s egg!"')
    wait()

    print('\n\n"Will you give it to me?"')

    choice('yn')

    case 'n':
        print('"I guess I cannot help you much, then."')
        jump label_790

    case 'y':
    esac

    ('GIVE', ('word', 417), ('byte', 0), ('integer', [('value', 0)]), ('byte', 235))
    ('SETF', ('byte', 235), ('byte', 2))
    print('"Now I can make Humble Pie!" Overjoyed, he gives you a hug.')
    wait()

    print('\n\n"So, does the subject of @pirates interest you?" ')

    choice('yn')

    case 'n':
        print('He shrugs. "As you wish."')
        jump label_790

    case 'y':
    esac

label_462:
    print('"Well, first, there is one in Serpent\'s Hold. I cannot recall her ')
    print('name, but she has a piece of the map with her."')
    wait()

    print('\n\n"Second, there is one on Dagger Isle. A hermit."')
    wait()

    print('\n\n"Third, I know of a pirate at Empath Abbey, or thereabouts. ')
    print('Nathaniel Moorehead was his name."')
    wait()

    print('\n\n"The @fourth... but then maybe I\'ve said too much already."')
    jump label_790

label_790:
    print('\n')

    ask()

    case 'name':
        print('"My name is Sandstone Angus."')
        wait()

        print('\n\n"Most folks call me Sandy."')
        ('SETF', ('byte', 235), ('value', 0))
        jump label_790

    case 'job':
        print('"I cook for Lord @Whitsaber."')
        wait()

        print('\n\n"He especially likes my recipe for fish in a white wine @sauce."')
        jump label_790

    case 'fish':
    case 'sauc':
    case 'wine':
        print('"It\'s my specialty!"')
        jump label_790

    case 'alre':
    case 'four':
    case 'much':
    case 'said':
        if equals(hasBit(byte 235, byte 2), byte 1):
            print('"Before Lord Whitsaber came to Trinsic to be our mayor, he had another')
            print(' job..."')
            wait()

            print('\n"As first mate to Captain Hawkins himself! His real name is Alastor ')
            print('Gordon."')
            jump label_790
        fi

        jump label_1666

    case 'lord':
    case 'map':
    case 'whit':
label_1228:
        print('"Hmmm. I\'d better get back to cooking... Excuse me."')
        wait()

        print('\n\nHe walks away mumbling, "Magincian @pastry..."')

        if equals(hasBit(byte 235, byte 2), byte 1):
            jump label_790
        fi

        print('\n')
        bye()

    case 'map':
    case 'pira':
        if equals(hasBit(byte 235, byte 2), byte 1):
            jump label_462

        else:
            jump label_1228
        fi

    case 'magi':
    case 'past':
    case 'pie':
        if equals(hasBit(byte 235, byte 2), byte 1):
            print('"Truly it shall be a magnificent desert!"')
            jump label_790
        fi

        print('"I could do you a @favor if you did one for me first."')
        jump label_790

    case 'favo':
    case 'firs':
        jump label_1708

    case 'egg':
        print('"Only a @dragon\'s will do."')
        jump label_790

    case 'drag':
        print('"There\'s a lair in the dungeon Destard, to the northwest."')
        wait()

        print('\n\n"It\'s not far."')
        jump label_790

    case 'bye':
        print('"Bye."\n')
        bye()

    case '*':
label_1666:
        print('"Sorry, I can\'t help you with that."')
    esac

    jump label_790

label_1708:
    print('"Let\'s see..."')
    wait()

    print('\n\n"\'A golden orb on a crystal sea, in a box sans hinges, lid, or ')
    print('key.\'"')
    wait()

    print('\n\n"I\'ll give you one guess to this riddle."\n')

    ask()

    case 'egg':
        print('"Very good!"')
        jump label_1891

    case '*':
        print('"It\'s an egg, of course."')
    esac

label_1891:
    wait()

    print('\n\n"To make Magincian pastry, I require one dragon\'s @egg."')
    jump label_790
