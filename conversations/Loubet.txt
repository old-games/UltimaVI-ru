source('CONVERSE.B')
index(59)

id(158)
name({
    'english': 'Loubet',
    'russian': 'Лубе'
})

description:
    print({
        'english': 'a tall and dashing gentleman.',
        'russian': 'высокого и привлекательного джентльмена.'
    })
    wait()

    print({
        'english': '\n',
        'russian': '\n'
    })

interaction:
    print({
        'english': 'He greets you with an elaborate bow and flourish. "Good $T, mon ami',
        'russian': 'Он приветствует вас эффектным поклоном и пышным жестом. "Доброго времени $T, мон ами'
    })

    if equals(integer(value 16), byte 1):
        print({
            'english': 'e',
            'russian': ''
        })
    fi

    print({
        'english': '!"',
        'russian': '!"'
    })

    if hasBit(byte 235, byte 7):
        jump label_566
    fi

    if equals(integer(value 32), byte 144):
        wait()

        print({
            'english': '\n\n"\'Ave you come to moi for @instruction?" ',
            'russian': '\n\n"Вы пришли ко мне за @уроками?" '
        })

        choice({
            'english': 'yn',
            'russian': 'дн'
        })

        case 'n':
        case {'russian': 'н'}:
            print({
                'english': '"You \'ave but to ask, mah friend."',
                'russian': '"Вам нужно лишь спросить, мой друг".'
            })
            jump label_566

        case 'y':
        case {'russian': 'д'}:
            jump label_244
        esac

    else:
        jump label_566
    fi

label_244:
    print({
        'english': 'Loubet hands you a foil and a mask of golden mesh.',
        'russian': 'Лубе вручает вам рапиру и маску из золотой сетки.'
    })
    wait()

    print({
        'english': '\n\nHe shows you the correct stance, then you spar for a bit.',
        'russian': '\n\nОн показывает вам правильную стойку, после чего вы немного спаррингуете.'
    })
    wait()

    print({
        'english': '\n\n"Now ze off hand, $G... Mon dieu, you are (how you say it?) ',
        'russian': '\n\n"А теперь другой рукой, $G... Боже мой, вы (как вы это называете?) '
    })
    print({
        'english': 'ambidextrous! Very good, mah friend."',
        'russian': 'амбидекстер! Очень хорошо, мой друг".'
    })
    wait()

    print({
        'english': '\n\nM\'sieur Loubet is a skilled teacher, and you feel like you\'ve really',
        'russian': '\n\nМесье Лубе - опытный преподаватель, и вы чувствуете, что действительно'
    })
    print({
        'english': ' learned something.',
        'russian': ' чему-то научились.'
    })
    integer(value 0) = dexterity(byte 1, byte 1)
    setBit(byte 235, byte 7)
    jump label_566

label_566:
    print({
        'english': '\n',
        'russian': '\n'
    })

    ask()

    case 'prac':
    case {'russian': 'трен'}:
    case 'ask':
    case {'russian': 'спро'}:
    case 'less':
    case {'russian': 'урок'}:
        if hasBit(byte 235, byte 7):
            print({
                'english': '"But no! You are too skilled, I \'ave nothing more to teach you!"',
                'russian': '"Но нет! Вы слишком умелый, мне больше нечему вас научить!"'
            })
            jump label_566
        fi

        if notEquals(integer(value 32), byte 144):
            print({
                'english': '"Practice? Here? Surely you jest!"',
                'russian': '"Тренироваться? Здесь? Вы, конечно же, шутите!"'
            })
            wait()

            print({
                'english': '\n\n"No, come to ma salle sometime, zen we will spar, yes?"',
                'russian': '\n\n"Нет, приходите как-нибудь в мой зал, и мы проведём спарринг, да?"'
            })
            jump label_566

        else:
            jump label_244
        fi

    case 'fenc':
    case {'russian': 'фехт'}:
    case 'inst':
    case {'russian': 'инст'}:
        print({
            'english': '"Oui, I teach ze fencing',
            'russian': '"Уи, я преподаю фехтование'
        })

        if equals(integer(value 32), byte 144):
            print({
                'english': ' here in my salle, my school."',
                'russian': ' здесь, в моём зале, в моей школе".'
            })

        else:
            print({
                'english': '."',
                'russian': '."'
            })
        fi

        wait()

        print({
            'english': '\n\n"Is very difficult sometimes. Most fighters, zey have no subtlety, ',
            'russian': '\n\n"Иногда это очень сложно. У большинства бойцов нет ни тонкости, '
        })
        print({
            'english': 'no finesse."',
            'russian': 'ни изящества".'
        })
        wait()

        print({
            'english': '\n\nHe turns up his nose and sniffs aristocratically.',
            'russian': '\n\nОн задирает нос и аристократично фыркает.'
        })
        wait()

        print({
            'english': '\n',
            'russian': '\n'
        })

        if hasBit(byte 235, byte 7):
            print({
                'english': '"Zey are not like you, mah friend! You are most talented!"',
                'russian': '"Они не такие, как вы, мой друг! Вы самый талантливый!"'
            })
            jump label_566
        fi

        print({
            'english': '"But you, you look much better than that, my friend."',
            'russian': '"Но вы, вы выглядите гораздо лучше, чем они, мой друг".'
        })
        wait()

        print({
            'english': '\n\n"',
            'russian': '\n\n"'
        })

        if equals(integer(value 32), byte 144):
            print({
                'english': 'Just ask',
                'russian': 'Просто спросите'
            })

        else:
            print({
                'english': 'Come to ma salle sometime',
                'russian': 'Приходите как-нибудь в мой зал'
            })
        fi

        print({
            'english': ' and I\'ll give you a @lesson!"',
            'russian': ', и я преподам вам @урок!"'
        })
        jump label_566

    case 'name':
    case {'russian': 'имя'}:
        print({
            'english': '"I am M\'sieur Loubet.',
            'russian': '"Я месье Лубе.'
        })

        if equals(integer(value 32), byte 144):
            print({
                'english': '"',
                'russian': '"'
            })
            wait()

            print({
                'english': '\n\n"@Touche!" He wields his foil casually, lunging at an imaginary ',
                'russian': '\n\n"@Туше!" Он небрежно взмахивает рапирой, нанося удары по воображаемой '
            })
            print({
                'english': 'target.',
                'russian': 'мишени.'
            })
            wait()

            print({
                'english': '\n\n"',
                'russian': '\n\n"'
            })

        else:
            print({
                'english': ' ',
                'russian': ' '
            })
        fi

        if hasBit(byte 235, value 0):
            print({
                'english': 'But you already know who I am, silly person!"',
                'russian': 'Но вы уже знаете, кто я, глупенький человек!"'
            })
            jump label_566
        fi

        setBit(byte 235, value 0)
        print({
            'english': 'Much pleased to meet you, ',
            'russian': 'Очень рад познакомиться с вами, '
        })

        if integer(value 16):
            print({
                'english': 'madame',
                'russian': 'мадам'
            })

        else:
            print({
                'english': 'm\'sieur',
                'russian': 'мсье'
            })
        fi

        print({
            'english': '."',
            'russian': '."'
        })
        jump label_566

    case 'touc':
    case {'russian': 'туше'}:
        print({
            'english': '"Zat simply means \'touch.\' In fencing we score by touching ze opponent',
            'russian': '"Это означает \'касание\'. В фехтовании очки начисляются за касание противника'
        })
        print({
            'english': ' with ze foil @tip."',
            'russian': ' @кончиком рапиры".'
        })
        jump label_566

    case 'foil':
    case {'russian': 'рапи'}:
    case 'tip':
    case {'russian': 'конч'}:
    case 'scor':
    case {'russian': 'очки'}:
        print({
            'english': '"Zey are blunt on ze end, see?"',
            'russian': '"Они тупые на конце, видите?"'
        })
        wait()

        print({
            'english': '\n\n"Ze first third of ze blade (near ze \'andle) is \'forte\'--strong. It ',
            'russian': '\n\n"Первая треть клинка (у основания) - это \'форте\', то есть сила. Этой '
        })
        print({
            'english': 'is good to parry with zis part of ze sword."',
            'russian': 'частью меча хорошо парировать".'
        })
        wait()

        print({
            'english': '\n\n"Ze rest of ze blade is \'foible\'--weak and flexible."',
            'russian': '\n\n"Остальная часть клинка \'слабая\' - она вялая и гибкая".'
        })
        wait()

        print({
            'english': '\n\n"Ze foil, she is a very delicate thing. There must be much skill, ',
            'russian': '\n\n"Рапира, она очень хрупкая вещь. Нужно обладать большим мастерством, "'
        })
        print({
            'english': 'yes?"',
            'russian': 'да?'
        })
        wait()

        print({
            'english': '\n\n"You must \'old ze sword like a living bird:"',
            'russian': '\n\n"Вы, должны держать этот меч, как живую птицу".'
        })
        wait()

        print({
            'english': '\n\n"Too loose and she flies away. Too tight and she smothers. Just ',
            'russian': '\n\n"Будете держать слишком мягко, и она улетит. Слишком крепко, и она задохнётся. А если держать '
        })
        print({
            'english': 'right, and..."',
            'russian': 'вот так, то..."'
        })
        wait()

        print({
            'english': '\n\n"She sings very sweet!" He strikes metal and the foil makes a ',
            'russian': '\n\n"Она запоёт очень сладко!" Он ударяет по металлу, и фольга издаёт '
        })
        print({
            'english': 'pleasant @ringing noise.',
            'russian': 'приятный @звенящий звук.'
        })
        jump label_566

    case 'nois':
    case {'russian': 'звук'}:
    case 'plea':
    case {'russian': 'прия'}:
    case 'ring':
    case {'russian': 'звен'}:
    case 'hear':
    case {'russian': 'слыш'}:
        print({
            'english': 'SHINGGG!',
            'russian': 'ДЗИНННЬ!'
        })
        jump label_566

    case 'job':
    case {'russian': 'раб'}:
        print({
            'english': '"I am ze @fencing @instructor."',
            'russian': '"Я @инструктор по @фехтованию".'
        })
        jump label_566

    case 'bye':
    case {'russian': 'пока'}:
    case 'au r':
    case {'russian': 'орев'}:
        print({
            'english': '"Au revoir!"\n',
            'russian': '"Оревуар!"\n'
        })
        bye()

    case '*':
        print({
            'english': '"I cannot \'elp you with zat."',
            'russian': '"Я не могу вам с этим помочь".'
        })
        jump label_566
