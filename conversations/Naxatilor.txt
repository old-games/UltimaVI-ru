source('CONVERSE.B')
index(69)

id(168)
name({
    'english': 'Naxatilor',
    'russian': 'Наксатилор'
})

description:
    print({
        'english': 'a dark, rough-skinned gargoyle.',
        'russian': 'тёмную горгулью с грубой кожей.'
    })

interaction:
    wait()

    print({
        'english': '\n',
        'russian': '\n'
    })

    if equals(integer(value 21), byte 0):
        print({
            'english': 'The venerable gargoyle does not acknowledge your presence.\n',
            'russian': 'Почтенная горгулья не обращает на вас внимание.\n'
        })
        bye()
    fi

    if notEquals(partyHasObject(byte 76, byte 0), byte 1):
        print({
            'english': '"To have nothing to say to you, False Prophet!"\n',
            'russian': '"Нет что сказать вам, Лжепророк!"\n'
        })
        bye()
    fi

    if hasBit(byte 235, byte 2):
        jump label_3054
    fi

    if hasBit(byte 235, value 0):
        print({
            'english': '"To greet you again, $P."',
            'russian': '"Снова приветствовать вас, $P".'
        })
        jump label_822
    fi

    print({
        'english': '"To greet you, $P, Avatar of the Underworld."',
        'russian': '"Приветствовать вас, $P, Аватар Подземного Мира".'
    })
    wait()

    print({
        'english': '\n\n"To see the Amulet of Submission around your neck."',
        'russian': '\n\n"Видеть амулет Подчинения на вашей шее".'
    })
    wait()

    print({
        'english': '\n\n"To consider your acceptance of this both noble and wise."',
        'russian': '\n\n"Убедиться, что вы приняли это как благородное и мудрое решение".'
    })
    wait()

    print({
        'english': '\n\n',
        'russian': '\n\n'
    })

    if less(integer(value 20), byte 40):
        print({
            'english': '"To observe by your aura that such honorable deeds are rare for you."',
            'russian': '"Видеть по вашей ауре, что такие благородные поступки редки для вас".'
        })
        wait()

        print({
            'english': '\n\n"To not be surprised, then, that you are @fated to destroy a world."',
            'russian': '\n\n"Не удивляться, что вам @суждено уничтожить мир".'
        })
        jump label_822
    fi

    if less(integer(value 20), byte 80):
        print({
            'english': '"To observe by your aura that you are not a being of evil."',
            'russian': '"Видеть по вашей ауре, что вы не являетесь существом зла".'
        })
        wait()

        print({
            'english': '\n\n"To regret for your sake, then, that you are @fated to destroy a ',
            'russian': '\n\n"Сожалеть о том, что вам @суждено уничтожить '
        })
        print({
            'english': 'world."',
            'russian': 'мир".'
        })
        jump label_822
    fi

    print({
        'english': '"To observe by your aura that you are truly a being of honor."',
        'russian': '"Видеть по вашей ауре, что вы действительно благородное существо".'
    })
    wait()

    print({
        'english': '\n\n"To be surprised, then, that you are @fated to destroy a world."',
        'russian': '\n\n"Удивляться, что вам @суждено уничтожить мир".'
    })
    setBit(byte 235, value 0)

label_822:
    print({
        'english': '\n',
        'russian': '\n'
    })

    ask()

    case 'scho':
    case {'russian': 'учён'}:
    case 'valk':
    case {'russian': 'валк'}:
        print({
            'english': '"To have spoken to Scholar Valkadesh?"',
            'russian': '"Поговорить с учёным Валкадешем?"'
        })
        wait()

        print({
            'english': '\n\n"Then surely to know what harm you have caused my world!"',
            'russian': '\n\n"Тогда, конечно, узнать, какой вред вы причинили моему миру!"'
        })
        wait()

        print({
            'english': '\n\n"To have no @choice but to return the Codex!"',
            'russian': '\n\n"Не быть другого @выбора, кроме как вернуть Кодекс!"'
        })
        jump label_822

    case 'fate':
    case {'russian': 'сужд'}:
    case 'dest':
    case {'russian': 'унич'}:
    case 'worl':
    case {'russian': 'мир'}:
        print({
            'english': '"To have wreaked great havoc in this land by your theft of the Codex!"',
            'russian': '"Вы посеяли на этой земле большой хаос из-за кражи Кодекса!"'
        })
        wait()

        print({
            'english': '\n\n"To have no @choice but to return it!"',
            'russian': '\n\n"У вас нет другого @выбора, кроме как вернуть его!"'
        })
        jump label_822

    case 'choi':
    case {'russian': 'выбо'}:
    case 'retu':
    case {'russian': 'верн'}:
        print({
            'english': '"To see only two alternatives: to return the @Codex, or to give up ',
            'russian': '"Видеть только две альтернативы: вернуть @Кодекс или расстаться '
        })
        print({
            'english': 'your life."',
            'russian': 'с жизнью".'
        })
        jump label_822

    case 'sacr':
    case {'russian': 'жерт'}:
        print({
            'english': '"Hss...Yes, to know of the three meanings of that word."',
            'russian': '"Хсс...Да, знать о трёх значениях этого слова".'
        })
        wait()

        print({
            'english': '\n\n"To ask to which type of sacrifice you refer: @self, @others or ',
            'russian': '\n\n"Спросить, какой тип жертвоприношения вы имеете ввиду: @себя, @других или '
        })
        print({
            'english': 'items of @value?"',
            'russian': '@ценных предметов?"'
        })
        jump label_822

    case 'self':
    case {'russian': 'себя'}:
        print({
            'english': '"To admire your willingness to sacrifice your life for the good of my ',
            'russian': '"Восхищаться вашей готовностью пожертвовать своей жизнью ради блага моего '
        })
        print({
            'english': 'people."',
            'russian': 'народа".'
        })
        wait()

        print({
            'english': '\n\n"But to doubt that that is the meaning of the prophecy."',
            'russian': '\n\n"Но сомневаться, что смысл пророчества в этом".'
        })
        jump label_822

    case 'othe':
    case {'russian': 'друг'}:
        print({
            'english': '"What?!"',
            'russian': '"Что?!"'
        })
        wait()

        print({
            'english': '\n\n"To suggest that you can atone for your misdeed by bathing in the ',
            'russian': '\n\n"Полагать, что вы можете искупить свой проступок, купаясь в '
        })
        print({
            'english': 'blood of others?!"',
            'russian': 'чужой крови?!"'
        })
        wait()

        print({
            'english': '\n\n',
            'russian': '\n\n'
        })

        if less(integer(value 20), byte 40):
            print({
                'english': '"To find such thoughts well in keeping with the blackness of your ',
                'russian': '"Такие мысли хорошо сочетаются с чернотой вашей '
            })
            print({
                'english': 'aura!"',
                'russian': 'ауры!"'
            })

        else:
            print({
                'english': '"To find such thoughts unworthy of your honorable aura!"',
                'russian': '"Считать подобные мысли недостойными вашей благородной ауры!"'
            })
        fi

        jump label_822

    case 'valu':
    case {'russian': 'ценн'}:
    case 'item':
    case {'russian': 'пред'}:
        print({
            'english': '"To know of only one item of true value--the Codex itself."',
            'russian': '"Знать только об одном предмете, представляющем истинную ценность: о самом Кодексе".'
        })
        wait()

        print({
            'english': '\n\n"Surely not to destroy the Codex!?" ',
            'russian': '\n\n"Вы же, конечно, не хотите уничтожить Кодекс!?" '
        })
        jump label_3883

    case 'vort':
    case {'russian': 'вихр'}:
    case 'ritu':
    case {'russian': 'риту'}:
    case 'retu':
    case {'russian': 'верн'}:
        print({
            'english': '"To direct you to go to the Hall of Knowledge, south of here."',
            'russian': '"Направить вас в Зал знаний, расположенный к югу отсюда".'
        })
        wait()

        print({
            'english': '\n\n"There to read the Book of Ritual."',
            'russian': '\n\n"Там вы сможете прочитать книгу ритуалов".'
        })
        wait()

        print({
            'english': '\n\n"There also to get the Vortex Lens!"',
            'russian': '\n\n"Там же вы можете получить вихревую линзу!"'
        })
        wait()

        print({
            'english': '\n\n"Then to return here, where I will tell you what must be done!"',
            'russian': '\n\n"Потом возвращайтесь сюда, и я скажу вам, что нужно сделать!"'
        })
        setBit(byte 235, byte 2)
        jump label_822

    case 'both':
    case {'russian': 'обои'}:
    case 'peop':
    case {'russian': 'наро'}:
        print({
            'english': '"To be able to see the @Vortex from both sides of the world!"',
            'russian': '"Чтобы мы могли видеть @Вихрь с обеих сторон света!"'
        })
        wait()

        print({
            'english': '\n\n"To benefit both races equally if the Codex is @returned there!"',
            'russian': '\n\n"Если Кодекс будет @возвращён туда, это принесёт равную пользу обеим расам!"'
        })
        jump label_822

    case 'name':
    case {'russian': 'имя'}:
        print({
            'english': '"To be called Naxatilor."',
            'russian': '"Называться Наксатилор".'
        })
        jump label_822

    case 'job':
    case {'russian': 'раб'}:
        print({
            'english': '"To be a seer, mystic advisor to my people."',
            'russian': '"Быть провидцем, мистическим советником моего народа".'
        })
        wait()

        print({
            'english': '\n\n"But to be unable to avert what is written in the Book of ',
            'russian': '\n\n"Но не в состоянии предотвратить то, что написано в Книге '
        })
        print({
            'english': 'Prophecies."',
            'russian': 'пророчеств".'
        })
        jump label_822

    case 'lens':
    case {'russian': 'линз'}:
    case 'huma':
    case {'russian': 'чело'}:
    case 'seco':
    case {'russian': 'втор'}:
        print({
            'english': '"To be sure to show the human lensmaker the Vortex Lens."',
            'russian': '"Обязательно покажите вихревую линзу мастеру линз из народа людей".'
        })
        wait()

        print({
            'english': '\n\n"Also to be sure to tell the human lensmaker that his lens must be ',
            'russian': '\n\n"Также не забудьте ему сообщить, что его линза должна быть '
        })
        print({
            'english': 'concave!"',
            'russian': 'вогнутой!"'
        })
        wait()

        print({
            'english': '\n\n"To be most important--concave!"',
            'russian': '\n\n"Это очень важно - именно вогнутой!"'
        })
        jump label_822

    case 'code':
    case {'russian': 'коде'}:
        print({
            'english': '"To know not where the Codex is."',
            'russian': '"Не знать, где находится Кодекс".'
        })
        wait()

        print({
            'english': '\n\n"But to remember that Captain Bolesh just returned from the Codex!"',
            'russian': '\n\n"Но вспоминать, что капитан Болеш почти добрался до Кодекса!"'
        })
        wait()

        print({
            'english': '\n\n"To suggest you seek him. To try the healer\'s house to the north."',
            'russian': '\n\n"Предложить вам найти его. Сходить в дом целителя на севере".'
        })
        jump label_822

    case 'hall':
    case {'russian': 'зал'}:
    case 'know':
    case {'russian': 'знан'}:
        print({
            'english': '"To find the Vortex Lens in the Hall of Knowledge, south of here."',
            'russian': '"Найти вихревую линзу в Зале знаний, к югу отсюда".'
        })
        jump label_822

    case 'bye':
    case {'russian': 'пока'}:
        if hasBit(byte 235, byte 2):
            print({
                'english': '"Farewell! To return when you have visited the Hall of Knowledge!"\n',
                'russian': '"Прощайте! Вернуться, когда посетить Зал знаний!"\n'
            })

        else:
            print({
                'english': '"Farewell, $P. To return when there is more we can discuss."\n',
                'russian': '"Прощайте, $P. Вернуться, когда нам будет что обсудить".\n'
            })
        fi

        bye()

    case '*':
        print({
            'english': '"To have no time to discuss that."',
            'russian': '"Нет времени обсуждать это".'
        })
        jump label_822
    esac

label_3054:
    if equals(partyHasObject(word 395, byte 0), word 32769):
        jump label_3272

    else:
        print({
            'english': '"Yes, to see that the Vortex Lens is no longer whole."',
            'russian': '"Да, видеть, что вихревая линза уже не цела".'
        })
        wait()

        print({
            'english': '\n\n"To go to the lensmaker, whose house is northeast of here."',
            'russian': '\n\n"Идти к мастеру линз, дом которого находится к северо-востоку отсюда".'
        })
        wait()

        print({
            'english': '\n\n"To get the lens repaired there!"',
            'russian': '\n\n"Там чинить линзу!"'
        })
        wait()

        print({
            'english': '\n\n"Then to return here with the whole lens!"\n',
            'russian': '\n\n"Потом вернуться сюда с целой линзой!"\n'
        })
        bye()
    fi

label_3272:
    if equals(partyHasObject(word 396, byte 0), word 32769):
        print({
            'english': '"To require the Vortex Lens, foolish human!"',
            'russian': '"Вам нужна вихревая линза, глупый человек!"'
        })
        wait()

        print({
            'english': '\n\n"To waste no more time!"',
            'russian': '\n\n"Не теряйте больше времени!"'
        })
        wait()

        print({
            'english': '\n\n"To go to the @Hall of Knowledge and get the lens!"',
            'russian': '\n\n"Идти в @Зал знаний и забрать линзу!"'
        })
        wait()

        print({
            'english': '\n\n"To bring it to me personally, Avatar!"',
            'russian': '\n\n"Принести её лично мне, Аватар!"'
        })
        jump label_822
    fi

    print({
        'english': '"Good, to see that you have the Vortex Lens."',
        'russian': '"Хорошо, видеть, что у вас есть вихревая линза".'
    })
    wait()

    print({
        'english': '\n\n"To have read the Book of Ritual as well?" ',
        'russian': '\n\n"Вы прочитали книгу ритуалов"? '
    })

    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'n':
    case {'russian': 'н'}:
        print({
            'english': '"Then to go to the Hall of Knowledge and do so!"\n',
            'russian': '"Тогда идти в Зал знаний и сделать это!"\n'
        })
        bye()

    case 'y':
    case {'russian': 'д'}:
        clearBit(byte 235, byte 2)
        print({
            'english': '"Good. To be unable to reverse the ritual myself."',
            'russian': '"Хорошо. Не иметь возможности обратить ритуал самостоятельно".'
        })
        wait()

        print({
            'english': '\n\n"But to know that the Codex itself will say how to return it to the ',
            'russian': '\n\n"Но знать, что сам Кодекс скажет, как вернуть его в '
        })
        print({
            'english': 'Vortex."',
            'russian': 'Вихрь".'
        })
        wait()

        print({
            'english': '\n\n"To know also that you will need a second lens."',
            'russian': '\n\n"Также знать, что вам понадобится вторая линза".'
        })
        wait()

        print({
            'english': '\n\n"To require a human-crafted @lens, so that your people may also see ',
            'russian': '\n\n"@Линза, изготовленная человеком, чтобы ваш народ также мог изучать '
        })
        print({
            'english': 'the @Codex."',
            'russian': '@Кодекс".'
        })
        jump label_822
    esac

label_3883:
    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'y':
    case {'russian': 'д'}:
        print({
            'english': '"To be utterly without hope in the face of such ignorance."',
            'russian': '"Быть совершенно беспомощным перед лицом такого невежества".'
        })
        wait()

        print({
            'english': '\n\n"To refuse to converse with a daemon."\n',
            'russian': '\n\n"Отказаться от общения с демоном".\n'
        })
        bye()

    case 'n':
    case {'russian': 'н'}:
        print({
            'english': '"Perhaps to have another alternative..."',
            'russian': '"Возможно, есть другая альтернатива..."'
        })
        wait()

        print({
            'english': '\n\n"Yes! To return the Codex to the @Vortex!"',
            'russian': '\n\n"Да! Вернуть Кодекс в @Вихрь!"'
        })
        wait()

        print({
            'english': '\n\n"To then be available to @both our peoples!"',
            'russian': '\n\n"Чтобы он был доступен @обоим нашим народам!"'
        })
        jump label_822
    esac
