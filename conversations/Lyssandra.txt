source('CONVERSE.A')
index(48)

id(48)
name({
    'english': 'Lyssandra',
    'russian': 'FIXME Lyssandra'
})

description:
    print({
        'english': 'a girl of perhaps twelve years.',
        'russian': 'FIXME a girl of perhaps twelve years.'
    })
    wait()

    print({
        'english': '\n\nShe is agile, and balances trays of mugs deftly on each hand.',
        'russian': 'FIXME \n\nShe is agile, and balances trays of mugs deftly on each hand.'
    })

    if greater(integer(value 17), byte 19):
        wait()

        print({
            'english': '\n\nIt is a wonder how she can duck the hurled debris and avoid the ',
            'russian': 'FIXME \n\nIt is a wonder how she can duck the hurled debris and avoid the '
        })
        print({
            'english': 'flying fists.',
            'russian': 'FIXME flying fists.'
        })
        wait()

        print({
            'english': '\n\nShe is quick, and never spills a drop of ale.',
            'russian': 'FIXME \n\nShe is quick, and never spills a drop of ale.'
        })
    fi

interaction:
    wait()

    print({
        'english': '\n"Hallo, $G. Welcome to the \'Sword and @Keg.\'\n',
        'russian': 'FIXME \n"Hallo, $G. Welcome to the \'Sword and @Keg.\'\n'
    })

    ask()

    case {'english': 'drin'}:
    case {'russian': 'FIXME drin'}:
    case {'english': 'keg'}:
    case {'russian': 'FIXME keg'}:
    case {'english': 'orde'}:
    case {'russian': 'FIXME orde'}:
    case {'english': 'swor'}:
    case {'russian': 'FIXME swor'}:
        print({
            'english': '"Sometimes \'tis rough here but I doesn\'t mind."',
            'russian': 'FIXME "Sometimes \'tis rough here but I doesn\'t mind."'
        })
        wait()

        print({
            'english': '\n\n"Some day I\'ll be a @fighter, ye know."',
            'russian': 'FIXME \n\n"Some day I\'ll be a @fighter, ye know."'
        })
        jump label_290

    case {'english': 'name'}:
    case {'russian': 'FIXME name'}:
        print({
            'english': '"It\'s Lyssandra, but ye can call me @Andy."',
            'russian': 'FIXME "It\'s Lyssandra, but ye can call me @Andy."'
        })
        setBit(byte 235, value 0)
        jump label_290

    case {'english': 'Andy'}:
    case {'russian': 'FIXME Andy'}:
        print({
            'english': '"I know \'tis a boy\'s name, but I like it all the same."',
            'russian': 'FIXME "I know \'tis a boy\'s name, but I like it all the same."'
        })
        jump label_290

    case {'english': 'job'}:
    case {'russian': 'FIXME job'}:
    case {'english': 'mug'}:
    case {'russian': 'FIXME mug'}:
        print({
            'english': '"I take orders for drinks, $G."',
            'russian': 'FIXME "I take orders for drinks, $G."'
        })
        jump label_290

    case {'english': 'braw'}:
    case {'russian': 'FIXME braw'}:
    case {'english': 'figh'}:
    case {'russian': 'FIXME figh'}:
        print({
            'english': '"The fighting here usually begins over--"',
            'russian': 'FIXME "The fighting here usually begins over--"'
        })
        wait()

        print({
            'english': '\n\nHer voice drops to a whisper, "--the @rat!"',
            'russian': 'FIXME \n\nHer voice drops to a whisper, "--the @rat!"'
        })

        if less(integer(value 17), byte 20):
            wait()

            print({
                'english': '\n\n"Around sunset things get really rowdy here!"',
                'russian': 'FIXME \n\n"Around sunset things get really rowdy here!"'
            })
        fi

        jump label_290

    case {'english': 'mous'}:
    case {'russian': 'FIXME mous'}:
    case {'english': 'rat'}:
    case {'russian': 'FIXME rat'}:
        print({
            'english': '"Shhh!" She glances about to see if you have been overheard.',
            'russian': 'FIXME "Shhh!" She glances about to see if you have been overheard.'
        })
        wait()

        print({
            'english': '\n\n"See yon hole in the north wall?"',
            'russian': 'FIXME \n\n"See yon hole in the north wall?"'
        })
        wait()

        print({
            'english': '\n\n"Look carefully at where floor and wall meet."',
            'russian': 'FIXME \n\n"Look carefully at where floor and wall meet."'
        })
        wait()

        print({
            'english': '\n\n"That\'s where it took the rune!"',
            'russian': 'FIXME \n\n"That\'s where it took the rune!"'
        })
        wait()

        print({
            'english': '\n\n"They tried all manner of tricks to get it out but they all failed."',
            'russian': 'FIXME \n\n"They tried all manner of tricks to get it out but they all failed."'
        })
        wait()

        print({
            'english': '\n"I had an @idea, but nobody listened to me."',
            'russian': 'FIXME \n"I had an @idea, but nobody listened to me."'
        })
        jump label_290

    case {'english': 'idea'}:
    case {'russian': 'FIXME idea'}:
    case {'english': 'list'}:
    case {'russian': 'FIXME list'}:
        jump label_1524

    case {'english': 'rune'}:
    case {'russian': 'FIXME rune'}:
        print({
            'english': '"I know how to get it from the you-know-@what."',
            'russian': 'FIXME "I know how to get it from the you-know-@what."'
        })
        jump label_290

    case {'english': 'how'}:
    case {'russian': 'FIXME how'}:
    case {'english': 'what'}:
    case {'russian': 'FIXME what'}:
    case {'english': 'you'}:
    case {'russian': 'FIXME you'}:
        print({
            'english': '"The @rat," she whispers conspiratorially to you.',
            'russian': 'FIXME "The @rat," she whispers conspiratorially to you.'
        })
        jump label_290

    case {'english': 'mant'}:
    case {'russian': 'FIXME mant'}:
        print({
            'english': '"Culham has oft sung of it, with @Jerris and @Starhelm."',
            'russian': 'FIXME "Culham has oft sung of it, with @Jerris and @Starhelm."'
        })
        jump label_290

    case {'english': 'Star'}:
    case {'russian': 'FIXME Star'}:
        print({
            'english': '"His real name is Stelnar."',
            'russian': 'FIXME "His real name is Stelnar."'
        })
        wait()

        print({
            'english': '\n\n"He would be much nicer if he were not so angry all the time."',
            'russian': 'FIXME \n\n"He would be much nicer if he were not so angry all the time."'
        })
        jump label_290

    case {'english': 'Jerr'}:
    case {'russian': 'FIXME Jerr'}:
        print({
            'english': '"He is brave when @fighting, but he is afraid to sing by himself."',
            'russian': 'FIXME "He is brave when @fighting, but he is afraid to sing by himself."'
        })
        jump label_290

    case {'english': 'bye'}:
    case {'russian': 'FIXME bye'}:
        print({
            'english': '"Bye-bye, $G. It was nice talking to you."\n',
            'russian': 'FIXME "Bye-bye, $G. It was nice talking to you."\n'
        })
        bye()

    case '*':
        print({
            'english': '"I cannot help ye with that."',
            'russian': 'FIXME "I cannot help ye with that."'
        })
        jump label_290
    esac

label_1524:
    print({
        'english': '"Do ye know of the talking mouse? Lord British\'s friend?" ',
        'russian': 'FIXME "Do ye know of the talking mouse? Lord British\'s friend?" '
    })

    choice({
        'english': 'yn',
        'russian': 'FIXME yn'
    })

    case {'english': 'n'}:
    case {'russian': 'FIXME n'}:
        print({
            'english': '"Well, ye would think it was a dumb idea anyways..."',
            'russian': 'FIXME "Well, ye would think it was a dumb idea anyways..."'
        })
        jump label_290

    case {'english': 'y'}:
    case {'russian': 'FIXME y'}:
        print({
            'english': '"A mouse could get the rune, of that I\'m sure!"',
            'russian': 'FIXME "A mouse could get the rune, of that I\'m sure!"'
        })
        jump label_290
    esac
