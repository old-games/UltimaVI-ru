source('CONVERSE.A')
index(66)

id(66)
name({
    'english': 'Gwenno',
    'russian': 'Гвенно'
})

description:
    print({
        'english': 'a plainly dressed bard.\n*',
        'russian': 'барда в простой одежде.\n*'
    })

interaction:
    setBit(byte 235, value 0)

    if partyHas(byte 235):
        print({
            'english': '"Is there something you needed to know?"',
            'russian': '"Вам что-нибудь нужно?"'
        })

    else:
        print({
            'english': '"Hello, $P."',
            'russian': '"Привет, $P".'
        })
    fi

label_100:
    print({
        'english': '\n',
        'russian': '\n'
    })

    ask()

    case 'name':
    case {'russian': 'имя'}:
        print({
            'english': '"It\'s me, Gwenno. You have been away from our realm a long time, ',
            'russian': '"Это я, Гвенно. Вас долго не было в нашем королевстве, '
        })
        print({
            'english': 'haven\'t you..."',
            'russian': 'не так ли?"'
        })
        jump label_100

    case 'job':
    case {'russian': 'раб'}:
        print({
            'english': '"Iolo\'s @apprentice has taken over my job at @Iolo\'s Bows."\n*\n"These ',
            'russian': '"@Ученица Иоло заняла моё место в \'Луках @Иоло\'".\n*\n"В последнее '
        })
        print({
            'english': 'days I\'ve been transcribing the folk @songs of Britannia into ',
            'russian': 'время я занимаюсь переводом народных @песен Британии в '
        })
        print({
            'english': 'numerical @notation for the artisan\'s @guild."\n*\n',
            'russian': 'числовую @форму для @гильдии ремесленников".\n*\n'
        })

        if partyHas(byte 235):
            print({
                'english': '"Of course, helping you on your quest is more important than that ',
                'russian': '"Впрочем, сейчас гораздо важнее помочь вам в ваших '
            })
            print({
                'english': 'right now."',
                'russian': 'поисках".'
            })

        else:
            print({
                'english': '"Of course, if you need my help, I could leave the guild for a time ',
                'russian': '"Впрочем, если вам нужна моя помощь, я могла бы на время покинуть гильдию '
            })
            print({
                'english': 'and @join you."',
                'russian': 'и @присоединиться к вам".'
            })
        fi

        jump label_100

    case 'arti':
    case {'russian': 'реме'}:
    case 'guil':
    case {'russian': 'гиль'}:
        print({
            'english': '"@Selganor can tell you more about the guild than I could."',
            'russian': '"@Селганор может рассказать вам о гильдии больше, чем я".'
        })
        jump label_100

    case 'selg':
    case {'russian': 'селг'}:
        print({
            'english': '"He\'s the guildmaster."',
            'russian': '"Он глава гильдии".'
        })
        jump label_100

    case 'join':
    case {'russian': 'прис'}:
    case 'help':
    case {'russian': 'помо'}:
    case 'ques':
    case {'russian': 'поис'}:
        jump label_1689

    case 'leav':
    case {'russian': 'поки'}:
        jump label_2222

    case 'folk':
    case {'russian': 'наро'}:
    case 'song':
    case {'russian': 'песе'}:
        print({
            'english': '"The songs of a people are an important part of their heritage."\n*\n',
            'russian': '"Песни народа - важная часть его наследия".\n*\n'
        })
        print({
            'english': '"Putting them down on paper helps preserve our @traditions for future ',
            'russian': '"Их запись на бумаге помогает сохранить наши @традиции для будущих '
        })
        print({
            'english': 'generations."',
            'russian': 'поколений".'
        })
        jump label_100

    case 'heri':
    case {'russian': 'насл'}:
    case 'pape':
    case {'russian': 'бума'}:
    case 'trad':
    case {'russian': 'трад'}:
    case 'futu':
    case {'russian': 'буду'}:
    case 'gene':
    case {'russian': 'поко'}:
        print({
            'english': '"I\'m so glad you appreciate the value of tradition."',
            'russian': '"Я так рада, что вы цените традиции".'
        })
        jump label_100

    case 'iolo':
    case {'russian': 'иоло'}:
        print({
            'english': '"A bit scruffy, but he\'s the sweetest husband I could ever ask for."',
            'russian': '"Немного неряшливый, но он самый милый муж, о котором я только могла мечтать".'
        })

        if isNearby(byte 4):
            wait()

            portrait(byte 4)
            print({
                'english': '\n\nIolo says "You\'re only saying that because it\'s true." He gives her ',
                'russian': '\n\nИоло говорит: "Ты говоришь так только потому, что это правда". Он целует '
            })
            print({
                'english': 'a kiss.',
                'russian': 'её.'
            })
            wait()

            portrait(byte 235)
        fi

        jump label_100

    case 'appr':
    case {'russian': 'учен'}:
    case 'bow':
    case {'russian': 'лука'}:
        print({
            'english': '"If you need a good crossbow, the shop is in Britain, over by the Blue',
            'russian': '"Если вам нужен хороший арбалет, магазин находится в Бритайн, рядом с \'Синим'
        })
        print({
            'english': ' @Boar."',
            'russian': ' @кабаном\'".'
        })
        jump label_100

    case 'blue':
    case {'russian': 'сини'}:
    case 'boar':
    case {'russian': 'каба'}:
        print({
            'english': '"It\'s a lively place."',
            'russian': '"Это оживлённое место".'
        })
        jump label_100

    case 'nume':
    case {'russian': 'числ'}:
    case 'nota':
    case {'russian': 'форм'}:
    case 'tran':
    case {'russian': 'пере'}:
        print({
            'english': '"A number for every @note, and a note for every @number."',
            'russian': '"Каждой @ноте соответствует число и каждой ноте соответствует @число".'
        })
        jump label_100

    case 'note':
    case {'russian': 'ноте'}:
        print({
            'english': '"Each note is represented by one @number."',
            'russian': '"Каждая нота обозначается одним @числом".'
        })
        jump label_100

    case 'numb':
    case {'russian': 'числ'}:
        print({
            'english': '"Each number @represents one @note."',
            'russian': '"Каждое число @обозначает одну @ноту".'
        })
        jump label_100

    case 'repr':
    case {'russian': 'обоз'}:
        print({
            'english': '"I knew you\'d catch on!"',
            'russian': '"Я знала, что ты поймёшь!"'
        })
        jump label_100

    case 'play':
    case {'russian': 'сыгр'}:
    case 'tune':
    case {'russian': 'мело'}:
        print({
            'english': '"Oh, Selganor sent you, did he? I bet you want to learn \'@Stones.\'"',
            'russian': '"О, вас прислал Селганор, не так ли? Держу пари, вы хотите выучить \'@Камни\'".'
        })
        jump label_100

    case 'lear':
    case {'russian': 'выуч'}:
    case 'ston':
    case {'russian': 'камн'}:
        print({
            'english': '"In the standard numerical notation, it reads \'678987 8767653\'."',
            'russian': '"В стандартной числовой форме это звучит как \'678987 8767653\'".'
        })
        jump label_100

    case 'bye':
    case {'russian': 'пока'}:
        print({
            'english': '"Nice talking with you."\n',
            'russian': '"Приятно было с вами поболтать".\n'
        })
        bye()

    case '*':
        print({
            'english': '"Sorry, can\'t help you there."',
            'russian': '"Извините, ничем не могу вам помочь".'
        })
    esac

    jump label_100

label_1689:
    if partyHas(byte 235):
label_1694:
        print({
            'english': '"I have joined you already!"',
            'russian': '"Я уже в вашем отряде!"'
        })
        jump label_100
    fi

    print({
        'english': '"Do you want me to come with you?" ',
        'russian': '"Хотите, чтобы я пошла с вами?" '
    })

    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'n':
    case {'russian': 'н'}:
        print({
            'english': '"Okay. Let me know if you need my help later."',
            'russian': '"Ладно. Дайте мне знать, если вам понадобится моя помощь".'
        })
        jump label_100
    esac

    integer(value 0) = partyJoin(byte 235)

    if equals(integer(value 0), byte 1):
        print({
            'english': '\n"Not while you\'re in that thing!"',
            'russian': '\n"Только не на этой штуке!"'
        })
        jump label_100
    fi

    if equals(integer(value 0), byte 2):
        print({
            'english': '\n"You have enough travelling with you already."\n*\n"If you ask one of ',
            'russian': '\n"С вами уже и так достаточно попутчиков".\n*\n"Если вы сначала попросте кого-нибудь из '
        })
        print({
            'english': 'them to @leave first, I\'d be happy to join you."',
            'russian': 'них @покинуть отряд, я с радостью присоединюсь к вам".'
        })
        jump label_100
    fi

    if equals(integer(value 0), byte 3):
        jump label_1694
    fi

    print({
        'english': '\n"Okay! It will be nice to spend some time on the road again."',
        'russian': '\n"Хорошо! Приятно снова провести какое-то время в дороге".'
    })

    if partyHas(byte 4):
        wait()

        print({
            'english': '\n\nShe runs over and hooks arms with @Iolo, and they dance around and ',
            'russian': '\n\nОна подбегает к @Иоло, берёт его за руки, и они кружатся в '
        })
        print({
            'english': 'around.\n*\nThey\'re obviously very happy to see each other again.',
            'russian': 'танце.\n*\nОни, очевидно, очень рады снова видеть друг друга.'
        })
    fi

    print({
        'english': '\n',
        'russian': '\n'
    })
    bye()

label_2222:
    if equals(partyHas(byte 235), byte 0):
label_2230:
        print({
            'english': '"I\'d have to @join you before I could leave, silly!"',
            'russian': '"Мне придётся @присоединиться к вашему отряду, прежде чем я смогу его покинуть, глупышка!"'
        })
        jump label_100
    fi

    integer(value 0) = partyLeave(byte 235)

    if equals(integer(value 0), byte 1):
        print({
            'english': '"Let\'s get our feet back on solid ground first, okay?"',
            'russian': '"Давайте сначала встанем на твёрдую почву под ногами, хорошо?"'
        })
        jump label_100
    fi

    if equals(integer(value 0), byte 2):
        jump label_2230
    fi

    print({
        'english': '"All right. I\'ll head back home to Minoc. Come let me know if you need',
        'russian': '"Хорошо. Я возвращаюсь домой, в Минок. Дайте мне знать, если понадобится,'
    })
    print({
        'english': ' me to join you again later."\n*\n"I\'ll leave all my things here - some ',
        'russian': ' чтобы я снова к вам присоединилась".\n*\n"Я оставлю все свои вещи здесь - некоторые '
    })
    print({
        'english': 'of them might come in handy for you."',
        'russian': 'из них могут вам пригодиться".'
    })

    if partyHas(byte 4):
        wait()

        print({
            'english': '\n\nShe gives Iolo a big hug before she leaves.\n*\n"Remember to keep your',
            'russian': '\n\nПеред уходом она крепко обнимает Иоло.\n*\n"Не забывай держать'
        })
        print({
            'english': ' socks dry," she says, "and I\'ll see you when the quest is done."',
            'russian': ' носки сухими", - говорит она, - "Увидимся, когда поиски подойдут к кноцу".'
        })
    fi

    print({
        'english': '\n',
        'russian': '\n'
    })
    bye()
