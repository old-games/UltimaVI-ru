{
    "source": "CONVERSE.B",
    "index": 3,
    "id": 102,
    "name": "Marissa",
    "f3-after-name": false,
    "description": [
        "a finely adorned woman with a tight mouth and wide eyes.",
        "WAIT",
        "\n"
    ],
    "f3-after-description": false,
    "interaction": {
        "69": [
            [
                "IF",
                "notEquals(integer(value 32), byte 144)"
            ],
            [
                "JUMP",
                137
            ],
            "ENDIF",
            [
                "IF",
                "hasBit(byte 235, value 0)"
            ],
            "\"Hello again.\"",
            "ELSE",
            "\"Hello.\"",
            "ENDIF",
            " She bows formally.\n",
            [
                "JUMP",
                283
            ]
        ],
        "137": [
            "She bows stiffly. \"I'm sorry, good ",
            [
                "IF",
                "integer(value 16)"
            ],
            "madam",
            "ELSE",
            "sir",
            "ENDIF",
            ", but my shop is closed for now.\"",
            "WAIT",
            "\n\n\"See me some other time, when I am available for business.\"\n",
            "BYE"
        ],
        "283": [
            "ASK",
            [
                "CASE",
                "name"
            ],
            "\"Marissa. You may call me '@Miss Trihune.\"\n",
            [
                "SETF",
                [
                    "byte",
                    235
                ],
                [
                    "value",
                    0
                ]
            ],
            [
                "JUMP",
                283
            ],
            [
                "CASE",
                "miss,trih"
            ],
            "\"Yes, that is much better.\"\n",
            [
                "JUMP",
                283
            ],
            [
                "CASE",
                "buy,tuni,dres,pant,clot"
            ],
            [
                "JUMP",
                1892
            ],
            [
                "CASE",
                "sell"
            ],
            [
                "JUMP",
                2550
            ],
            [
                "CASE",
                "silk"
            ],
            "\"Yes, I can work with silk. But 'tis out of fashion...\"",
            "WAIT",
            "\n\n\"Nobody wears silk clothes this season.\"\n",
            [
                "JUMP",
                283
            ],
            [
                "CASE",
                "arbe"
            ],
            "\"Oh, he's a threadmaker who lives here in town.\"",
            "WAIT",
            "\n\n\"Silly little man, but a fine spinner.\"",
            "WAIT",
            "\n\n\"I get all my thread straight from him. No other source would do.\"\n",
            [
                "JUMP",
                283
            ],
            [
                "CASE",
                "bolt"
            ],
            "\"Yes, that silly Arbeth person can spin spidersilk into thread.\"",
            "WAIT",
            "\n\n\"Charlotte, from New Magincia, weaves thread into silk cloth.\"",
            "WAIT",
            "\n\n\"Bring me a bolt of her finest silk cloth, and then I can sew you a silk bag.\"\n",
            [
                "JUMP",
                283
            ],
            [
                "CASE",
                "ball,mamm,bag,plan"
            ],
            "\"Oh, I understand. A large silk bag.\"",
            "WAIT",
            "\n\n\"Well, 'tis hardly a challenge for one of my skills. But, since it is important, I'll do it.\"",
            "WAIT",
            "\n\n",
            [
                "IF",
                "equals(partyHasObject(word 270, byte 0), word 32769)"
            ],
            "\"But I'll need to see the plans.\"\n",
            [
                "JUMP",
                283
            ],
            "ENDIF",
            [
                "ASSIGN",
                [
                    "integer",
                    [
                        [
                            "value",
                            0
                        ]
                    ]
                ],
                [
                    "partyHasObject",
                    [
                        [
                            "byte",
                            241
                        ],
                        [
                            "byte",
                            0
                        ]
                    ]
                ]
            ],
            [
                "IF",
                "equals(integer(value 0), word 32769)"
            ],
            "\"But I'll need a @bolt of silk to do it, of course.\"\n",
            [
                "JUMP",
                283
            ],
            "ENDIF",
            [
                "JUMP",
                1477
            ],
            [
                "CASE",
                "job"
            ],
            "\"I create garments of the highest @fashion.\"\n",
            [
                "JUMP",
                283
            ],
            [
                "CASE",
                "high,fash"
            ],
            "\"Clothes fit to see the King in.\"\n",
            [
                "JUMP",
                283
            ],
            [
                "CASE",
                "bye"
            ],
            "\"Yes, well, come see me again.\" She yawns widely.\n",
            "BYE",
            [
                "CASE",
                "*"
            ],
            [
                "IF",
                "random(byte 0, byte 1)"
            ],
            "\"Hmph! I am not a gossip, $G.\"\n",
            "ELSE",
            "\"'Tis not my place to speak of that...\"\n",
            "ENDIF",
            [
                "JUMP",
                283
            ]
        ],
        "1477": [
            "\"But it will cost you 75 gold. Alright?\" ",
            [
                "ASKC",
                "yn"
            ],
            [
                "CASE",
                "y"
            ],
            [
                "IF",
                "less(objectsCount(integer(value 0), byte 88), byte 75)"
            ],
            [
                "SETNAME",
                [
                    "integer",
                    [
                        [
                            "value",
                            0
                        ]
                    ]
                ]
            ],
            "\"Come back when you have the gold, $Y.\"\n",
            [
                "JUMP",
                283
            ],
            "ENDIF",
            [
                "DELETE",
                [
                    "integer",
                    [
                        [
                            "value",
                            0
                        ]
                    ]
                ],
                [
                    "byte",
                    88
                ],
                [
                    "byte",
                    0
                ],
                [
                    "byte",
                    75
                ]
            ],
            [
                "DELETE",
                [
                    "integer",
                    [
                        [
                            "value",
                            0
                        ]
                    ]
                ],
                [
                    "byte",
                    241
                ],
                [
                    "byte",
                    0
                ],
                [
                    "byte",
                    1
                ]
            ],
            "She takes the silk cloth and begins to work, following the balloon plans.",
            "WAIT",
            "\n\nShe works in silence, intent on her sewing.",
            "WAIT",
            "\n\nAfter a while, she completes the silk bag.",
            "WAIT",
            "\n\n\"There, 'tis done!\" she cries, handing you the bag.\n",
            [
                "NEW",
                [
                    "integer",
                    [
                        [
                            "value",
                            0
                        ]
                    ]
                ],
                [
                    "word",
                    421
                ],
                [
                    "byte",
                    0
                ],
                [
                    "byte",
                    1
                ]
            ],
            [
                "JUMP",
                283
            ],
            [
                "CASE",
                "n"
            ],
            "\"Very well,\" she sniffs, offended.\n",
            [
                "JUMP",
                283
            ]
        ],
        "1892": [
            [
                "IF",
                "equals(integer(value 23), byte 0)"
            ],
            [
                "ASSIGN",
                [
                    "integer",
                    [
                        [
                            "value",
                            3
                        ]
                    ]
                ],
                [
                    "character",
                    [
                        [
                            "byte",
                            0
                        ],
                        [
                            "byte",
                            0
                        ]
                    ]
                ]
            ],
            [
                "JUMP",
                2080
            ],
            "ENDIF",
            [
                "ASSIGN",
                [
                    "integer",
                    [
                        [
                            "value",
                            0
                        ]
                    ]
                ],
                [
                    "byte",
                    0
                ]
            ],
            [
                "ASSIGN",
                [
                    "integer",
                    [
                        [
                            "value",
                            2
                        ]
                    ]
                ],
                [
                    "byte",
                    1
                ]
            ],
            [
                "SETNAME",
                [
                    "character",
                    [
                        [
                            "integer",
                            [
                                [
                                    "value",
                                    0
                                ]
                            ]
                        ],
                        [
                            "byte",
                            0
                        ]
                    ]
                ]
            ],
            "#2. $Y\n",
            [
                "ASSIGN",
                [
                    "integer",
                    [
                        [
                            "value",
                            0
                        ]
                    ]
                ],
                [
                    "plus",
                    [
                        [
                            "integer",
                            [
                                [
                                    "value",
                                    0
                                ]
                            ]
                        ],
                        [
                            "byte",
                            1
                        ]
                    ]
                ]
            ],
            [
                "ASSIGN",
                [
                    "integer",
                    [
                        [
                            "value",
                            2
                        ]
                    ]
                ],
                [
                    "plus",
                    [
                        [
                            "integer",
                            [
                                [
                                    "value",
                                    2
                                ]
                            ]
                        ],
                        [
                            "byte",
                            1
                        ]
                    ]
                ]
            ],
            [
                "IF",
                "lessOrEquals(integer(value 0), integer(value 23))"
            ],
            [
                "JUMP",
                1929
            ],
            "ENDIF",
            "\"Which of you?\" ",
            [
                "INPUTNUM",
                3
            ],
            [
                "IF",
                "equals(integer(value 3), byte 0)"
            ],
            "\"Suit yourself,\" she sniffs, offended.\n",
            [
                "JUMP",
                283
            ],
            "ENDIF",
            [
                "ASSIGN",
                [
                    "integer",
                    [
                        [
                            "value",
                            3
                        ]
                    ]
                ],
                [
                    "minus",
                    [
                        [
                            "integer",
                            [
                                [
                                    "value",
                                    3
                                ]
                            ]
                        ],
                        [
                            "byte",
                            1
                        ]
                    ]
                ]
            ],
            [
                "IF",
                "greater(integer(value 3), integer(value 23))"
            ],
            [
                "JUMP",
                1915
            ],
            "ENDIF",
            [
                "ASSIGN",
                [
                    "integer",
                    [
                        [
                            "value",
                            3
                        ]
                    ]
                ],
                [
                    "character",
                    [
                        [
                            "integer",
                            [
                                [
                                    "value",
                                    3
                                ]
                            ]
                        ],
                        [
                            "byte",
                            0
                        ]
                    ]
                ]
            ],
            "1. Tunic\n2. Dress\n3. Pants\n\"Which one?\" ",
            [
                "INPUTNUM",
                0
            ],
            [
                "IF",
                "or(less(integer(value 0), byte 1), greater(integer(value 0), byte 3))"
            ],
            "\n\n",
            [
                "JUMP",
                2080
            ],
            "ENDIF",
            [
                "ASSIGN",
                [
                    "integer",
                    [
                        [
                            "value",
                            0
                        ]
                    ]
                ],
                [
                    "minus",
                    [
                        [
                            "integer",
                            [
                                [
                                    "value",
                                    0
                                ]
                            ]
                        ],
                        [
                            "byte",
                            1
                        ]
                    ]
                ]
            ],
            [
                "ASSIGN",
                [
                    "integer",
                    [
                        [
                            "value",
                            1
                        ]
                    ]
                ],
                [
                    "data",
                    [
                        [
                            "dword",
                            3258
                        ],
                        [
                            "integer",
                            [
                                [
                                    "value",
                                    0
                                ]
                            ]
                        ]
                    ]
                ]
            ],
            [
                "ASSIGN",
                [
                    "string",
                    [
                        [
                            "value",
                            0
                        ]
                    ]
                ],
                [
                    "data",
                    [
                        [
                            "dword",
                            3270
                        ],
                        [
                            "integer",
                            [
                                [
                                    "value",
                                    0
                                ]
                            ]
                        ]
                    ]
                ]
            ],
            "\"It'll cost you #1 gold for that $0. Interested?\" ",
            [
                "ASKC",
                "yn"
            ],
            [
                "CASE",
                "y"
            ],
            [
                "IF",
                "less(plus(canCarry(integer(value 3)), weight(byte 88, integer(value 1))), weight(data(dword 3264, integer(value 0)), byte 1))"
            ],
            "\"You look pretty full to me.\"\n",
            [
                "JUMP",
                283
            ],
            "ENDIF",
            [
                "IF",
                "greaterOrEquals(objectsCount(integer(value 3), byte 88), data(dword 3258, integer(value 0)))"
            ],
            [
                "DELETE",
                [
                    "integer",
                    [
                        [
                            "value",
                            3
                        ]
                    ]
                ],
                [
                    "byte",
                    88
                ],
                [
                    "byte",
                    0
                ],
                [
                    "data",
                    [
                        [
                            "dword",
                            3258
                        ],
                        [
                            "integer",
                            [
                                [
                                    "value",
                                    0
                                ]
                            ]
                        ]
                    ]
                ]
            ],
            [
                "NEW",
                [
                    "integer",
                    [
                        [
                            "value",
                            3
                        ]
                    ]
                ],
                [
                    "data",
                    [
                        [
                            "dword",
                            3264
                        ],
                        [
                            "integer",
                            [
                                [
                                    "value",
                                    0
                                ]
                            ]
                        ]
                    ]
                ],
                [
                    "byte",
                    0
                ],
                [
                    "byte",
                    1
                ]
            ],
            [
                "SETNAME",
                [
                    "integer",
                    [
                        [
                            "value",
                            3
                        ]
                    ]
                ]
            ],
            "\"Excellent!\" After accepting $Y's gold, $N hands over the $0.\n",
            [
                "JUMP",
                283
            ],
            "ELSE",
            [
                "SETNAME",
                [
                    "integer",
                    [
                        [
                            "value",
                            3
                        ]
                    ]
                ]
            ],
            "$N looks at $Y. \"How rude! Don't ask for something you can't pay for!\"\n",
            [
                "JUMP",
                283
            ],
            "ENDIF",
            [
                "CASE",
                "n"
            ],
            "\"Suit yourself,\" she sniffs, offended.\n",
            [
                "JUMP",
                283
            ]
        ],
        "2550": [
            [
                "ASSIGN",
                [
                    "integer",
                    [
                        [
                            "value",
                            0
                        ]
                    ]
                ],
                [
                    "byte",
                    0
                ]
            ],
            [
                "ASSIGN",
                [
                    "integer",
                    [
                        [
                            "value",
                            2
                        ]
                    ]
                ],
                [
                    "byte",
                    0
                ]
            ],
            [
                "ASSIGN",
                [
                    "integer",
                    [
                        [
                            "value",
                            3
                        ]
                    ]
                ],
                [
                    "byte",
                    0
                ]
            ],
            [
                "ASSIGN",
                [
                    "integer",
                    [
                        [
                            "value",
                            1
                        ]
                    ]
                ],
                [
                    "byte",
                    0
                ]
            ],
            [
                "IF",
                "objectsCount(character(integer(value 0), byte 0), byte 185)"
            ],
            [
                "ASSIGN",
                [
                    "data",
                    [
                        [
                            "dword",
                            3242
                        ],
                        [
                            "integer",
                            [
                                [
                                    "value",
                                    2
                                ]
                            ]
                        ]
                    ]
                ],
                [
                    "integer",
                    [
                        [
                            "value",
                            0
                        ]
                    ]
                ]
            ],
            [
                "ASSIGN",
                [
                    "integer",
                    [
                        [
                            "value",
                            2
                        ]
                    ]
                ],
                [
                    "plus",
                    [
                        [
                            "integer",
                            [
                                [
                                    "value",
                                    2
                                ]
                            ]
                        ],
                        [
                            "byte",
                            1
                        ]
                    ]
                ]
            ],
            [
                "ASSIGN",
                [
                    "integer",
                    [
                        [
                            "value",
                            3
                        ]
                    ]
                ],
                [
                    "byte",
                    1
                ]
            ],
            [
                "JUMP",
                2647
            ],
            "ENDIF",
            [
                "ASSIGN",
                [
                    "integer",
                    [
                        [
                            "value",
                            1
                        ]
                    ]
                ],
                [
                    "plus",
                    [
                        [
                            "integer",
                            [
                                [
                                    "value",
                                    1
                                ]
                            ]
                        ],
                        [
                            "byte",
                            1
                        ]
                    ]
                ]
            ],
            [
                "IF",
                "less(integer(value 1), byte 7)"
            ],
            [
                "JUMP",
                2578
            ],
            "ENDIF",
            [
                "ASSIGN",
                [
                    "integer",
                    [
                        [
                            "value",
                            0
                        ]
                    ]
                ],
                [
                    "plus",
                    [
                        [
                            "integer",
                            [
                                [
                                    "value",
                                    0
                                ]
                            ]
                        ],
                        [
                            "byte",
                            1
                        ]
                    ]
                ]
            ],
            [
                "IF",
                "lessOrEquals(integer(value 0), integer(value 23))"
            ],
            [
                "JUMP",
                2571
            ],
            "ENDIF",
            [
                "IF",
                "equals(integer(value 3), byte 0)"
            ],
            "\"Sorry, none of you has anything of interest.\"\n",
            [
                "JUMP",
                283
            ],
            "ENDIF",
            [
                "IF",
                "equals(integer(value 2), byte 1)"
            ],
            [
                "ASSIGN",
                [
                    "integer",
                    [
                        [
                            "value",
                            3
                        ]
                    ]
                ],
                [
                    "character",
                    [
                        [
                            "data",
                            [
                                [
                                    "dword",
                                    3242
                                ],
                                [
                                    "byte",
                                    0
                                ]
                            ]
                        ],
                        [
                            "byte",
                            0
                        ]
                    ]
                ]
            ],
            [
                "JUMP",
                2944
            ],
            "ENDIF",
            [
                "ASSIGN",
                [
                    "integer",
                    [
                        [
                            "value",
                            0
                        ]
                    ]
                ],
                [
                    "byte",
                    0
                ]
            ],
            [
                "ASSIGN",
                [
                    "integer",
                    [
                        [
                            "value",
                            1
                        ]
                    ]
                ],
                [
                    "byte",
                    1
                ]
            ],
            [
                "SETNAME",
                [
                    "character",
                    [
                        [
                            "data",
                            [
                                [
                                    "dword",
                                    3242
                                ],
                                [
                                    "integer",
                                    [
                                        [
                                            "value",
                                            0
                                        ]
                                    ]
                                ]
                            ]
                        ],
                        [
                            "byte",
                            0
                        ]
                    ]
                ]
            ],
            "#1. $Y\n",
            [
                "ASSIGN",
                [
                    "integer",
                    [
                        [
                            "value",
                            0
                        ]
                    ]
                ],
                [
                    "plus",
                    [
                        [
                            "integer",
                            [
                                [
                                    "value",
                                    0
                                ]
                            ]
                        ],
                        [
                            "byte",
                            1
                        ]
                    ]
                ]
            ],
            [
                "ASSIGN",
                [
                    "integer",
                    [
                        [
                            "value",
                            1
                        ]
                    ]
                ],
                [
                    "plus",
                    [
                        [
                            "integer",
                            [
                                [
                                    "value",
                                    1
                                ]
                            ]
                        ],
                        [
                            "byte",
                            1
                        ]
                    ]
                ]
            ],
            [
                "IF",
                "less(integer(value 0), integer(value 2))"
            ],
            [
                "JUMP",
                2773
            ],
            "ENDIF",
            "\"Which of you?\" ",
            [
                "INPUTNUM",
                3
            ],
            [
                "IF",
                "equals(integer(value 3), byte 0)"
            ],
            "\"Just as well. That cloth is rather shabby...\"\n",
            [
                "JUMP",
                283
            ],
            "ENDIF",
            [
                "ASSIGN",
                [
                    "integer",
                    [
                        [
                            "value",
                            3
                        ]
                    ]
                ],
                [
                    "minus",
                    [
                        [
                            "integer",
                            [
                                [
                                    "value",
                                    3
                                ]
                            ]
                        ],
                        [
                            "byte",
                            1
                        ]
                    ]
                ]
            ],
            [
                "IF",
                "greaterOrEquals(integer(value 3), integer(value 2))"
            ],
            [
                "JUMP",
                2759
            ],
            "ENDIF",
            [
                "ASSIGN",
                [
                    "integer",
                    [
                        [
                            "value",
                            3
                        ]
                    ]
                ],
                [
                    "character",
                    [
                        [
                            "data",
                            [
                                [
                                    "dword",
                                    3242
                                ],
                                [
                                    "integer",
                                    [
                                        [
                                            "value",
                                            3
                                        ]
                                    ]
                                ]
                            ]
                        ],
                        [
                            "byte",
                            0
                        ]
                    ]
                ]
            ],
            [
                "ASSIGN",
                [
                    "integer",
                    [
                        [
                            "value",
                            4
                        ]
                    ]
                ],
                [
                    "objectsCount",
                    [
                        [
                            "integer",
                            [
                                [
                                    "value",
                                    3
                                ]
                            ]
                        ],
                        [
                            "byte",
                            185
                        ]
                    ]
                ]
            ],
            [
                "SETNAME",
                [
                    "integer",
                    [
                        [
                            "value",
                            3
                        ]
                    ]
                ]
            ],
            [
                "IF",
                "equals(integer(value 4), byte 0)"
            ],
            "\"I don't see any cloth, other than what you're wearing!\"\n",
            [
                "JUMP",
                283
            ],
            "ENDIF",
            "$N turns to $Y and asks \"Will you take 20 gold for that cloth?\" ",
            [
                "ASKC",
                "yn"
            ],
            [
                "CASE",
                "y"
            ],
            "\"Done!\" She hands $Y 20 gold pieces and takes the cloth.\n",
            [
                "DELETE",
                [
                    "integer",
                    [
                        [
                            "value",
                            3
                        ]
                    ]
                ],
                [
                    "byte",
                    185
                ],
                [
                    "byte",
                    0
                ],
                [
                    "byte",
                    1
                ]
            ],
            [
                "NEW",
                [
                    "integer",
                    [
                        [
                            "value",
                            3
                        ]
                    ]
                ],
                [
                    "byte",
                    88
                ],
                [
                    "byte",
                    0
                ],
                [
                    "byte",
                    20
                ]
            ],
            [
                "JUMP",
                283
            ],
            [
                "CASE",
                "n"
            ],
            "\"Just as well. That cloth is rather shabby...\"\n",
            [
                "JUMP",
                283
            ]
        ],
        "3242": [
            [
                "INTEGERS",
                [
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0
                ]
            ]
        ],
        "3258": [
            [
                "INTEGERS",
                [
                    15,
                    30,
                    20
                ]
            ]
        ],
        "3264": [
            [
                "INTEGERS",
                [
                    124,
                    126,
                    137
                ]
            ]
        ],
        "3270": [
            [
                "STRINGS",
                [
                    "Smart tunic",
                    "Fine dress",
                    "Pair of pants"
                ]
            ]
        ]
    }
}