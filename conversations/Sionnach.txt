source('CONVERSE.B')
index(80)

id(179)
name({
    'english': 'Sionnach',
    'russian': 'Шаннок'
})

description:
    print({
        'english': 'a troubadour with a drum. His tailored suit is travel-worn but bright.',
        'russian': 'барда с барабаном. Его костюм истрепался в дороге, но всё ещё радует глаз.'
    })
    wait()

    print({
        'english': '\n',
        'russian': '\n'
    })

interaction:
    if equals(isNearby(byte 147), byte 0):
        jump label_318
    fi

    if equals(integer(value 16), byte 1):
        print({
            'english': '"Excuse me, ma\'am. We are, um, indisposed." He returns his attentions ',
            'russian': '"Прошу прощения, мадам. Нам, эм, нездоровится". Он снова повернулся '
        })
        print({
            'english': 'to Sylaina.\n',
            'russian': 'к Силейне.\n'
        })
        bye()

    else:
        print({
            'english': '"Pardon me, sir, but I hate to keep my dear one waiting."',
            'russian': '"Простите, сэр, но мне бы не хотелось заставлять мою душеньку ждать".'
        })
        wait()

        print({
            'english': '\n\n"You understand, of course." He returns his attentions to Sylaina.\n',
            'russian': '\n\n"Разумеется, вы сможете меня понять". Он снова повернулся к Силейне.\n'
        })
        bye()
    fi

label_318:
    print({
        'english': '"Greetings, ',
        'russian': '"Я вас приветствую, '
    })

    if integer(value 23):
        print({
            'english': 'folks."',
            'russian': 'господа".'
        })
        jump label_352

    else:
        print({
            'english': '$G."',
            'russian': '$G".'
        })
    fi

label_352:
    if and(partyHas(byte 4), equals(hasBit(byte 235, byte 4), byte 0)):
        wait()

        portrait(byte 4)
        print({
            'english': '\n\n"Why, hello there, my friend. You\'ve grown a bit since we met last."',
            'russian': '\n\n"Ба! Здравствуй, друг мой. Смотрю, кто-то подрос с момента нашей прошлой встречи".'
        })
        wait()

        print({
            'english': '\n\n"I\'m afraid I can\'t recall your name; you\'ll have to forgive me."',
            'russian': '\n\n"Что-то не припоминаю вашего имени; прошу простить меня".'
        })
        wait()

        portrait(byte 235)
        print({
            'english': '\n\n"It has been a while, Master Iolo."',
            'russian': '\n\n"Давно не виделись, учитель Иоло".'
        })
        setBit(byte 235, byte 4)
    fi

label_559:
    print({
        'english': '\n',
        'russian': '\n'
    })

    ask()

    case 'name':
    case {'russian': 'имя'}:
        print({
            'english': '"My name is Sionnach." (He pronounces it \'ShaNOK\'.)',
            'russian': '"Меня зовут Шаннок".'
        })
        setBit(byte 235, value 0)
        jump label_559

    case 'job':
    case {'russian': 'раб'}:
        print({
            'english': '"I\'m a @drummer and a @singer."',
            'russian': '"Я играю на @барабане и @пою".'
        })
        jump label_559

    case 'drum':
    case {'russian': 'бара'}:
        print({
            'english': '"Would you like me to play for you?"',
            'russian': '"Сыграть вам?"'
        })
        jump label_2354

    case 'batt':
    case {'russian': 'битв'}:
    case 'summ':
    case {'russian': 'лето'}:
        print({
            'english': '"\'Twas long ago... Back when men forced sorcerous secrets from ',
            'russian': '"Давненько это было... В те времена, когда люди отобрали секреты колдовства у '
        })
        print({
            'english': 'demons..."',
            'russian': 'демонов..."'
        })
        wait()

        print({
            'english': '\n\n"Back when women wove moonbeams into cloth of indescribably fine ',
            'russian': '\n\n"Когда женщины творили из лунного света ткань тончайшей '
        })
        print({
            'english': 'texture..."',
            'russian': 'работы..."'
        })
        wait()

        print({
            'english': '\n\n"Long ago, Lord Fennian devised a language of raps and knocks on the',
            'russian': '\n\n"Давным давно, лорд Фенниан придумал язык стука и ударов по'
        })
        print({
            'english': ' great drums used by his armies."',
            'russian': ' огромным барабанам, которые использовали в его армиях".'
        })
        wait()

        print({
            'english': '\n\n"Each drum was made of the entire skin of a bull, stretched taut by ',
            'russian': '\n\n"Чтобы изготовить один такой барабан, брали цельную шкуру быка, которую туго натягивали с помощью '
        })
        print({
            'english': 'a dozen cords."',
            'russian': 'дюжины шнуров".'
        })
        wait()

        print({
            'english': '\n\n"It\'s true. I read that in a @book I found at the Lycaeum."',
            'russian': '\n\n"Так и было. Мне попадалась в Лицее @книга об этом".'
        })
        jump label_559

    case 'book':
    case {'russian': 'книг'}:
    case 'lyca':
    case {'russian': 'лиц'}:
    case 'read':
    case {'russian': 'чит'}:
    case 'foun':
    case {'russian': 'найд'}:
        print({
            'english': '"I also read a number of maritime histories."',
            'russian': '"Кроме того, я прочитал немало историй о мореходах".'
        })
        wait()

        print({
            'english': '\n\n"They record the facts behind the many songs of different @ships."',
            'russian': '\n\n"В них описаны реальные события, которые легли в основу многих песен о различных @кораблях".'
        })
        jump label_559

    case 'song':
    case {'russian': 'песн'}:
    case 'ship':
    case {'russian': 'кора'}:
        print({
            'english': '"The sea is not always a gentle, generous friend."',
            'russian': '"Море не всегда бывает ласковым и радушным другом".'
        })
        wait()

        print({
            'english': '\n\n"Storms have brought down many a haughty vessel: the evil @Empire, ',
            'russian': '\n\n"Капризная стихия погубила немало величественных кораблей. Так погибли зловещая \'@Империя\', '
        })
        print({
            'english': 'the @Dutchman, the Virtuous..."',
            'russian': '\'@Голландец\', \'"Праведный"\'..."'
        })
        wait()

        print({
            'english': '\n\n"Have you heard of the @Virtuous?"',
            'russian': '\n\n"Доводилось когда-нибудь слышать о \'@Праведном\'?"'
        })
        jump label_559

    case 'dutc':
    case {'russian': 'голл'}:
    case 'empi':
    case {'russian': 'имп'}:
        print({
            'english': '"I don\'t know where she rests. Ask other bards."',
            'russian': '"Не знаю, где судьба настигла это судно. Поговорите об этом с другими бардами".'
        })
        wait()

        print({
            'english': '\n\n"There\'s probably great treasure on her, and on the @Virtuous, too."',
            'russian': '\n\n"Возможно, на борту было много сокровищ. Как и на \'@Праведном\'".'
        })
        jump label_559

    case 'sing':
    case {'russian': 'спо'}:
    case 'virt':
    case {'russian': 'прав'}:
    case 'no':
    case {'russian': 'не'}:
        print({
            'english': 'Sionnach sings softly for you.',
            'russian': 'Шаннок начинает тихо петь для вас.'
        })
        wait()

        print({
            'english': '\n\n"A southerner from Serpent\'s Hold',
            'russian': '\n\n"Южанин отважный, что ликом был юн,'
        })
        wait()

        print({
            'english': '\nOnce slew a pirate crew of eight.',
            'russian': '\nКорабль \'Кейт Злобную\' сам захватил,'
        })
        wait()

        print({
            'english': '\nYoung Keegan was this warrior bold,',
            'russian': '\nКоманда пиратов налегла восьмером,'
        })
        wait()

        print({
            'english': '\nAnd thus he claimed the \'Bitter Kate.\'"',
            'russian': '\nНо Кигэн не дрогнув всю банду побил".'
        })
        wait()

        print({
            'english': '\n\n"He broke a bottle \'cross her bow',
            'russian': '\n\n"Бутылку разбил он о корабля нос'
        })
        wait()

        print({
            'english': '\nAnd \'Virtuous\' became her name.',
            'russian': '\nИ именем \'Праведный\' судно назвал.'
        })
        wait()

        print({
            'english': '\nFor many years she served him well;',
            'russian': '\nДолго свой пост у штурвала он нёс,'
        })
        wait()

        print({
            'english': '\nGood Captain Keegan rose to fame."',
            'russian': '\nЗмеиной Крепости славу сыскал".'
        })
        wait()

        print({
            'english': '\n\n"The Barston Bay came north to fight,',
            'russian': '\n\n"Но курсом на север \'Барстон Бэй\' шёл -'
        })
        wait()

        print({
            'english': '\nThe Jolly Roger on her mast.',
            'russian': '\nЧереп с костями скалился с мачты,'
        })
        wait()

        print({
            'english': '\nTo cold Loch Lake she sailed that night.',
            'russian': '\nНа озере Лок дал он залп хорошо,'
        })
        wait()

        print({
            'english': '\nTo sink Keegan\'s ship with cannon blast."',
            'russian': '\nИ от Кигэна вдруг отвернулась удача".'
        })
        wait()

        print({
            'english': '\n\n"Ah, the old Bitter Kate, she\'s mended her ways,',
            'russian': '\n\n"Ох, старая Кейт, на тропе исправленья'
        })
        wait()

        print({
            'english': '\nAnd as the Virtuous, ended her days."',
            'russian': '\nПраведной девой ты закончила путь!"'
        })
        wait()

        print({
            'english': '\n\n"Captain Keegan, he sleeps the endless sleep',
            'russian': '\n\n"А капитан Кигэн без пробужденья'
        })
        wait()

        print({
            'english': '\nWhile on Loch Lake\'s shore the Virtuous lays."',
            'russian': '\nС \'Праведным\' рядом прилёг отдохнуть".'
        })
        jump label_559

    case 'bye':
    case {'russian': 'пока'}:
        print({
            'english': '"Take care!"\n',
            'russian': '"Берегите себя!"\n'
        })
        bye()

    case '*':
        print({
            'english': '"That I cannot help you with."',
            'russian': '"Ничем не могу помочь".'
        })
        jump label_559
    esac

label_2354:
    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'n':
    case {'russian': 'н'}:
        print({
            'english': '"As you wish, $G."',
            'russian': '"Как пожелаете, $G".'
        })
        jump label_559

    case 'y':
    case {'russian': 'д'}:
        print({
            'english': 'The drum is wide and flat. Sionnach holds it by the strings on the ',
            'russian': 'Шаннок берёт широкий сплюснутый барабан за верёвки, которые '
        })
        print({
            'english': 'back of it.',
            'russian': 'крепятся к тыльной стороне инструмента.'
        })
        wait()

        print({
            'english': '\n\nThen, he taps it in intricate patterns using both ends of the dowel ',
            'russian': '\n\nЗатем он начинает выстукивать замысловатые ритмы двумя концами палочки, '
        })
        print({
            'english': 'held loosely in his other hand.',
            'russian': 'которую расслабленно держит во второй руке.'
        })
        wait()

        print({
            'english': '\n\nIt sounds thus: \'RUM-TE-TUM, RUM-TE-TUM, TUMBLETY-TUM-TE-TUM!\'The ',
            'russian': '\n\n\'Рам-та-там, рам-та-там, тампти-там-та-там!\' - барабан издаёт   '
        })
        print({
            'english': 'beat is invigorating and exciting.',
            'russian': 'бодрящий и волнующий ритм.'
        })
        wait()

        print({
            'english': '"That\'s a @battle summons."',
            'russian': '"Это вызов на @битву".'
        })
        jump label_559
    esac
