source('CONVERSE.A')
index(50)

id(50)
name({
    'english': 'Jerris',
    'russian': 'FIXME Jerris'
})

description:
    print({
        'english': 'a slender man with boots that come up to his thighs.',
        'russian': 'FIXME a slender man with boots that come up to his thighs.'
    })
    wait()

    print({
        'english': '\n',
        'russian': 'FIXME \n'
    })

interaction:
    if equals(integer(value 32), byte 153):
        print({
            'english': '"Don\'t you know it\'s rude to interrupt a man when he\'s brawling?"\n',
            'russian': 'FIXME "Don\'t you know it\'s rude to interrupt a man when he\'s brawling?"\n'
        })
        bye()
    fi

    print({
        'english': '"Hello there, $G."',
        'russian': 'FIXME "Hello there, $G."'
    })

    if notEquals(integer(value 32), byte 144):
        jump label_397
    fi

    print({
        'english': '\n\n"Care to join me in a drink?" ',
        'russian': 'FIXME \n\n"Care to join me in a drink?" '
    })

    choice({
        'english': 'yn',
        'russian': 'FIXME yn'
    })

    case {'english': n'}:
    case {'russian': 'FIXME n'}:
        print({
            'english': '"Not a mead drinker, I guess." He shrugs.',
            'russian': 'FIXME "Not a mead drinker, I guess." He shrugs.'
        })
        jump label_397

    case {'english': y'}:
    case {'russian': 'FIXME y'}:
        print({
            'english': 'He hands you a mug for a swallow.',
            'russian': 'FIXME He hands you a mug for a swallow.'
        })
        wait()

        print({
            'english': '\n\nIt is warmed @mead, sweet and bubbly, with a cinnamon stick in it.',
            'russian': 'FIXME \n\nIt is warmed @mead, sweet and bubbly, with a cinnamon stick in it.'
        })
        wait()

        print({
            'english': '\n\n"Comes from Verity Isle," he says.',
            'russian': 'FIXME \n\n"Comes from Verity Isle," he says.'
        })
    esac

label_397:
    print({
        'english': '\n',
        'russian': 'FIXME \n'
    })

    ask()

    case {'english': isle'}:
    case {'russian': 'FIXME isle'}:
    case {'english': mead'}:
    case {'russian': 'FIXME mead'}:
    case {'english': mug'}:
    case {'russian': 'FIXME mug'}:
    case {'english': veri'}:
    case {'russian': 'FIXME veri'}:
        print({
            'english': '"It\'s mostly made of honey. Ask a brewer."',
            'russian': 'FIXME "It\'s mostly made of honey. Ask a brewer."'
        })
        jump label_397

    case {'english': name'}:
    case {'russian': 'FIXME name'}:
        print({
            'english': '"Jerris is my name. And yourself?"\n',
            'russian': 'FIXME "Jerris is my name. And yourself?"\n'
        })

        ask()
        print({
            'english': '\n"Pleased to make your acquaintance."',
            'russian': 'FIXME \n"Pleased to make your acquaintance."'
        })
        setBit(byte 235, value 0)
        jump label_397

    case {'english': job'}:
    case {'russian': 'FIXME job'}:
        print({
            'english': '"Some day I hope to join @Zellivan\'s Stalwarts and be a guard."',
            'russian': 'FIXME "Some day I hope to join @Zellivan\'s Stalwarts and be a guard."'
        })
        jump label_397

    case {'english': guar'}:
    case {'russian': 'FIXME guar'}:
    case {'english': stal'}:
    case {'russian': 'FIXME stal'}:
    case {'english': zell'}:
    case {'russian': 'FIXME zell'}:
        print({
            'english': '"When that last earthquake struck, I was pinned \'neath a great tree ',
            'russian': 'FIXME "When that last earthquake struck, I was pinned \'neath a great tree '
        })
        print({
            'english': 'branch."',
            'russian': 'FIXME branch."'
        })
        wait()

        print({
            'english': '\n\n"Lord Zellivan himself hoisted it up while a guard pulled me clear."',
            'russian': 'FIXME \n\n"Lord Zellivan himself hoisted it up while a guard pulled me clear."'
        })
        jump label_397

    case {'english': mous'}:
    case {'russian': 'FIXME mous'}:
    case {'english': rat'}:
    case {'russian': 'FIXME rat'}:
        print({
            'english': '"It was a rat, as sure as the world is flat."',
            'russian': 'FIXME "It was a rat, as sure as the world is flat."'
        })
        wait()

        print({
            'english': '\n\n"Darndest thing, too."',
            'russian': 'FIXME \n\n"Darndest thing, too."'
        })
        wait()

        print({
            'english': '\n\n"Nomaan dropped the rune and the rat took it into a little @hole."',
            'russian': 'FIXME \n\n"Nomaan dropped the rune and the rat took it into a little @hole."'
        })
        jump label_397

    case {'english': hole'}:
    case {'russian': 'FIXME hole'}:
    case {'english': rune'}:
    case {'russian': 'FIXME rune'}:
        jump label_1157

    case {'english': mant'}:
    case {'russian': 'FIXME mant'}:
        print({
            'english': '"It\'s in the refrain of the @song."',
            'russian': 'FIXME "It\'s in the refrain of the @song."'
        })
        jump label_397

    case {'english': refr'}:
    case {'russian': 'FIXME refr'}:
    case {'english': sing'}:
    case {'russian': 'FIXME sing'}:
    case {'english': song'}:
    case {'russian': 'FIXME song'}:
        print({
            'english': '"Well, I\'d rather not sing alone. Get Culham to play it."',
            'russian': 'FIXME "Well, I\'d rather not sing alone. Get Culham to play it."'
        })
        jump label_397

    case {'english': bye'}:
    case {'russian': 'FIXME bye'}:
        print({
            'english': '"Goodbye."\n',
            'russian': 'FIXME "Goodbye."\n'
        })
        bye()

    case '*':
        print({
            'english': '"Sorry, $G.  I can\'t help ye with that."',
            'russian': 'FIXME "Sorry, $G.  I can\'t help ye with that."'
        })
        jump label_397
    esac

label_1157:
    print({
        'english': '"It\'s right there. On the north wall. See it?" ',
        'russian': 'FIXME "It\'s right there. On the north wall. See it?" '
    })

    choice({
        'english': 'yn',
        'russian': 'FIXME yn'
    })

    case {'english': n'}:
    case {'russian': 'FIXME n'}:
        print({
            'english': '"Look carefully, $G. Ye will see it if ye keep on looking."',
            'russian': 'FIXME "Look carefully, $G. Ye will see it if ye keep on looking."'
        })

        if partyHas(byte 3):
            wait()

            portrait(byte 3)
            print({
                'english': '\n\nShamino points to a spot west of the bar where the wall meets the ',
                'russian': 'FIXME \n\nShamino points to a spot west of the bar where the wall meets the '
            })
            print({
                'english': 'ground. "There it is."',
                'russian': 'FIXME ground. "There it is."'
            })
            wait()

            portrait(byte 50)
        fi

        jump label_397

    case {'english': y'}:
    case {'russian': 'FIXME y'}:
        print({
            'english': '"Obviously a rat hole."',
            'russian': 'FIXME "Obviously a rat hole."'
        })
        jump label_397
    esac
