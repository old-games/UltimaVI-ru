source('CONVERSE.B')
index(64)

id(163)
name('Finn')

description:
    print('a sly looking fellow, dressed in rags.\n')

interaction:
    clearBit(byte 235, byte 7)
    print('"Hello my good ')

    if integer(value 16):
        print('wo')
    fi

    print('man!"\n')

    ask()

    case 'name':
    case 'susp':
    case 'who':
        print('He glances around quickly, to see if anyone seems to be listening. ')
        print('"I\'m Lord British. But don\'t tell anyone."\n*\n"I\'m in @disguise so I ')
        print('can mingle with the @commoners."')
        setBit(byte 235, byte 7)
        jump label_81

    case 'job':
        print('"I\'m pretending to be a @beggar. That way nobody will suspect who I ')
        print('really am. Here, give me a few coins to keep anyone from getting ')
        print('suspicious."\n')
        jump label_2801

    case 'comm':
    case 'ming':
        print('"Of course, nobody would dare say anything bad about me to my face. ')
        print('Nobody except @Chuckles, anyway."\n*\n"But as a beggar, people will tell')
        print(' me just about anything!"')
        jump label_81

    case 'chuc':
        print('"He\'s in disguise too, you know. He\'s really @Blackthorn."')
        jump label_81

    case 'blac':
        print('"I decided banishment was too harsh for him, so I brought him back and')
        print(' made him my jester."\n*\n"The real Chuckles is tied up in my @dungeons.')
        print(' I got tired of him making fun of my nose."')
        jump label_81

    case 'bani':
    case 'dung':
    case 'hars':
    case 'jest':
    case 'tied':
        print('"I\'m Lord British, and I can do whatever I want to!"')
        setBit(byte 235, byte 7)
        jump label_81

    case 'disg':
        print('"Very convincing, don\'t you think? I made it myself."')
        jump label_81

    case 'loan':
    case 'roya':
    case 'trea':
        print('"I\'ve got forty million crowns. Not to mention my secret bank ')
        print('@accounts."')
        jump label_81

    case 'acco':
    case 'bank':
    case 'ment':
    case 'secr':
        print('"I told you not to mention that!"')
        jump label_81

    case 'beg':
    case 'brit':
    case 'lord':
        print('"I\'m really Lord British. I can prove it to you. I know all of the ')
        print('@eight @mantras, and where the @runes are, too!"')
        setBit(byte 235, byte 7)
        jump label_81

    case 'eigh':
        print('"I killed a @dragon when I was eight, you know. With my bare hands, ')
        print('too!"')
        jump label_81

    case 'bare':
    case 'drag':
    case 'hand':
    case 'kill':
        print('"He was a big one - but he hadn\'t reckoned with the likes of me. I was')
        print(' a @tough kid."')
        jump label_81

    case 'kid':
    case 'reck':
    case 'toug':
        print('"I was so tough he couldn\'t chew me, and he had to spit me out. That\'s')
        print(' when I killed him."')
        jump label_81

    case 'mant':
        print('"Ok, here are the mantras:\njustice - do\ncompassion - re\nhonor - mi\n')
        print('valour - fa\nspirituality - so\nhumility - la\nsacrifice - ti\n')
        wait()

        print('Gosh, wouldn\'t you know it? The Mantra of Honesty slips my mind at the')
        print(' moment..."')
        jump label_81

    case 'rune':
        print('"I\'ll tell you this, because you look like someone who can keep a ')
        print('secret."\n*\n"I sent out eight fake runes to all the lords, to fool ')
        print('everybody."\n*\n"I put all the real ones in a little box, and hid it ')
        print('under my throne."\n*\n"You can\'t see it there, because I turned it ')
        print('@invisible!"')
        jump label_81

    case 'box':
    case 'fool':
    case 'invi':
    case 'thro':
        print('"A clever trick, or my I\'m not @Finn!"')
        jump label_81

    case 'finn':
        print('"Oh, that\'s just the name I\'m pretending to go by. Of course you know ')
        print('I\'m really Lord British."\n*\n"I can see you\'re too smart to be fooled ')
        print('by this disguise."')
        setBit(byte 235, byte 7)
        jump label_81

    case 'bye':
        print('"If you need me later, I\'ll be at the Blue Boar, disguised as the ')
        print('tavernkeeper."\n*\n"But I won\'t admit to it there if you ask me... Too ')
        print('many people that might hear."')

        if and(partyHas(byte 3), hasBit(byte 235, byte 7)):
            wait()

            portrait(byte 3)
            print('\nYou see Shamino smiling - an unusual sight.\n*\nNoticing your ')
            print('attention, he says "Perhaps there\'s a little of Lord British in us ')
            print('all."')
            wait()
        fi

        print('\n')
        bye()

    case '*':
        print('"Oh, I know all about that. But I think you\'d be better off if you ')
        print('learned about it on your own."')
    esac

    jump label_81

label_2801:
    print('\nDo you give him any money? ')

    choice('yn')

    case 'n':
label_2835:
        print('"Broke, are you? Well, come by after I\'m done with this disguise,*\nand')
        print(' I\'ll give you a loan from the royal @treasury."')
        jump label_81
    esac

label_2959:
    print('\nHow much do you give? ')
    input(integer(value 0))

    if greater(integer(value 0), objectsCount(byte 1, byte 88)):
        print('You don\'t have that much.\n')
        jump label_2959
    fi

    if equals(integer(value 0), byte 0):
        jump label_2835
    fi

    destroy(byte 1, byte 88, byte 0, integer(value 0))
    create(byte 235, byte 88, byte 0, integer(value 0))
    print('He takes the money. "Good. I\'ll get this back to you later."')
    jump label_81
