source('CONVERSE.A')
index(67)

id(67)
name({
    'english': 'Julia',
    'russian': 'Джулия'
})

description:
    print({
        'english': 'a sturdy woman with calloused hands and a loud manner.',
        'russian': 'крепкую женщину с мозолистыми руками и громкими манерами.'
    })

interaction:
    wait()

    print({
        'english': '\n',
        'russian': '\n'
    })

    if partyHas(byte 235):
        print({
            'english': '"Aye, and wha\' can ye be askin\' of me?"',
            'russian': '"Ну, и чего же вы от меня хотите?"'
        })
        wait()

        print({
            'english': '\n\n"Sure an\' I don\'t think I can be helpin\' ya with this!"',
            'russian': '\n\n"Конечно же, я не думаю, что смогу вам в этом помочь!"'
        })
        jump label_502
    fi

    if equals(hasBit(byte 235, value 1), byte 0):
        jump label_303
    fi

    print({
        'english': '"Aye, so the great Avatar deigns to return, does he?"',
        'russian': '"Ага, так значит, великий Аватар соизволил вернуться, не так ли?"'
    })
    wait()

    print({
        'english': '\n\n"Well, what does ',
        'russian': '\n\n"Итак, чего же теперь хочет '
    })

    if integer(value 16):
        print({
            'english': 'her lady',
            'russian': 'её'
        })

    else:
        print({
            'english': 'his lord',
            'russian': 'его'
        })
    fi

    print({
        'english': 'ship want now?"',
        'russian': 'высочество?"'
    })
    jump label_502

label_303:
    if equals(hasBit(byte 235, value 0), byte 0):
        print({
            'english': '"Well, then the rumors are true!"',
            'russian': '"Что ж, так значит, слухи верны!"'
        })
        wait()

        print({
            'english': '\n\n"\'Tis well and good that ye have returned to our land, Avatar!"',
            'russian': '\n\n"Как хорошо, что вы вернулись на нашу землю, Аватар!"'
        })
        jump label_502
    fi

    integer(value 0) = partyHasObject(word 277, byte 0)
    print({
        'english': '"Well met, Avatar. ',
        'russian': '"Рада встрече, Аватар. '
    })

    if equals(integer(value 0), word 32769):
        print({
            'english': 'An\' what can I be doin\' for ye this $T?"',
            'russian': 'И что я могу для вас сделать в это время $T?"'
        })

    else:
        jump label_2598
    fi

label_502:
    print({
        'english': '\n',
        'russian': '\n'
    })

    ask()

    case 'name':
    case {'russian': 'имя'}:
        if hasBit(byte 235, value 0):
            print({
                'english': '"Sure and you\'re goin\' daft, $G."',
                'russian': '"Похоже, вы совсем спятили, $G".'
            })
            wait()

            print({
                'english': '\n\n"I be named Julia, same as the last time we met!"',
                'russian': '\n\n"Меня зовут Джулия, так же, как и в прошлый раз, когда мы встречались!"'
            })

        else:
            print({
                'english': '"Named Julia I am, $G, and pleased to meet ye."',
                'russian': '"Меня зовут Джулия, $G, и я рада с вами познакомиться".'
            })
        fi

        jump label_502

    case 'job':
    case {'russian': 'раб'}:
        print({
            'english': '"Instruments I make, the finest in the land."',
            'russian': '"Я делаю инструменты, лучшие в стране".'
        })
        wait()

        print({
            'english': '\n\n',
            'russian': '\n\n'
        })

        if partyHas(byte 235):
            print({
                'english': '"For now, though, I\'m followin\' ye, and glad to do it!"',
                'russian': '"А пока я следую за вами и рада этому!"'
            })

        else:
            print({
                'english': '"Not to be immodest, but I\'m respected by all the @Guild!"',
                'russian': '"Не хочу показаться нескромной, но меня уважает вся @Гильдия!"'
            })
            wait()

            print({
                'english': '\n\n"Ach, but give it all up I would for a life of @adventure like your ',
                'russian': '\n\n"Ах, но я бы отказалась от всего этого ради жизни, полной @приключений, как у '
            })
            print({
                'english': 'own..."',
                'russian': 'вас..."'
            })
        fi

        jump label_502

    case 'guil':
    case {'russian': 'гиль'}:
        print({
            'english': '"If ye would like to be a member too, go talk to @Selganor."',
            'russian': '"Если вы тоже хотите стать членом гильдии, поговорите с @Селганором".'
        })
        jump label_502

    case 'selg':
    case {'russian': 'селг'}:
        print({
            'english': '"He\'s the guildmaster."',
            'russian': '"Он глава гильдии".'
        })
        jump label_502

    case 'pan':
    case {'russian': 'мног'}:
    case 'pipe':
    case {'russian': 'флей'}:
        print({
            'english': '"Sent you to me they did? Aye, I can believe that."',
            'russian': '"Это он послал вас ко мне? Да, я могу в это поверить".'
        })
        wait()

        print({
            'english': '\n\n"Now the panpipes are a tricky instrument."',
            'russian': '\n\n"Многоствольная флейта - сложный инструмент".'
        })
        wait()

        print({
            'english': '\n\n"You gotta have the finest wood."',
            'russian': '\n\n"Для него нужно дерево самого лучшего качества".'
        })
        wait()

        print({
            'english': '\n"If you want to learn how to make pipes, you\'ll need to bring a yew ',
            'russian': '\n"Если вы хотите научиться делать флейту, вам нужно взять с собой тисовую '
        })
        print({
            'english': '@board."',
            'russian': '@доску".'
        })
        wait()

        print({
            'english': '\n\n"But it must be freshly @cut!"',
            'russian': '\n\n"Но она должна быть @свежесрезанной!"'
        })
        jump label_502

    case 'yew':
    case {'russian': 'тис'}:
    case 'boar':
    case {'russian': 'доск'}:
        print({
            'english': '"',
            'russian': '"'
        })
        integer(value 0) = partyHasObject(word 277, byte 0)
        jump label_2598

    case 'fres':
    case {'russian': 'свеж'}:
    case 'cut':
    case {'russian': 'срез'}:
        jump label_2867

    case 'life':
    case {'russian': 'жизн'}:
    case 'adve':
    case {'russian': 'прик'}:
        print({
            'english': '"Aye, I\'d @join you if ye wish."',
            'russian': '"Да, я бы @присоединилась к вам, если вы хотите".'
        })
        jump label_502

    case 'join':
    case {'russian': 'прис'}:
        print({
            'english': '"Join ye? Me?"',
            'russian': '"Присоединиться к вам? Мне?"'
        })
        wait()

        print({
            'english': '\n\n',
            'russian': '\n\n'
        })

        if hasBit(byte 235, value 1):
            print({
                'english': '"Aye, and be dumped off in the middle of nowhere again?"',
                'russian': '"Ага, снова быть вышвырнутой неизвестно где?"'
            })
            wait()

            print({
                'english': '\n\n"Not likely! Find some other sap to do your bidding!"',
                'russian': '\n\n"Ну уж нет! Найдите другого простака, который будет выполнять ваши поручения!"'
            })
            jump label_502
        fi

        integer(value 0) = partyJoin(byte 235)

        if equals(integer(value 0), byte 0):
            print({
                'english': '"Aye, gladly! Let\'s be on our way."\n',
                'russian': '"Да, с удовольствием! Давайте отправимся в путь".\n'
            })
            setBit(byte 235, value 0)
            bye()
        fi

        if equals(integer(value 0), byte 2):
            print({
                'english': '"Ach, I can tell that you say that to everyone ye meet."',
                'russian': '"Ах, я вижу, что вы говорите это каждому встречному".'
            })
            wait()

            print({
                'english': '\n\n"Ask me again when you haven\'t as many companions."',
                'russian': '\n\n"Спросите меня ещё раз, когда у вас будет не так много попутчиков".'
            })
            jump label_502

        else:
            print({
                'english': '"What are ye, daft? ',
                'russian': '"Вы что, спятили? '
            })
        fi

        if equals(integer(value 0), byte 1):
            print({
                'english': 'If I join ye, where are we gonna go?"',
                'russian': 'Если я присоединюсь к вам, куда мы пойдём?"'
            })
            wait()

            print({
                'english': '\n\n"Nay, $G. Ask me when we\'re ashore."',
                'russian': '\n\n"Нет, $G. Спросите меня, когда мы сойдём на берег".'
            })
            jump label_502

        else:
            print({
                'english': 'I\'m already in your band!"',
                'russian': 'Я уже в вашей группе!"'
            })
            wait()

            print({
                'english': '\n\n"Though now I\'m not so sure I want to be led by a crazy person..."',
                'russian': '\n\n"Хотя теперь я не уверена, что хочу, чтобы меня вёл за собой сумасшедший..."'
            })
            jump label_502
        fi

    case 'leav':
    case {'russian': 'поки'}:
        if equals(partyHas(byte 235), byte 0):
            print({
                'english': '"Leave! Nay, \'tis my house. You do the leavin\'!"',
                'russian': '"Покинуть?! Нет, это мой дом. Сами его покидайте!"'
            })
            jump label_502
        fi

        integer(value 0) = partyLeave(byte 235)

        if equals(integer(value 0), byte 1):
            print({
                'english': '"Leave?! And jump overboard?!"',
                'russian': '"Покинуть?! И выпрыгнуть за борт?!"'
            })
            wait()

            print({
                'english': '\n\n"Ach, I get it. You\'re makin\' a wee joke!"',
                'russian': '\n\n"А, я поняла. Это вы так шутите!"'
            })
            jump label_502
        fi

        print({
            'english': '"What? Oh, I suppose a craftsman isn\'t warrior enough to suit ',
            'russian': '"Что? О, я полагаю, что ремесленник недостаточно хорош в сражениях, чтобы соответствовать вкусам '
        })

        if integer(value 16):
            print({
                'english': 'her lady',
                'russian': 'её'
            })

        else:
            print({
                'english': 'his lord',
                'russian': 'его'
            })
        fi

        print({
            'english': 'ship\'s tastes!"',
            'russian': ' высочества!"'
        })
        wait()

        print({
            'english': '\n\n"Well, that\'s fine and dandy with me!"',
            'russian': '\n\n"Что ж, меня это вполне устраивает!"'
        })
        wait()

        print({
            'english': '\n\n"A good $T and a good bye to the lot of ye!"',
            'russian': '\n\n"Доброго времени $T и до свидания вам всем!"'
        })
        wait()

        print({
            'english': '\n\n"I\'m tired of carrying all this junk anyway!"\n',
            'russian': '\n\n"Я всё равно устала таскать весь этот хлам!"\n'
        })
        setBit(byte 235, value 1)
        bye()

    case 'bye':
    case {'russian': 'пока'}:
        if partyHas(byte 235):
            print({
                'english': '"Aye, enough chatting. On with our quest!"\n',
                'russian': '"Да, довольно болтовни. Поиски ждут!"\n'
            })
            bye()
        fi

        if equals(hasBit(byte 235, value 1), byte 0):
            print({
                'english': '"May fortune follow ye on thy way!"\n',
                'russian': '"Да сопутствует вам удача на вашем пути!"\n'
            })
            bye()
        fi

        print({
            'english': '"Ach, aye! I wouldna want to hinder ',
            'russian': '"Ага-ага! Я бы не хотела мешать путешествию '
        })

        if integer(value 16):
            print({
                'english': 'her lady',
                'russian': 'её'
            })

        else:
            print({
                'english': 'his lord',
                'russian': 'его'
            })
        fi

        print({
            'english': 'ship\'s journey!"\n',
            'russian': ' высочества!"\n'
        })
        setBit(byte 235, value 0)
        bye()

    case '*':
        if hasBit(byte 235, value 1):
            print({
                'english': '"Are ye daft? Why would I know anything about $Z?"',
                'russian': '"Вы что, спятили? Зачем мне что-то знать о $Z?"'
            })

        else:
            print({
                'english': '"Nay, $G, I know nothing about $Z."',
                'russian': '"Нет, $G, я ничего не знаю о $Z".'
            })
        fi

        jump label_502
    esac

label_2598:
    print({
        'english': 'Do ye have a fine yew board for me this $T?" ',
        'russian': '"Не найдется ли у вас для меня хорошей доски из тиса в это время $T?" '
    })

    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'y':
    case {'russian': 'д'}:
        if equals(integer(value 0), word 32769):
            print({
                'english': '"Well where is it? I canna see any board on ye!"',
                'russian': '"Ну и где же она? Я не вижу у вас никакой доски!"'
            })
            jump label_502

        else:
            print({
                'english': '"Ach, aye, and good wood it is, too. A fine set of pipes this will ',
                'russian': '"Хорошо, и к тому же из хорошего дерева. Из этого получится отличная многоствольная '
            })
            print({
                'english': 'make!"',
                'russian': 'флейта!"'
            })
            wait()

            print({
                'english': '\n\n',
                'russian': '\n\n'
            })
            jump label_3086
        fi

    case 'n':
    case {'russian': 'н'}:
        print({
            'english': '"No? What are ye, daft? I canna be makin\' pipes without wood!"',
            'russian': '"Нет? Вы что, спятили? Я не могу сделать многоствольную флейту без дерева!"'
        })
        wait()

        print({
            'english': '\n\n',
            'russian': '\n\n'
        })
        jump label_2867
    esac

label_2867:
    print({
        'english': '"Go to Yew where they grow the best wood in Britannia."',
        'russian': '"Отправляйтесь в Тис, где растёт лучшая древесина в Британии".'
    })
    wait()

    print({
        'english': '\n\n"Buy a freshly-cut yew log and take it to a sawmill."',
        'russian': '\n\n"Купите свежесрубленное тисовое бревно и отнесите его на лесопилку".'
    })
    wait()

    print({
        'english': '\n\n"Have \'em cut it into a board, and bring it back here."',
        'russian': '\n\n"Пусть они разрежут его на доски и принесут сюда".'
    })
    wait()

    print({
        'english': '\n\n"Then I\'ll show ye how panpipes are made!"',
        'russian': '\n\n"Тогда я покажу вам, как делаются многоствольные флейты!"'
    })
    jump label_502

label_3086:
    print({
        'english': 'Julia sets the wood down on a bench and starts carving.',
        'russian': 'Джулия кладёт дерево на верстак и начинает вырезать.'
    })
    wait()

    print({
        'english': '\n\nAs you watch, the rough board slowly turns into smooth wood rods.',
        'russian': '\n\nНа ваших глазах грубая доска постепенно превращается в гладкие деревянные стержни.'
    })
    wait()

    print({
        'english': '\nThen she hollows out each rod and pegs them all together.',
        'russian': '\nЗатем она выдалбливает каждый стержень и скрепляет их все вместе.'
    })
    wait()

    print({
        'english': '\n\nLastly, she notches each tube and cuts them all to the proper ',
        'russian': '\n\nНаконец, она делает надрезы на каждой трубке и обрезает их до нужной '
    })
    print({
        'english': 'lengths.',
        'russian': 'длины.'
    })
    wait()

    print({
        'english': '\n\n"An\' there it is, $G, a set of panpipes fit for any bard in the ',
        'russian': '\n\n"Вот, всё готово, <Пол>, многоствольная флейта, подходящая для любого барда в '
    })
    print({
        'english': 'land!"',
        'russian': 'стране!"'
    })
    wait()

    print({
        'english': '\n\nShe hands you the finished pipes.',
        'russian': '\n\nОна вручает вам готовую многоствольную флейту.'
    })
    destroyItem(integer(value 0), word 277, byte 0, byte 1)
    createItem(byte 1, byte 153, byte 0, byte 1)
    jump label_502
