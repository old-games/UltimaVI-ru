source('CONVERSE.B')
index(36)

id(135)
name({
    'english': 'Kador',
    'russian': 'FIXME Kador'
})

description:
    print({
        'english': 'an amiable, shaggy mutt.\n',
        'russian': 'FIXME an amiable, shaggy mutt.\n'
    })

interaction:
    if hasBit(byte 235, byte 7):
        print({
            'english': '*The dog gets up and brings you his bowl again, looking at you ',
            'russian': 'FIXME *The dog gets up and brings you his bowl again, looking at you '
        })
        print({
            'english': 'expectantly. ',
            'russian': 'FIXME expectantly. '
        })
        jump label_1100
    fi

    printString(strings_1353, random(byte 0, byte 3))
    setBit(byte 235, value 0)

label_141:
    print({
        'english': '\n',
        'russian': 'FIXME \n'
    })

    ask()

    case {'english': 'name'}:
    case {'russian': 'FIXME name'}:
    case {'english': 'job'}:
    case {'russian': 'FIXME job'}:
    case {'english': 'capt'}:
    case {'russian': 'FIXME capt'}:
    case {'english': 'john'}:
    case {'russian': 'FIXME john'}:
    case {'english': 'silv'}:
    case {'russian': 'FIXME silv'}:
    case {'english': 'tabl'}:
    case {'russian': 'FIXME tabl'}:
    case {'english': 'sell'}:
    case {'russian': 'FIXME sell'}:
        print({
            'english': 'The dog looks at you with a puzzled expression on his face.',
            'russian': 'FIXME The dog looks at you with a puzzled expression on his face.'
        })
        jump label_141

    case {'english': 'tric'}:
    case {'russian': 'FIXME tric'}:
        print({
            'english': 'The dog looks at you expectantly.',
            'russian': 'FIXME The dog looks at you expectantly.'
        })
        jump label_141

    case {'english': 'sit'}:
    case {'russian': 'FIXME sit'}:
        print({
            'english': 'The dog sits.',
            'russian': 'FIXME The dog sits.'
        })
        setBit(byte 235, byte 7)
        jump label_141

    case {'english': 'fetc'}:
    case {'russian': 'FIXME fetc'}:
        print({
            'english': 'The dog fetches a stick and lays it at your feet.',
            'russian': 'FIXME The dog fetches a stick and lays it at your feet.'
        })
        setBit(byte 235, byte 7)
        jump label_141

    case {'english': 'shak'}:
    case {'russian': 'FIXME shak'}:
        print({
            'english': 'The dog shakes paws with you.',
            'russian': 'FIXME The dog shakes paws with you.'
        })
        setBit(byte 235, byte 7)
        jump label_141

    case {'english': 'heel'}:
    case {'russian': 'FIXME heel'}:
        print({
            'english': 'The dog bites your heel.',
            'russian': 'FIXME The dog bites your heel.'
        })
        setBit(byte 235, byte 7)
        jump label_141

    case {'english': 'beg'}:
    case {'russian': 'FIXME beg'}:
        print({
            'english': 'The dog begs.',
            'russian': 'FIXME The dog begs.'
        })
        setBit(byte 235, byte 7)
        jump label_141

    case {'english': 'play'}:
    case {'russian': 'FIXME play'}:
    case {'english': 'dead'}:
    case {'russian': 'FIXME dead'}:
        print({
            'english': 'The dog plays dead.',
            'russian': 'FIXME The dog plays dead.'
        })
        setBit(byte 235, byte 7)
        jump label_141

    case {'english': 'roll'}:
    case {'russian': 'FIXME roll'}:
    case {'english': 'over'}:
    case {'russian': 'FIXME over'}:
        print({
            'english': 'The dog rolls over.',
            'russian': 'FIXME The dog rolls over.'
        })
        setBit(byte 235, byte 7)
        jump label_141

    case {'english': 'spea'}:
    case {'russian': 'FIXME spea'}:
    case {'english': 'advi'}:
    case {'russian': 'FIXME advi'}:
        if hasBit(byte 235, byte 6):
            printString(strings_1353, random(byte 0, byte 3))
            jump label_141
        fi

        print({
            'english': '"I feel that the whole debate over \'free will\' versus \'determinism\' ',
            'russian': 'FIXME "I feel that the whole debate over \'free will\' versus \'determinism\' '
        })
        print({
            'english': 'arises from an artificial semantic division. In light of the work of ',
            'russian': 'FIXME arises from an artificial semantic division. In light of the work of '
        })
        print({
            'english': 'Godel and Heisenberg, it is evident that the two concepts are ',
            'russian': 'FIXME Godel and Heisenberg, it is evident that the two concepts are '
        })
        print({
            'english': 'indistinguishable and thus, for all practical purposes, identical."',
            'russian': 'FIXME indistinguishable and thus, for all practical purposes, identical."'
        })
        setBit(byte 235, byte 6)
        setBit(byte 235, byte 7)
        jump label_141

    case {'english': 'artu'}:
    case {'russian': 'FIXME artu'}:
    case {'english': 'wand'}:
    case {'russian': 'FIXME wand'}:
    case {'english': 'andr'}:
    case {'russian': 'FIXME andr'}:
        print({
            'english': '"Grrrrrrr..."',
            'russian': 'FIXME "Grrrrrrr..."'
        })

    case {'english': 'bye'}:
    case {'russian': 'FIXME bye'}:
        if equals(hasBit(byte 235, byte 7), byte 0):
            print({
                'english': '"Ruff."\n',
                'russian': 'FIXME "Ruff."\n'
            })
            bye()

        else:
            jump label_988
        fi

    case '*':
        printString(strings_1353, random(byte 0, byte 3))
    esac

    jump label_141

label_988:
    print({
        'english': 'The dog picks up a bowl in his mouth and holds it up to you.\n*\nYou see',
        'russian': 'FIXME The dog picks up a bowl in his mouth and holds it up to you.\n*\nYou see'
    })
    print({
        'english': ' that it has several coins in it already. ',
        'russian': 'FIXME  that it has several coins in it already. '
    })

label_1100:
    print({
        'english': 'Do you give him any money? ',
        'russian': 'FIXME Do you give him any money? '
    })

    choice({
        'english': 'yn',
        'russian': 'FIXME yn'
    })

    case {'english': 'n'}:
    case {'russian': 'FIXME n'}:
label_1133:
        print({
            'english': 'After a while the dog sets down the bowl, lies down, and starts ',
            'russian': 'FIXME After a while the dog sets down the bowl, lies down, and starts '
        })
        print({
            'english': 'whimpering.\n',
            'russian': 'FIXME whimpering.\n'
        })
        decreaseKarma(byte 5)
        bye()
    esac

label_1215:
    print({
        'english': '\nHow much do you give? ',
        'russian': 'FIXME \nHow much do you give? '
    })
    input(integer(value 0))

    if greater(integer(value 0), objectsCount(byte 1, byte 88)):
        print({
            'english': 'You don\'t have that much.\n',
            'russian': 'FIXME You don\'t have that much.\n'
        })
        jump label_1215
    fi

    if equals(integer(value 0), byte 0):
        jump label_1133
    fi

    destroyItem(byte 1, byte 88, byte 0, integer(value 0))
    createItem(byte 235, byte 88, byte 0, integer(value 0))
    clearBit(byte 235, byte 7)
    print({
        'english': 'The dog seems pleased.\n',
        'russian': 'FIXME The dog seems pleased.\n'
    })
    bye()

strings_1353 = [
    {
        'english': '"Arf!"',
        'russian': 'FIXME "Arf!"'
    }, // 0
    {
        'english': '"Bow wow."',
        'russian': 'FIXME "Bow wow."'
    }, // 1
    {
        'english': 'The dog jumps up and tries to lick your face.',
        'russian': 'FIXME The dog jumps up and tries to lick your face.'
    }, // 2
    {
        'english': '"Woof, woof!"',
        'russian': 'FIXME "Woof, woof!"'
    }, // 3
]
