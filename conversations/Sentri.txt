source('CONVERSE.B')
index(87)

id(186)
name('Sentri')

description:
    print('a handsome warrior.\n*')

interaction:
    if partyHas(byte 235):
        jump label_1273
    fi

    if hasBit(byte 235, value 0):
        print('"Good $T, $P. I hope you have returned to ask me to join you."')

    else:
        print('"$P! You have come at last!"')
    fi

label_140:
    print('\n')

    ask()

    case 'name':
        ('SETF', ('byte', 235), ('value', 0))
        print('"It is I, Sentri." (He pronounces his name \'Sahn-tray.\')')
        jump label_140

    case 'job':
        print('"I have been waiting here for you."*\n\n"I heard you had @returned, and ')
        print('knew you would come here eventually."')
        jump label_140

    case 'hear':
    case 'here':
    case 'retu':
    case 'wait':
        print('"Britannia needs your help now more than ever before."\n*\n"Many have ')
        print('set out to fight the @gargoyles already."')
        jump label_140

    case 'brit':
    case 'figh':
    case 'garg':
    case 'help':
    case 'need':
        print('"Not just the town guards, but any able bodied men that could be ')
        print('spared from their work."\n*\n"The battle goes poorly. But now that you ')
        print('are here, there is hope. I stand ready to @join you."')
        jump label_140

    case 'join':
        jump label_849

    case 'bye':
        print('"If you should pass this way again, I will be here. I await but the ')
        print('opportunity to @join you."\n')
        bye()

    case '*':
        print('"I beg your pardon, could you repeat that?"')
    esac

    jump label_140

label_849:
    if partyHas(byte 235):
label_854:
        print('"I have joined you already!"')
        jump label_140
    fi

    print('"Shall I join your party?" ')

    choice('yn')

    case 'n':
        print('"I bow to your wisdom. If you have need of me later, you have but to ')
        print('ask."')
        jump label_140
    esac

    print('\n')
    integer(value 0) = partyJoin(byte 235)

    if equals(integer(value 0), byte 1):
        print('"It would be best if you got out of that vessel first."')
        jump label_140
    fi

    if equals(integer(value 0), byte 2):
        print('"You have enough companions now."\n*\n"If you tell one of them to @leave')
        print(' first, then I\'ll join you."')
        jump label_140
    fi

    if equals(integer(value 0), byte 3):
        jump label_854
    fi

    print('"So be it. Now that we are together, surely the realm will be saved."\n')
    bye()

label_1273:
    print('"Has the time come when your plans call for me to wait in reserve?" ')

    choice('yn')

    case 'n':
        print('"Then let\'s be on about our mission!"\n')
        bye()
    esac

    print('\n')
    integer(value 0) = partyLeave(byte 235)

    if equals(integer(value 0), byte 1):
        print('"Let\'s get our feet back on solid ground first, okay?"')
        jump label_140
    fi

    print('"Then I shall go wait at Serpent\'s Hold until you need me again."\n*\n')
    print('"I\'d best leave you my equpiment in case you need it on your quest."\n')
    bye()
