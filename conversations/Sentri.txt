source('CONVERSE.B')
index(87)

id(186)
name({
    'english': 'Sentri',
    'russian': 'FIXME Sentri'
})

description:
    print({
        'english': 'a handsome warrior.\n*',
        'russian': 'FIXME a handsome warrior.\n*'
    })

interaction:
    if partyHas(byte 235):
        jump label_1273
    fi

    if hasBit(byte 235, value 0):
        print({
            'english': '"Good $T, $P. I hope you have returned to ask me to join you."',
            'russian': 'FIXME "Good $T, $P. I hope you have returned to ask me to join you."'
        })

    else:
        print({
            'english': '"$P! You have come at last!"',
            'russian': 'FIXME "$P! You have come at last!"'
        })
    fi

label_140:
    print({
        'english': '\n',
        'russian': 'FIXME \n'
    })

    ask()

    case {'english': 'name'}:
    case {'russian': 'FIXME name'}:
        setBit(byte 235, value 0)
        print({
            'english': '"It is I, Sentri." (He pronounces his name \'Sahn-tray.\')',
            'russian': 'FIXME "It is I, Sentri." (He pronounces his name \'Sahn-tray.\')'
        })
        jump label_140

    case {'english': 'job'}:
    case {'russian': 'FIXME job'}:
        print({
            'english': '"I have been waiting here for you."*\n\n"I heard you had @returned, and ',
            'russian': 'FIXME "I have been waiting here for you."*\n\n"I heard you had @returned, and '
        })
        print({
            'english': 'knew you would come here eventually."',
            'russian': 'FIXME knew you would come here eventually."'
        })
        jump label_140

    case {'english': 'wait'}:
    case {'russian': 'FIXME wait'}:
    case {'english': 'retu'}:
    case {'russian': 'FIXME retu'}:
    case {'english': 'hear'}:
    case {'russian': 'FIXME hear'}:
    case {'english': 'here'}:
    case {'russian': 'FIXME here'}:
        print({
            'english': '"Britannia needs your help now more than ever before."\n*\n"Many have ',
            'russian': 'FIXME "Britannia needs your help now more than ever before."\n*\n"Many have '
        })
        print({
            'english': 'set out to fight the @gargoyles already."',
            'russian': 'FIXME set out to fight the @gargoyles already."'
        })
        jump label_140

    case {'english': 'brit'}:
    case {'russian': 'FIXME brit'}:
    case {'english': 'need'}:
    case {'russian': 'FIXME need'}:
    case {'english': 'help'}:
    case {'russian': 'FIXME help'}:
    case {'english': 'figh'}:
    case {'russian': 'FIXME figh'}:
    case {'english': 'garg'}:
    case {'russian': 'FIXME garg'}:
        print({
            'english': '"Not just the town guards, but any able bodied men that could be ',
            'russian': 'FIXME "Not just the town guards, but any able bodied men that could be '
        })
        print({
            'english': 'spared from their work."\n*\n"The battle goes poorly. But now that you ',
            'russian': 'FIXME spared from their work."\n*\n"The battle goes poorly. But now that you '
        })
        print({
            'english': 'are here, there is hope. I stand ready to @join you."',
            'russian': 'FIXME are here, there is hope. I stand ready to @join you."'
        })
        jump label_140

    case {'english': 'join'}:
    case {'russian': 'FIXME join'}:
        jump label_849

    case {'english': 'bye'}:
    case {'russian': 'FIXME bye'}:
        print({
            'english': '"If you should pass this way again, I will be here. I await but the ',
            'russian': 'FIXME "If you should pass this way again, I will be here. I await but the '
        })
        print({
            'english': 'opportunity to @join you."\n',
            'russian': 'FIXME opportunity to @join you."\n'
        })
        bye()

    case '*':
        print({
            'english': '"I beg your pardon, could you repeat that?"',
            'russian': 'FIXME "I beg your pardon, could you repeat that?"'
        })
    esac

    jump label_140

label_849:
    if partyHas(byte 235):
label_854:
        print({
            'english': '"I have joined you already!"',
            'russian': 'FIXME "I have joined you already!"'
        })
        jump label_140
    fi

    print({
        'english': '"Shall I join your party?" ',
        'russian': 'FIXME "Shall I join your party?" '
    })

    choice({
        'english': 'yn',
        'russian': 'FIXME yn'
    })

    case {'english': 'n'}:
    case {'russian': 'FIXME n'}:
        print({
            'english': '"I bow to your wisdom. If you have need of me later, you have but to ',
            'russian': 'FIXME "I bow to your wisdom. If you have need of me later, you have but to '
        })
        print({
            'english': 'ask."',
            'russian': 'FIXME ask."'
        })
        jump label_140
    esac

    print({
        'english': '\n',
        'russian': 'FIXME \n'
    })
    integer(value 0) = partyJoin(byte 235)

    if equals(integer(value 0), byte 1):
        print({
            'english': '"It would be best if you got out of that vessel first."',
            'russian': 'FIXME "It would be best if you got out of that vessel first."'
        })
        jump label_140
    fi

    if equals(integer(value 0), byte 2):
        print({
            'english': '"You have enough companions now."\n*\n"If you tell one of them to @leave',
            'russian': 'FIXME "You have enough companions now."\n*\n"If you tell one of them to @leave'
        })
        print({
            'english': ' first, then I\'ll join you."',
            'russian': 'FIXME  first, then I\'ll join you."'
        })
        jump label_140
    fi

    if equals(integer(value 0), byte 3):
        jump label_854
    fi

    print({
        'english': '"So be it. Now that we are together, surely the realm will be saved."\n',
        'russian': 'FIXME "So be it. Now that we are together, surely the realm will be saved."\n'
    })
    bye()

label_1273:
    print({
        'english': '"Has the time come when your plans call for me to wait in reserve?" ',
        'russian': 'FIXME "Has the time come when your plans call for me to wait in reserve?" '
    })

    choice({
        'english': 'yn',
        'russian': 'FIXME yn'
    })

    case {'english': 'n'}:
    case {'russian': 'FIXME n'}:
        print({
            'english': '"Then let\'s be on about our mission!"\n',
            'russian': 'FIXME "Then let\'s be on about our mission!"\n'
        })
        bye()
    esac

    print({
        'english': '\n',
        'russian': 'FIXME \n'
    })
    integer(value 0) = partyLeave(byte 235)

    if equals(integer(value 0), byte 1):
        print({
            'english': '"Let\'s get our feet back on solid ground first, okay?"',
            'russian': 'FIXME "Let\'s get our feet back on solid ground first, okay?"'
        })
        jump label_140
    fi

    print({
        'english': '"Then I shall go wait at Serpent\'s Hold until you need me again."\n*\n',
        'russian': 'FIXME "Then I shall go wait at Serpent\'s Hold until you need me again."\n*\n'
    })
    print({
        'english': '"I\'d best leave you my equpiment in case you need it on your quest."\n',
        'russian': 'FIXME "I\'d best leave you my equpiment in case you need it on your quest."\n'
    })
    bye()
