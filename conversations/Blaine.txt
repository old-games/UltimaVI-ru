source('CONVERSE.B')
index(38)

id(137)
name({
    'english': 'Blaine',
    'russian': 'Блейн'
})

description:
    print({
        'english': 'a slightly built gypsy lad.\n*',
        'russian': 'хрупкого цыганского паренька.\n*'
    })

interaction:
    if partyHas(byte 235):
        jump label_2047
    fi

    if hasBit(byte 135, byte 7):
        print({
            'english': '"Our dog did his best trick for you. You should show him some ',
            'russian': '"Наш пёс показал вам свой лучший трюк. Вам следует выразить ему '
        })
        print({
            'english': 'appreciation."\n',
            'russian': 'своё восхищение".\n'
        })
        bye()
    fi

    print({
        'english': '"Good $T."',
        'russian': '"Доброго $T".'
    })

label_146:
    print({
        'english': '\n',
        'russian': '\n'
    })

    ask()

    case 'name':
    case {'russian': 'имя'}:
        print({
            'english': '"I am called Blaine."',
            'russian': '"Меня зовут Блейн".'
        })
        setBit(byte 235, value 0)
        jump label_146

    case 'job':
    case {'russian': 'раб'}:
        print({
            'english': '"I am a @juggler. But I would fain @join thee and go adventuring."',
            'russian': '"Я @жонглёр. Но я бы с удовольствием @присоединился к вам и отправился на поиски приключений".'
        })
        jump label_146

    case 'join':
    case {'russian': 'прис'}:
    case 'adve':
    case {'russian': 'прик'}:
        jump label_1662

    case 'jugg':
    case {'russian': 'жонг'}:
        jump label_876

    case 'advi':
    case {'russian': 'сове'}:
        jump label_657

    case 'buy':
    case {'russian': 'купи'}:
    case 'sell':
    case {'russian': 'прод'}:
        print({
            'english': '"I don\'t have anything to sell just now. Check back with me next ',
            'russian': '"Сейчас мне нечего продать. Приходите на следующей '
        })
        print({
            'english': 'week."',
            'russian': 'неделе".'
        })
        jump label_146

    case 'bye':
    case {'russian': 'пока'}:
        print({
            'english': '"Here\'s a little tune to lighten your step on the road ahead."\n',
            'russian': '"Давайте я сыграю вам что-нибудь на дорожку".\n'
        })
        wait()

        print({
            'english': '\n"Said the youthful earl to the gypsy girl,\nAs the moon was casting ',
            'russian': '\n"Граф юный цыганке однажды сказал,\nВ лунную ночь, '
        })
        print({
            'english': 'its silver shine:"\n*\n"Dear little lady, my gypsy lady,\nLet me kiss ',
            'russian': 'под свет белоснежный:"\n*\n"Милая леди, цыганка моя,\nПозволь мне '
        })
        print({
            'english': 'those sweet lips of thine."\n',
            'russian': 'тебя целовать очень нежно".\n'
        })
        bye()

    case '*':
        print({
            'english': '"I can\'t help you with that."',
            'russian': '"Я не могу вам с этим помочь".'
        })
    esac

    jump label_146

label_657:
    print({
        'english': '"My advice will cost you a gold coin. What do you say?" ',
        'russian': '"Мой совет обойдётся вам в золотую монету. Что скажете?" '
    })

    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'n':
    case {'russian': 'н'}:
        print({
            'english': '"As you wish."',
            'russian': '"Как пожелаете".'
        })
        jump label_146
    esac

    print({
        'english': '\n',
        'russian': '\n'
    })

    if less(objectsCount(byte 1, byte 88), byte 1):
        print({
            'english': '"Best check your purse."',
            'russian': '"Лучше проверьте свой кошелёк".'
        })
        jump label_146
    fi

    destroyItem(byte 1, byte 88, byte 0, byte 1)
    createItem(byte 235, byte 88, byte 0, byte 1)
    print({
        'english': '"Almost due east of Iolo\'s hut there lives a powerful enchanter."',
        'russian': '"Почти прямо на восток от хижины Иоло живёт могущественный чародей".'
    })
    jump label_146

label_876:
    print({
        'english': '"I charge five gold for juggling. Would you like to see some?" ',
        'russian': '"Я беру пять золотых за жонглирование. Хотите посмотреть?" '
    })

    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'n':
    case {'russian': 'н'}:
        print({
            'english': '"Perhaps some other time."',
            'russian': '"Может быть, в другой раз".'
        })
        jump label_146
    esac

    print({
        'english': '\n',
        'russian': '\n'
    })

    if less(objectsCount(byte 1, byte 88), byte 5):
        print({
            'english': '"Best check your purse."',
            'russian': '"Лучше проверьте свой кошелёк".'
        })
        jump label_146
    fi

    destroyItem(byte 1, byte 88, byte 0, byte 5)
    createItem(byte 235, byte 88, byte 0, byte 5)
    print({
        'english': 'The gypsy juggler takes three wands out of his knapsack and sets their',
        'russian': 'Цыган-жонглёр достаёт три палочки из своей котомки и поджигает'
    })
    print({
        'english': ' ends afire.\n*\nTossing them into the air, he begins juggling.\n*\nThe ',
        'russian': ' их концы.\n*\nПодбросив их вверх, он начинает жонглировать.\n*\nСложный '
    })
    print({
        'english': 'pattern is elaborate, almost hypnotic as the tips of the wands ',
        'russian': 'рисунок почти гипнотизирует, в то время как кончики палочек '
    })
    print({
        'english': 'describe great flaming arcs and spirals through the air. \n*\nAt regular',
        'russian': 'описывают в воздухе большие круги и спирали из пламени. \n*\nЧерез равные'
    })
    print({
        'english': ' intervals he tosses one around behind his back.\n*\nYet somehow it ',
        'russian': ' промежутки времени он перебрасывают одну из палочек за спиной.\n*\nОднако '
    })
    print({
        'english': 'always finds its way back into the pattern with the other two, without',
        'russian': 'каким-то образом она всегда возвращается в хоровод к двум остальным палочкам,'
    })
    print({
        'english': ' missing a beat.\n',
        'russian': ' не нарушая ритм.\n'
    })
    wait()

    print({
        'english': '\nAt last he catches all three of the wands in one hand, waves them ',
        'russian': '\nНаконец он ловит все три палочки, эффектно '
    })
    print({
        'english': 'with a great flourish, and bows deeply before you.*\n\nAs he ',
        'russian': 'взмахивает ими и отвешивает глубокий поклон.*\n\nПотушив '
    })
    print({
        'english': 'extinguishes the wands, he says "I hope you enjoyed the show."',
        'russian': 'огонь, он произносит: "Надеюсь, вам понравилось представление".'
    })
    jump label_146

label_1662:
    if partyHas(byte 235):
label_1667:
        print({
            'english': '"I have joined you already!"',
            'russian': '"Я уже с вами!"'
        })
        jump label_146
    fi

    print({
        'english': '"Do you want me to come with you?" ',
        'russian': '"Хотите, чтобы я присоединился?" '
    })

    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'n':
    case {'russian': 'н'}:
        print({
            'english': '"Okay. Let me know if you need my help later."',
            'russian': '"Хорошо. Дайте знать, если понадобится моя помощь".'
        })
        jump label_146
    esac

    print({
        'english': '\n',
        'russian': '\n'
    })
    integer(value 0) = partyJoin(byte 235)

    if equals(integer(value 0), byte 1):
        print({
            'english': '"Not while you\'re in that thing!"',
            'russian': '"Вот уж нет, покуда вы в этом!"'
        })
        jump label_146
    fi

    if equals(integer(value 0), byte 2):
        print({
            'english': '"You have enough travelling with you already."\n*\n"If you ask one of ',
            'russian': '"А вас многовато".\n*\n"Попросите кого-нибудь '
        })
        print({
            'english': 'them to @leave first, I\'d be happy to join you."',
            'russian': 'из них @уйти, и я с радостью присоединюсь к вам".'
        })
        jump label_146
    fi

    if equals(integer(value 0), byte 3):
        jump label_1667
    fi

    print({
        'english': '"I look forward to the many adventures we will share."\n',
        'russian': '"Жду не дождусь наших приключений".\n'
    })
    bye()

label_2047:
    print({
        'english': '"I knew it! You don\'t really want to have a gypsy around."\n*\n"You wish',
        'russian': '"Я так и знал! Никто не хочет, чтобы рядом ошивался цыган".\n*\n"Мне'
    })
    print({
        'english': ' me to leave you now, right?" ',
        'russian': ' уйти сейчас, да?" '
    })

    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'n':
    case {'russian': 'н'}:
        print({
            'english': '"Oh, pardon my mistake."\n*\n"It\'s just that we gypsies often have ',
            'russian': '"О, прошу прощения".\n*\n"Просто нам, цыганам, сложновато '
        })
        print({
            'english': 'trouble finding acceptance among the gorgios."\n*\n"I\'m very grateful ',
            'russian': 'заслужить доверие у гаджо".\n*\n"Я очень благодарен '
        })
        print({
            'english': 'that you\'ve given me the chance to come along on your quest."\n',
            'russian': 'вам за то, что вы дали мне шанс поучаствовать в ваших приключениях".\n'
        })
        bye()
    esac

    integer(value 0) = partyLeave(byte 235)

    if equals(integer(value 0), byte 1):
        print({
            'english': '"Let\'s get our feet back on solid ground first, okay?"',
            'russian': '"Давайте сначала встанем на твёрдую землю, хорошо?"'
        })
        jump label_146
    fi

    print({
        'english': '\n"Fine. I\'ll be with my fellow gypsies if you change your mind."\n*\n"I ',
        'russian': '\n"Хорошо. Я буду со своими собратьями-цыганами, если вы передумаете".\n*\n"Я '
    })
    print({
        'english': 'suppose you\'ll be wanting to keep all this equipment."\n*\nHe leaves ',
        'russian': 'полагаю, вы захотите оставить всё это снаряжение себе".\n*\nОн '
    })
    print({
        'english': 'everything he was carrying in a pile on the ground.\n',
        'russian': 'складывает всё, что нёс, в кучу на земле.\n'
    })
    bye()
