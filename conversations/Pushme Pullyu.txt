source('CONVERSE.B')
index(31)

id(130)
name({
    'english': 'Pushme Pullyu',
    'russian': 'FIXME Pushme Pullyu'
})

description:
    print({
        'english': 'a bizarre, two-headed beast. Both heads take turns speaking to you.',
        'russian': 'FIXME a bizarre, two-headed beast. Both heads take turns speaking to you.'
    })

interaction:
    wait()

    print({
        'english': '\n',
        'russian': 'FIXME \n'
    })
    portrait(byte 0)
    print({
        'english': '"Stand over here!"\n*',
        'russian': 'FIXME "Stand over here!"\n*'
    })
    portrait(byte 235)
    print({
        'english': '\n"Stand over there!"\n*',
        'russian': 'FIXME \n"Stand over there!"\n*'
    })
    portrait(byte 0)
    print({
        'english': '\n"Come hear our @puzzle anywhere!"',
        'russian': 'FIXME \n"Come hear our @puzzle anywhere!"'
    })
    integer(value 9) = byte 0

label_181:
    print({
        'english': '\n',
        'russian': 'FIXME \n'
    })

    ask()

    case {'english': name'}:
    case {'russian': 'FIXME name'}:
        integer(value 9) = minus(byte 235, integer(value 9))
        portrait(integer(value 9))
        print({
            'english': '"Should I answer you today? If asked tomorrow, I would say..."\n*\n"That',
            'russian': 'FIXME "Should I answer you today? If asked tomorrow, I would say..."\n*\n"That'
        })
        print({
            'english': ' my partner and I are the @Pushme @Pullyu, and speaking in @riddles is',
            'russian': 'FIXME  my partner and I are the @Pushme @Pullyu, and speaking in @riddles is'
        })
        print({
            'english': ' what we do."\n*\n',
            'russian': 'FIXME  what we do."\n*\n'
        })
        integer(value 9) = minus(byte 235, integer(value 9))
        portrait(integer(value 9))
        print({
            'english': '"But which is @Pullyu, and which is @Pushme? If you\'d asked yesterday,',
            'russian': 'FIXME "But which is @Pullyu, and which is @Pushme? If you\'d asked yesterday,'
        })
        print({
            'english': ' I\'d have told thee!"',
            'russian': 'FIXME  I\'d have told thee!"'
        })
        setBit(byte 235, value 0)
        jump label_181

    case {'english': push'}:
    case {'russian': 'FIXME push'}:
        integer(value 9) = minus(byte 235, integer(value 9))
        portrait(integer(value 9))
        print({
            'english': '"If you asked my partner, thinking him wise, he\'d tell you the Pushme ',
            'russian': 'FIXME "If you asked my partner, thinking him wise, he\'d tell you the Pushme '
        })
        print({
            'english': 'always @lies!"',
            'russian': 'FIXME always @lies!"'
        })
        jump label_181

    case {'english': pull'}:
    case {'russian': 'FIXME pull'}:
        integer(value 9) = minus(byte 235, integer(value 9))
        portrait(integer(value 9))
        print({
            'english': '"If you asked my partner, then forsooth, he\'d say the Pullyu always ',
            'russian': 'FIXME "If you asked my partner, then forsooth, he\'d say the Pullyu always '
        })
        print({
            'english': 'speaks @truth!"',
            'russian': 'FIXME speaks @truth!"'
        })
        jump label_181

    case {'english': fals'}:
    case {'russian': 'FIXME fals'}:
    case {'english': lie'}:
    case {'russian': 'FIXME lie'}:
    case {'english': ly'}:
    case {'russian': 'FIXME ly'}:
        integer(value 9) = minus(byte 235, integer(value 9))
        portrait(integer(value 9))
        print({
            'english': '"My partner lies, and that is true. It is because he\'s the @Pullyu!"',
            'russian': 'FIXME "My partner lies, and that is true. It is because he\'s the @Pullyu!"'
        })
        jump label_181

    case {'english': tru'}:
    case {'russian': 'FIXME tru'}:
        integer(value 9) = minus(byte 235, integer(value 9))
        portrait(integer(value 9))
        print({
            'english': '"I\'ll always tell the truth to thee. That\'s because I am the @Pushme!"',
            'russian': 'FIXME "I\'ll always tell the truth to thee. That\'s because I am the @Pushme!"'
        })
        jump label_181

    case {'english': job'}:
    case {'russian': 'FIXME job'}:
    case {'english': puzz'}:
    case {'russian': 'FIXME puzz'}:
    case {'english': ridd'}:
    case {'russian': 'FIXME ridd'}:
        portrait(byte 0)
        print({
            'english': '"If my partner said you should go @west, then he would be a lying ',
            'russian': 'FIXME "If my partner said you should go @west, then he would be a lying '
        })
        print({
            'english': 'pest!"\n*\n',
            'russian': 'FIXME pest!"\n*\n'
        })
        portrait(byte 235)
        print({
            'english': '"If my partner said you should go @east, then he would be a lying ',
            'russian': 'FIXME "If my partner said you should go @east, then he would be a lying '
        })
        print({
            'english': 'beast!"\n*\n',
            'russian': 'FIXME beast!"\n*\n'
        })
        portrait(byte 0)
        print({
            'english': '"If my partner said \'Go @east.\' to you, then he\'d have said that which',
            'russian': 'FIXME "If my partner said \'Go @east.\' to you, then he\'d have said that which'
        })
        print({
            'english': ' is true."\n*\n',
            'russian': 'FIXME  is true."\n*\n'
        })
        portrait(byte 235)
        print({
            'english': '"If my partner said to you \'Go @west.\', then his advice would be the ',
            'russian': 'FIXME "If my partner said to you \'Go @west.\', then his advice would be the '
        })
        print({
            'english': 'best."',
            'russian': 'FIXME best."'
        })
        jump label_181

    case {'english': east'}:
    case {'russian': 'FIXME east'}:
    case {'english': west'}:
    case {'russian': 'FIXME west'}:
        integer(value 9) = minus(byte 235, integer(value 9))
        portrait(integer(value 9))
        print({
            'english': '"If you asked my partner which was best, he\'d say \'East lie beasts, so',
            'russian': 'FIXME "If you asked my partner which was best, he\'d say \'East lie beasts, so'
        })
        print({
            'english': ' go quest west.\'"',
            'russian': 'FIXME  go quest west.\'"'
        })
        jump label_181

    case {'english': bye'}:
    case {'russian': 'FIXME bye'}:
        integer(value 9) = minus(byte 235, integer(value 9))
        portrait(integer(value 9))
        print({
            'english': '"So soon to leave?"\n*\n',
            'russian': 'FIXME "So soon to leave?"\n*\n'
        })
        integer(value 9) = minus(byte 235, integer(value 9))
        portrait(integer(value 9))
        print({
            'english': '"You\'d leave so soon?"\n*\n',
            'russian': 'FIXME "You\'d leave so soon?"\n*\n'
        })
        integer(value 9) = minus(byte 235, integer(value 9))
        portrait(integer(value 9))
        print({
            'english': '"Take three blind mice, a dish and spoon!"\n*\n',
            'russian': 'FIXME "Take three blind mice, a dish and spoon!"\n*\n'
        })
        integer(value 9) = minus(byte 235, integer(value 9))
        portrait(integer(value 9))
        print({
            'english': '"And if, perhaps, you\'ve solved our riddle,"\n*\n',
            'russian': 'FIXME "And if, perhaps, you\'ve solved our riddle,"\n*\n'
        })
        integer(value 9) = minus(byte 235, integer(value 9))
        portrait(integer(value 9))
        print({
            'english': '"Then go dance with the cat and fiddle!"\n*\nBoth heads smile innocently',
            'russian': 'FIXME "Then go dance with the cat and fiddle!"\n*\nBoth heads smile innocently'
        })
        print({
            'english': ' at you.',
            'russian': 'FIXME  at you.'
        })

        if partyHas(byte 2):
            print({
                'english': '\n*\n',
                'russian': 'FIXME \n*\n'
            })
            portrait(byte 2)
            print({
                'english': 'Dupre is staring at them, his jaw hanging wide open.',
                'russian': 'FIXME Dupre is staring at them, his jaw hanging wide open.'
            })
        fi

        if partyHas(byte 4):
            print({
                'english': '\n*\n',
                'russian': 'FIXME \n*\n'
            })
            portrait(byte 4)
            print({
                'english': 'Iolo says "That\'s got to be the most baffling thing I\'ve ever heard."',
                'russian': 'FIXME Iolo says "That\'s got to be the most baffling thing I\'ve ever heard."'
            })
        fi

        print({
            'english': '\n*',
            'russian': 'FIXME \n*'
        })
        bye()

    case '*':
        integer(value 9) = minus(byte 235, integer(value 9))
        portrait(integer(value 9))
        print({
            'english': '"Is that a @lie, or is it @true?"\n*\n',
            'russian': 'FIXME "Is that a @lie, or is it @true?"\n*\n'
        })
        integer(value 9) = minus(byte 235, integer(value 9))
        portrait(integer(value 9))
        print({
            'english': '"Could we be more confused than you?"',
            'russian': 'FIXME "Could we be more confused than you?"'
        })
    esac

    jump label_181
