source("CONVERSE.B")
index(31)

id(130)
name("Pushme Pullyu")

description:
    print("a bizarre, two-headed beast. Both heads take turns speaking to you.")

interaction:
    wait()

    print("\n")
    ('PORTRAIT', ('byte', 0))
    print("\"Stand over here!\"\n*")
    ('PORTRAIT', ('byte', 235))
    print("\n\"Stand over there!\"\n*")
    ('PORTRAIT', ('byte', 0))
    print("\n\"Come hear our @puzzle anywhere!\"")
    integer(value 9) = byte 0

181:
    print("\n")

    ask()

    case "name":
        integer(value 9) = minus(byte 235, integer(value 9))
        ('PORTRAIT', ('integer', [('value', 9)]))
        print("\"Should I answer you today? If asked tomorrow, I would say...\"\n*\n\"That")
        print(" my partner and I are the @Pushme @Pullyu, and speaking in @riddles is")
        print(" what we do.\"\n*\n")
        integer(value 9) = minus(byte 235, integer(value 9))
        ('PORTRAIT', ('integer', [('value', 9)]))
        print("\"But which is @Pullyu, and which is @Pushme? If you'd asked yesterday,")
        print(" I'd have told thee!\"")
        ('SETF', ('byte', 235), ('value', 0))
        jump 181

    case "push":
        integer(value 9) = minus(byte 235, integer(value 9))
        ('PORTRAIT', ('integer', [('value', 9)]))
        print("\"If you asked my partner, thinking him wise, he'd tell you the Pushme ")
        print("always @lies!\"")
        jump 181

    case "pull":
        integer(value 9) = minus(byte 235, integer(value 9))
        ('PORTRAIT', ('integer', [('value', 9)]))
        print("\"If you asked my partner, then forsooth, he'd say the Pullyu always ")
        print("speaks @truth!\"")
        jump 181

    case "fals":
    case "lie":
    case "ly":
        integer(value 9) = minus(byte 235, integer(value 9))
        ('PORTRAIT', ('integer', [('value', 9)]))
        print("\"My partner lies, and that is true. It is because he's the @Pullyu!\"")
        jump 181

    case "tru":
        integer(value 9) = minus(byte 235, integer(value 9))
        ('PORTRAIT', ('integer', [('value', 9)]))
        print("\"I'll always tell the truth to thee. That's because I am the @Pushme!\"")
        jump 181

    case "job":
    case "puzz":
    case "ridd":
        ('PORTRAIT', ('byte', 0))
        print("\"If my partner said you should go @west, then he would be a lying ")
        print("pest!\"\n*\n")
        ('PORTRAIT', ('byte', 235))
        print("\"If my partner said you should go @east, then he would be a lying ")
        print("beast!\"\n*\n")
        ('PORTRAIT', ('byte', 0))
        print("\"If my partner said 'Go @east.' to you, then he'd have said that which")
        print(" is true.\"\n*\n")
        ('PORTRAIT', ('byte', 235))
        print("\"If my partner said to you 'Go @west.', then his advice would be the ")
        print("best.\"")
        jump 181

    case "east":
    case "west":
        integer(value 9) = minus(byte 235, integer(value 9))
        ('PORTRAIT', ('integer', [('value', 9)]))
        print("\"If you asked my partner which was best, he'd say 'East lie beasts, so")
        print(" go quest west.'\"")
        jump 181

    case "bye":
        integer(value 9) = minus(byte 235, integer(value 9))
        ('PORTRAIT', ('integer', [('value', 9)]))
        print("\"So soon to leave?\"\n*\n")
        integer(value 9) = minus(byte 235, integer(value 9))
        ('PORTRAIT', ('integer', [('value', 9)]))
        print("\"You'd leave so soon?\"\n*\n")
        integer(value 9) = minus(byte 235, integer(value 9))
        ('PORTRAIT', ('integer', [('value', 9)]))
        print("\"Take three blind mice, a dish and spoon!\"\n*\n")
        integer(value 9) = minus(byte 235, integer(value 9))
        ('PORTRAIT', ('integer', [('value', 9)]))
        print("\"And if, perhaps, you've solved our riddle,\"\n*\n")
        integer(value 9) = minus(byte 235, integer(value 9))
        ('PORTRAIT', ('integer', [('value', 9)]))
        print("\"Then go dance with the cat and fiddle!\"\n*\nBoth heads smile innocently")
        print(" at you.")

        if partyHas(byte 2):
            print("\n*\n")
            ('PORTRAIT', ('byte', 2))
            print("Dupre is staring at them, his jaw hanging wide open.")

        endif

        if partyHas(byte 4):
            print("\n*\n")
            ('PORTRAIT', ('byte', 4))
            print("Iolo says \"That's got to be the most baffling thing I've ever heard.\"")

        endif

        print("\n*")
        bye()

    case "*":
        integer(value 9) = minus(byte 235, integer(value 9))
        ('PORTRAIT', ('integer', [('value', 9)]))
        print("\"Is that a @lie, or is it @true?\"\n*\n")
        integer(value 9) = minus(byte 235, integer(value 9))
        ('PORTRAIT', ('integer', [('value', 9)]))
        print("\"Could we be more confused than you?\"")

    esac

    jump 181
