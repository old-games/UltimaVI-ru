source('CONVERSE.A')
index(33)

id(33)
name({
    'english': 'Mariah',
    'russian': 'FIXME Mariah'
})

description:
    print({
        'english': 'a freckled young lady with an enchanting smile.\n*',
        'russian': 'FIXME a freckled young lady with an enchanting smile.\n*'
    })

interaction:
    if equals(hasBit(byte 235, byte 5), byte 0):
        jump label_4126
    fi

    print({
        'english': '"Good $T, $G, can I help thee?"',
        'russian': 'FIXME "Good $T, $G, can I help thee?"'
    })

label_106:
    print({
        'english': '\n',
        'russian': 'FIXME \n'
    })

    ask()

    case {'english': 'name'}:
    case {'russian': 'FIXME name'}:
        print({
            'english': '"They call me Mariah."',
            'russian': 'FIXME "They call me Mariah."'
        })
        setBit(byte 235, value 0)
        jump label_106

    case {'english': 'job'}:
    case {'russian': 'FIXME job'}:
        print({
            'english': '"I\'m the newest member of the @Council of Wizards. Somebody has to ',
            'russian': 'FIXME "I\'m the newest member of the @Council of Wizards. Somebody has to '
        })
        print({
            'english': 'keep things running smoothly."\n*\n"In my spare time I use the @library ',
            'russian': 'FIXME keep things running smoothly."\n*\n"In my spare time I use the @library '
        })
        print({
            'english': 'to pursue my own studies."',
            'russian': 'FIXME to pursue my own studies."'
        })
        jump label_106

    case {'english': 'coun'}:
    case {'russian': 'FIXME coun'}:
    case {'english': 'wiza'}:
    case {'russian': 'FIXME wiza'}:
        print({
            'english': '"They get so caught up in their work sometimes that they forget even ',
            'russian': 'FIXME "They get so caught up in their work sometimes that they forget even '
        })
        print({
            'english': 'to eat and @sleep!"',
            'russian': 'FIXME to eat and @sleep!"'
        })
        jump label_106

    case {'english': 'eat'}:
    case {'russian': 'FIXME eat'}:
    case {'english': 'slee'}:
    case {'russian': 'FIXME slee'}:
        print({
            'english': '"Such things matter little to them. They often dwell apart from the ',
            'russian': 'FIXME "Such things matter little to them. They often dwell apart from the '
        })
        print({
            'english': 'realm of the @senses."',
            'russian': 'FIXME realm of the @senses."'
        })
        jump label_106

    case {'english': 'dwel'}:
    case {'russian': 'FIXME dwel'}:
    case {'english': 'apar'}:
    case {'russian': 'FIXME apar'}:
    case {'english': 'real'}:
    case {'russian': 'FIXME real'}:
    case {'english': 'sens'}:
    case {'russian': 'FIXME sens'}:
        print({
            'english': '"Aye, indeed."',
            'russian': 'FIXME "Aye, indeed."'
        })
        jump label_106

    case {'english': 'libr'}:
    case {'russian': 'FIXME libr'}:
    case {'english': 'stud'}:
    case {'russian': 'FIXME stud'}:
        print({
            'english': '"\'Tis the finest library in all Britannia."\n*\n"I study many different ',
            'russian': 'FIXME "\'Tis the finest library in all Britannia."\n*\n"I study many different '
        })
        print({
            'english': 'things, but I find learning old languages the most interesting."\n*\n',
            'russian': 'FIXME things, but I find learning old languages the most interesting."\n*\n'
        })
        print({
            'english': '"One can learn so much about how our own language developed!"',
            'russian': 'FIXME "One can learn so much about how our own language developed!"'
        })
        jump label_106

    case {'english': 'book'}:
    case {'russian': 'FIXME book'}:
        if equals(partyHasObject(byte 60, byte 0), word 32769):
            jump label_1609
        fi

        if and(notEquals(partyHasObject(word 390, byte 0), word 32769), notEquals(partyHasObject(word 389, byte 0), word 32769)):
            jump label_2292
        fi

        if equals(hasBit(byte 235, byte 7), byte 0):
            jump label_1801
        fi

        jump label_1177

    case {'english': 'half'}:
    case {'russian': 'FIXME half'}:
    case {'english': 'tabl'}:
    case {'russian': 'FIXME tabl'}:
    case {'english': 'anci'}:
    case {'russian': 'FIXME anci'}:
    case {'english': 'silv'}:
    case {'russian': 'FIXME silv'}:
    case {'english': 'deci'}:
    case {'russian': 'FIXME deci'}:
        if notEquals(partyHasObject(word 389, byte 0), word 32769):
            jump label_1177
        fi

        print({
            'english': '"I got my piece of the tablet from some gypsies whom I met at a pub."\n',
            'russian': 'FIXME "I got my piece of the tablet from some gypsies whom I met at a pub."\n'
        })
        print({
            'english': '*\n"Mayhap they can tell thee where to look for the other piece."\n*\n',
            'russian': 'FIXME *\n"Mayhap they can tell thee where to look for the other piece."\n*\n'
        })
        print({
            'english': '"Bring both pieces of the tablet here and I will tell thee what I ',
            'russian': 'FIXME "Bring both pieces of the tablet here and I will tell thee what I '
        })
        print({
            'english': 'can."',
            'russian': 'FIXME can."'
        })
        jump label_106

    case {'english': 'bye'}:
    case {'russian': 'FIXME bye'}:
        print({
            'english': '"Fare thee well."\n',
            'russian': 'FIXME "Fare thee well."\n'
        })
        bye()

    case '*':
        print({
            'english': '"I cannot help thee with that."',
            'russian': 'FIXME "I cannot help thee with that."'
        })
    esac

    jump label_106

label_1177:
    if equals(partyHasObject(byte 60, byte 0), word 32769):
        jump label_1609
    fi

    if and(notEquals(partyHasObject(word 390, byte 0), word 32769), notEquals(partyHasObject(word 389, byte 0), word 32769)):
        jump label_2292
    fi

    if and(notEquals(partyHasObject(word 390, byte 0), word 32769), equals(partyHasObject(word 389, byte 0), word 32769)):
        print({
            'english': '"I must have both halves of the tablet before I can tell you any ',
            'russian': 'FIXME "I must have both halves of the tablet before I can tell you any '
        })
        print({
            'english': 'more."\n*\n"This piece I have had for quite some time, and I\'ve learned ',
            'russian': 'FIXME more."\n*\n"This piece I have had for quite some time, and I\'ve learned '
        })
        print({
            'english': 'all I can from it."',
            'russian': 'FIXME all I can from it."'
        })
        jump label_106
    fi

    if and(equals(partyHasObject(word 390, byte 0), word 32769), notEquals(partyHasObject(word 389, byte 0), word 32769)):
        print({
            'english': '"Ah, thou hast found the rest of the tablet! Go get the other half ',
            'russian': 'FIXME "Ah, thou hast found the rest of the tablet! Go get the other half '
        })
        print({
            'english': 'from my study and bring it here."\n*\n"With the two of them together I ',
            'russian': 'FIXME from my study and bring it here."\n*\n"With the two of them together I '
        })
        print({
            'english': 'should be able to tell you more."',
            'russian': 'FIXME should be able to tell you more."'
        })
        jump label_106
    fi

    jump label_1801

label_1609:
    print({
        'english': '"Nystul sent word to me that thou hast a book written in a strange ',
        'russian': 'FIXME "Nystul sent word to me that thou hast a book written in a strange '
    })
    print({
        'english': 'tongue."\n*\n"I\'d not mind looking at it for thee..."\n*\n"But I\'d find ',
        'russian': 'FIXME tongue."\n*\n"I\'d not mind looking at it for thee..."\n*\n"But I\'d find '
    })
    print({
        'english': 'the task much easier if thou wouldst bring it here!"',
        'russian': 'FIXME the task much easier if thou wouldst bring it here!"'
    })
    jump label_106

label_1801:
    setBit(byte 235, byte 7)
    print({
        'english': '"I\'d be glad to look at it for thee." She examines the book.\n*\n"Oh! ',
        'russian': 'FIXME "I\'d be glad to look at it for thee." She examines the book.\n*\n"Oh! '
    })
    print({
        'english': 'I\'ve seen this script before!"\n*\n"I have part of an ancient silver ',
        'russian': 'FIXME I\'ve seen this script before!"\n*\n"I have part of an ancient silver '
    })
    print({
        'english': 'tablet in my study with writing both in our language and this."\n*\n"I ',
        'russian': 'FIXME tablet in my study with writing both in our language and this."\n*\n"I '
    })
    print({
        'english': 'have learned only a little from studying it, but I can make out a few ',
        'russian': 'FIXME have learned only a little from studying it, but I can make out a few '
    })
    print({
        'english': 'words."\n*\n"The title is \'The Book of Prophecies,\' and it says ',
        'russian': 'FIXME words."\n*\n"The title is \'The Book of Prophecies,\' and it says '
    })
    print({
        'english': 'something about \'the end of our world.\'"\n*\n"If only I had the other ',
        'russian': 'FIXME something about \'the end of our world.\'"\n*\n"If only I had the other '
    })
    print({
        'english': 'half of the @tablet, perhaps I\'d be able to decipher the rest of the ',
        'russian': 'FIXME half of the @tablet, perhaps I\'d be able to decipher the rest of the '
    })
    print({
        'english': 'book."',
        'russian': 'FIXME book."'
    })
    jump label_106

label_2292:
    print({
        'english': '"With both pieces of the tablet, I should be able to work out a ',
        'russian': 'FIXME "With both pieces of the tablet, I should be able to work out a '
    })
    print({
        'english': 'translation."\n*\nShe studies the tablet for a while, and then starts ',
        'russian': 'FIXME translation."\n*\nShe studies the tablet for a while, and then starts '
    })
    print({
        'english': 'reading, haltingly, from the book.\n*\n\nAn ancient prophecy tells of the',
        'russian': 'FIXME reading, haltingly, from the book.\n*\n\nAn ancient prophecy tells of the'
    })
    print({
        'english': ' final days, when the end of our world shall come.\n*\nThree signs will ',
        'russian': 'FIXME  final days, when the end of our world shall come.\n*\nThree signs will '
    })
    print({
        'english': 'precede the end.\n\n*Thrice shall a being of great evil come unto our ',
        'russian': 'FIXME precede the end.\n\n*Thrice shall a being of great evil come unto our '
    })
    print({
        'english': 'land, and by this it shall be known that the end is nigh.\n*\nThis evil ',
        'russian': 'FIXME land, and by this it shall be known that the end is nigh.\n*\nThis evil '
    })
    print({
        'english': 'one is of another race, who consider the evil one a great prophet.\n*\n',
        'russian': 'FIXME one is of another race, who consider the evil one a great prophet.\n*\n'
    })
    print({
        'english': 'Yet this false prophet follows not the principles of Control, Passion ',
        'russian': 'FIXME Yet this false prophet follows not the principles of Control, Passion '
    })
    print({
        'english': 'and Diligence.\n*\nOne day the false prophet will come and desecrate our',
        'russian': 'FIXME and Diligence.\n*\nOne day the false prophet will come and desecrate our'
    })
    print({
        'english': ' most holy shrine.\n*\nAnd the false prophet will steal our most holy ',
        'russian': 'FIXME  most holy shrine.\n*\nAnd the false prophet will steal our most holy '
    })
    print({
        'english': 'artifact, the Codex of Ultimate Wisdom.\n*\nThis shall be the first sign',
        'russian': 'FIXME artifact, the Codex of Ultimate Wisdom.\n*\nThis shall be the first sign'
    })
    print({
        'english': ' of the end.\n*\nThen, it is written, the false prophet shall descend ',
        'russian': 'FIXME  of the end.\n*\nThen, it is written, the false prophet shall descend '
    })
    print({
        'english': 'deep into the bowels of the earth.\n*\nAnd the false prophet will cause ',
        'russian': 'FIXME deep into the bowels of the earth.\n*\nAnd the false prophet will cause '
    })
    print({
        'english': 'the underworld to collapse.\n*\nThis will cause great earthquakes to ',
        'russian': 'FIXME the underworld to collapse.\n*\nThis will cause great earthquakes to '
    })
    print({
        'english': 'tear our world asunder, and there will be a time of plague and ',
        'russian': 'FIXME tear our world asunder, and there will be a time of plague and '
    })
    print({
        'english': 'famine.*\n\nThis shall be the second sign of the end.\n*\nOne last time ',
        'russian': 'FIXME famine.*\n\nThis shall be the second sign of the end.\n*\nOne last time '
    })
    print({
        'english': 'shall the false prophet come.\n*\nThis time, the false prophet will come',
        'russian': 'FIXME shall the false prophet come.\n*\nThis time, the false prophet will come'
    })
    print({
        'english': ' with a band of warriors.\n*\nAnd they will destroy all that remains of ',
        'russian': 'FIXME  with a band of warriors.\n*\nAnd they will destroy all that remains of '
    })
    print({
        'english': 'the gargoyle race.\n*\nThere is only one way that this prophecy may be ',
        'russian': 'FIXME the gargoyle race.\n*\nThere is only one way that this prophecy may be '
    })
    print({
        'english': 'averted:\n*\nThat is by the sacrifice of the false prophet.\n*\n\nMariah ',
        'russian': 'FIXME averted:\n*\nThat is by the sacrifice of the false prophet.\n*\n\nMariah '
    })
    print({
        'english': 'pauses for a while, deep in thought.\n*\n"When they refer to \'the false ',
        'russian': 'FIXME pauses for a while, deep in thought.\n*\n"When they refer to \'the false '
    })
    print({
        'english': 'prophet,\' they must mean you." she says.\n*\n"It would seem that they ',
        'russian': 'FIXME prophet,\' they must mean you." she says.\n*\n"It would seem that they '
    })
    print({
        'english': 'have reason to think you evil, from their perspective."\n*\n"This is a ',
        'russian': 'FIXME have reason to think you evil, from their perspective."\n*\n"This is a '
    })
    print({
        'english': 'difficult matter to resolve. I think you\'d better seek out more ',
        'russian': 'FIXME difficult matter to resolve. I think you\'d better seek out more '
    })
    print({
        'english': 'information."\n*\n"There\'s a gargoyle named Sin\'Vraal living out in the ',
        'russian': 'FIXME information."\n*\n"There\'s a gargoyle named Sin\'Vraal living out in the '
    })
    print({
        'english': 'desert. He speaks our language."\n*\n"Perhaps he could tell you more ',
        'russian': 'FIXME desert. He speaks our language."\n*\n"Perhaps he could tell you more '
    })
    print({
        'english': 'about this book, and of how the gargoyles view us."',
        'russian': 'FIXME about this book, and of how the gargoyles view us."'
    })
    jump label_106

label_4126:
    print({
        'english': '"I\'m sorry to put you to the trouble, but I\'m only supposed to help ',
        'russian': 'FIXME "I\'m sorry to put you to the trouble, but I\'m only supposed to help '
    })
    print({
        'english': 'those who know the ways of magic."\n*\n"So I have to ask you a question ',
        'russian': 'FIXME those who know the ways of magic."\n*\n"So I have to ask you a question '
    })
    print({
        'english': 'to test you..."\n*\n',
        'russian': 'FIXME to test you..."\n*\n'
    })
    integer(value 6) = random(byte 1, byte 5)

    if equals(integer(value 6), byte 1):
        jump label_4357
    fi

    if equals(integer(value 6), byte 2):
        jump label_4503
    fi

    if equals(integer(value 6), byte 3):
        jump label_4651
    fi

    if equals(integer(value 6), byte 4):
        jump label_4798
    fi

    if equals(integer(value 6), byte 5):
        jump label_4955
    fi

label_4357:
    print({
        'english': '"What does the magic syllable \'Zu\' mean?"\n',
        'russian': 'FIXME "What does the magic syllable \'Zu\' mean?"\n'
    })

    ask()

    case {'english': 'slee'}:
    case {'russian': 'FIXME slee'}:
        jump label_5102

    case {'english': 'bye'}:
    case {'russian': 'FIXME bye'}:
        jump label_5165

    case '*':
        print({
            'english': '"No, that\'s not it. Haven\'t you a Compendium of knowledge to draw ',
            'russian': 'FIXME "No, that\'s not it. Haven\'t you a Compendium of knowledge to draw '
        })
        print({
            'english': 'on?"*\n\n',
            'russian': 'FIXME on?"*\n\n'
        })
        jump label_4357
    esac

label_4503:
    print({
        'english': '"What does the magic syllable \'Quas\' mean?"\n',
        'russian': 'FIXME "What does the magic syllable \'Quas\' mean?"\n'
    })

    ask()

    case {'english': 'illu'}:
    case {'russian': 'FIXME illu'}:
        jump label_5102

    case {'english': 'bye'}:
    case {'russian': 'FIXME bye'}:
        jump label_5165

    case '*':
        print({
            'english': '"No, that\'s not it. Haven\'t you a Compendium of knowledge to draw ',
            'russian': 'FIXME "No, that\'s not it. Haven\'t you a Compendium of knowledge to draw '
        })
        print({
            'english': 'on?"*\n\n',
            'russian': 'FIXME on?"*\n\n'
        })
        jump label_4503
    esac

label_4651:
    print({
        'english': '"What does the magic syllable \'Hur\' mean?"\n',
        'russian': 'FIXME "What does the magic syllable \'Hur\' mean?"\n'
    })

    ask()

    case {'english': 'wind'}:
    case {'russian': 'FIXME wind'}:
        jump label_5102

    case {'english': 'bye'}:
    case {'russian': 'FIXME bye'}:
        jump label_5165

    case '*':
        print({
            'english': '"No, that\'s not it. Haven\'t you a Compendium of knowledge to draw ',
            'russian': 'FIXME "No, that\'s not it. Haven\'t you a Compendium of knowledge to draw '
        })
        print({
            'english': 'on?"*\n\n',
            'russian': 'FIXME on?"*\n\n'
        })
        jump label_4651
    esac

label_4798:
    print({
        'english': '"What does the magic syllable \'Jux\' mean?"\n',
        'russian': 'FIXME "What does the magic syllable \'Jux\' mean?"\n'
    })

    ask()

    case {'english': 'dang'}:
    case {'russian': 'FIXME dang'}:
    case {'english': 'trap.harm'}:
    case {'russian': 'FIXME trap.harm'}:
        jump label_5102

    case {'english': 'bye'}:
    case {'russian': 'FIXME bye'}:
        jump label_5165

    case '*':
        print({
            'english': '"No, that\'s not it. Haven\'t you a Compendium of knowledge to draw ',
            'russian': 'FIXME "No, that\'s not it. Haven\'t you a Compendium of knowledge to draw '
        })
        print({
            'english': 'on?"*\n\n',
            'russian': 'FIXME on?"*\n\n'
        })
        jump label_4798
    esac

label_4955:
    print({
        'english': '"What does the magic syllable \'Ort\' mean?"\n',
        'russian': 'FIXME "What does the magic syllable \'Ort\' mean?"\n'
    })

    ask()

    case {'english': 'magi'}:
    case {'russian': 'FIXME magi'}:
        jump label_5102

    case {'english': 'bye'}:
    case {'russian': 'FIXME bye'}:
        jump label_5165

    case '*':
        print({
            'english': '"No, that\'s not it. Haven\'t you a Compendium of knowledge to draw ',
            'russian': 'FIXME "No, that\'s not it. Haven\'t you a Compendium of knowledge to draw '
        })
        print({
            'english': 'on?"*\n\n',
            'russian': 'FIXME on?"*\n\n'
        })
        jump label_4955
    esac

label_5102:
    print({
        'english': '"That\'s right! Now then, what can I help you with?"',
        'russian': 'FIXME "That\'s right! Now then, what can I help you with?"'
    })
    setBit(byte 235, byte 5)
    jump label_106

label_5165:
    print({
        'english': '"I\'d suggest you find a Compendium to study, then come talk to me ',
        'russian': 'FIXME "I\'d suggest you find a Compendium to study, then come talk to me '
    })
    print({
        'english': 'again."\n',
        'russian': 'FIXME again."\n'
    })
    bye()
