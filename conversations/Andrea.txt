source('CONVERSE.A')
index(56)

id(56)
name('Andrea')

description:
    print('an enormous woman, both in size and personality.')
    wait()

    print('\n')

interaction:
    integer(value 5) = byte 0
    print('"Hello')

    if hasBit(byte 235, value 0):
        print(' again, ')

    else:
        print(', ')
    fi

    if equals(integer(value 23), byte 0):
        jump label_127
    fi

    if integer(value 16):
        print('dears')

    else:
        print('fellahs')
    fi

    jump label_148

label_127:
    if integer(value 16):
        print('my dear')

    else:
        print('handsome')
    fi

label_148:
    print('!" she screams as she strides over to you with beer mugs in her hands.')
    wait()

    print('\n\n"Welcome to the Slaughtered Lamb. What can I get you?"\n')
    jump label_303

label_281:
    print('"What can I get you?"\n')

label_303:
    ask()

    case 'name':
        print('"@Andrea! And yours, my fine friend?"\n')

        ask()

        if integer(value 16):
            print('\n"Pleased to meet you, dear."\n')

        else:
            print('\n"I\'m very pleased to meet you," she purrs.\n')
        fi

        ('SETF', ('byte', 235), ('value', 0))
        jump label_303

    case 'andr':
        print('"Yes. Them\'s who I beat at arm @wrestling call me Miss Barlap, though.')
        print(' Out of respect." She laughs.\n')
        jump label_303

    case 'arm':
    case 'wres':
        if hasBit(byte 235, byte 2):
            print('"Alright, alright, I admit it - ya won fair an\' square."')
            wait()

            print('\n\n"No need to gloat about it..."\n')
            jump label_303
        fi

        if hasBit(byte 235, byte 3):
            print('"Now don\'t feel bad, sugar, lots of folks lose to Andrea!" She laughs ')
            print('heartily.\n')
            jump label_303
        fi

        print('She looks you up and down and then feels your arm. "Care for a match?"')
        print(' ')
        jump label_2083

    case 'job':
        print('"Honey, I\'ve had many jobs in my time. But runnin\' this pub is the ')
        print('best, \'cause I get to meet the strongest @men."\n')
        wait()

        print('\n\n"I sell @ribs, @ale, @mead, @wine, and @rations."\n')
        jump label_303

    case 'buy':
        print('"Which, @ribs, @ale, @mead, @wine, or @rations?"\n')
        jump label_303

    case 'ribs':
        jump label_2779

    case 'mead':
        integer(value 4) = byte 0
        jump label_2322

    case 'ale':
        integer(value 4) = byte 1
        jump label_2322

    case 'wine':
        integer(value 4) = byte 2
        jump label_2322

    case 'rati':
        jump label_3149

    case 'men':
    case 'stro':
        print('"Look around. Here you\'ll find the men whose lives have lead them to ')
        print('many dangerous places."')
        wait()

        print('\n\nSomeone in a dark corner shouts "Like this pub!" and all the patrons')
        print(' laugh.\n')
        jump label_303

    case 'Lena':
        print('"A little girlie-man. But he does make some fine clothes."\n')
        jump label_303

    case 'ben':
    case 'big':
        print('"Now there\'s a man." She looks into a beer mug and fixes her hair.')
        wait()

        print('\n\n"I wish he\'d come into town more often."\n')
        jump label_303

    case 'chan':
        print('"That old witch? She may not have hit the bottle, but I believe a few ')
        print('have hit her."')
        wait()

        print('\n\nThe patrons around you chuckle.\n')
        jump label_303

    case 'garg':
        print('"I\'ve never seen any creature that could scare me. I say if they want ')
        print('trouble, come in this pub!"')
        wait()

        print('\n\nThe men around her let out a cheer and she turns, acknowledging them')
        print(' with a bow.\n')
        jump label_303

    case 'brit':
    case 'lord':
        print('"He\'s never been in here. Can\'t imagine why--it seems like his kind of')
        print(' establishment."\n')
        jump label_303

    case 'bye':
        print('"So long. Come back when you\'re thirsty."\n*\n"And if you see that cutie')
        print(' Utomo, tell him Andrea says hi."\n')
        bye()

    case '*':
        print('"Ask around."\n')
    esac

    jump label_303

label_2083:
    choice('yn')

    case 'y':
        print('"Yer on!" She grabs your arm and the contest begins!\n\n"Arrghh!!!"')
        wait()

        print('\n\n"Nnghhh!!!"')
        wait()

        print('\n\n"Unghhh!!!"')
        wait()

        print('\n\nAnd the winner is...')
        integer(value 0) = strength(character(byte 0, byte 0), byte 0)

        if greater(integer(value 0), byte 20):
            ('SETNAME', ('character', [('byte', 0), ('byte', 0)]))
            ('SETF', ('byte', 235), ('byte', 2))
            string(value 0) = string(value 34)

        else:
            ('SETF', ('byte', 235), ('byte', 3))
            string(value 0) = string(value 23)
        fi

        print('$0!!!\n')
        jump label_303

    case 'n':
        print('"Well, maybe some other time, sugar..."\n')
        jump label_303
    esac

label_2322:
    if equals(integer(value 23), byte 0):
        integer(value 3) = byte 0
        jump label_2458
    fi

label_2342:
    integer(value 0) = byte 0
    integer(value 2) = byte 1

label_2356:
    ('SETNAME', ('character', [('integer', [('value', 0)]), ('byte', 0)]))
    print('#2. $Y\n')
    integer(value 0) = plus(integer(value 0), byte 1)
    integer(value 2) = plus(integer(value 2), byte 1)

    if lessOrEquals(integer(value 0), integer(value 23)):
        jump label_2356
    fi

    print('"Which of you?" ')
    ('INPUTNUM', 3)

    if equals(integer(value 3), byte 0):
        jump label_2741
    fi

    integer(value 3) = minus(integer(value 3), byte 1)

    if greater(integer(value 3), integer(value 23)):
        jump label_2342
    fi

label_2458:
    ('SETNAME', ('character', [('integer', [('value', 3)]), ('byte', 0)]))
    integer(value 1) = data(dword 3878, integer(value 4))
    print('"That\'s #1 gold, okay?" ')

    choice('yn')

    case 'y':
        jump label_2529

    case 'n':
        integer(value 5) = byte 0
        jump label_2741
    esac

label_2529:
    if less(objectsCount(character(integer(value 3), byte 0), byte 88), integer(value 1)):
        print('"You can\'t afford it, sweetie."')
        wait()

        print('\n\n')
        jump label_281
    fi

    if less(plus(canCarry(character(integer(value 3), byte 0)), weight(byte 88, integer(value 1))), weight(data(dword 3884, integer(value 4)), byte 1)):
        print('"You don\'t have room to carry it."')
        integer(value 5) = byte 0
        jump label_2741
    fi

    ('DELETE', ('character', [('integer', [('value', 3)]), ('byte', 0)]), ('byte', 88), ('byte', 0), ('integer', [('value', 1)]))
    ('NEW', ('character', [('integer', [('value', 3)]), ('byte', 0)]), ('data', [('dword', 3884), ('integer', [('value', 4)])]), ('byte', 0), ('byte', 1))
    integer(value 5) = byte 1
    string(value 1) = data(dword 3890, integer(value 4))
    print('$N gives $Y some $1.')
    wait()

    print('\n\n')
    jump label_2741

label_2741:
    if integer(value 5):
        print('"That ought to hold you."')
        wait()
    fi

    print('\n\n')
    jump label_281

label_2779:
    if equals(integer(value 23), byte 0):
        integer(value 3) = byte 0
        jump label_2915
    fi

label_2799:
    integer(value 0) = byte 0
    integer(value 2) = byte 1

label_2813:
    ('SETNAME', ('character', [('integer', [('value', 0)]), ('byte', 0)]))
    print('#2. $Y\n')
    integer(value 0) = plus(integer(value 0), byte 1)
    integer(value 2) = plus(integer(value 2), byte 1)

    if lessOrEquals(integer(value 0), integer(value 23)):
        jump label_2813
    fi

    print('"Which of you?" ')
    ('INPUTNUM', 3)

    if equals(integer(value 3), byte 0):
        jump label_281
    fi

    integer(value 3) = minus(integer(value 3), byte 1)

    if greater(integer(value 3), integer(value 23)):
        jump label_2799
    fi

label_2915:
    ('SETNAME', ('character', [('integer', [('value', 3)]), ('byte', 0)]))
    print('"That\'ll be 6 gold, okay?" ')

    choice('yn')

    case 'y':
        if less(objectsCount(character(integer(value 3), byte 0), byte 88), byte 6):
            print('"You can\'t afford it, sweetie."')
            wait()

            print('\n\n')
            jump label_281
        fi

        if less(plus(canCarry(character(integer(value 3), byte 0)), weight(byte 88, byte 6)), weight(byte 210, byte 1)):
            print('"You don\'t have room to carry it."')
            integer(value 5) = byte 0
            wait()

            print('\n\n')
            jump label_281
        fi

        ('DELETE', ('character', [('integer', [('value', 3)]), ('byte', 0)]), ('byte', 88), ('byte', 0), ('byte', 6))
        ('NEW', ('character', [('integer', [('value', 3)]), ('byte', 0)]), ('byte', 210), ('byte', 0), ('byte', 1))
        print('$N gives $Y some ribs.')
        wait()

        print('\n\n')
        jump label_281

    case 'n':
        jump label_281
    esac

label_3149:
    if equals(integer(value 23), byte 0):
        integer(value 3) = byte 0
        jump label_3285
    fi

label_3169:
    integer(value 0) = byte 0
    integer(value 2) = byte 1

label_3183:
    ('SETNAME', ('character', [('integer', [('value', 0)]), ('byte', 0)]))
    print('#2. $Y\n')
    integer(value 0) = plus(integer(value 0), byte 1)
    integer(value 2) = plus(integer(value 2), byte 1)

    if lessOrEquals(integer(value 0), integer(value 23)):
        jump label_3183
    fi

    print('"Which of you?" ')
    ('INPUTNUM', 3)

    if equals(integer(value 3), byte 0):
        jump label_281
    fi

    integer(value 3) = minus(integer(value 3), byte 1)

    if greater(integer(value 3), integer(value 23)):
        jump label_3169
    fi

label_3285:
    ('SETNAME', ('character', [('integer', [('value', 3)]), ('byte', 0)]))

    if or(less(canCarry(character(integer(value 3), byte 0)), weight(byte 129, byte 1)), less(objectsCount(character(integer(value 3), byte 0), byte 88), byte 4)):
        integer(value 9) = byte 1
        jump label_3429
    fi

    print('"Rations are 4 gold apiece. How many do you want?" ')
    ('INPUT', 9)

    if greater(integer(value 9), word 200):
        integer(value 9) = word 200
    fi

    integer(value 8) = integer(value 9)

    if equals(integer(value 9), byte 0):
        jump label_281
    fi

    integer(value 0) = byte 0

label_3429:
    integer(value 6) = byte 0
    integer(value 7) = byte 0

    if less(canCarry(character(integer(value 3), byte 0)), weight(byte 129, integer(value 9))):
        integer(value 6) = byte 1
        integer(value 0) = byte 1
        integer(value 9) = minus(integer(value 9), byte 1)
        jump label_3531
    fi

    if less(objectsCount(character(integer(value 3), byte 0), byte 88), multiply(integer(value 9), byte 4)):
        integer(value 7) = byte 1
        integer(value 9) = minus(integer(value 9), byte 1)
        jump label_3531
    fi

    jump label_3664

label_3531:
    if integer(value 9):
        jump label_3429
    fi

    if integer(value 6):
        ('SETNAME', ('character', [('integer', [('value', 3)]), ('byte', 0)]))
        print('$N looks at $Y. "You haven\'t any room in your pack."')
        wait()

        print('\n\n')
        jump label_281
    fi

    if integer(value 7):
        ('SETNAME', ('character', [('integer', [('value', 3)]), ('byte', 0)]))
        print('"You can\'t afford it, sweetie."')
        wait()

        print('\n\n')
        jump label_281
    fi

label_3664:
    ('DELETE', ('character', [('integer', [('value', 3)]), ('byte', 0)]), ('byte', 88), ('byte', 0), ('multiply', [('integer', [('value', 9)]), ('byte', 4)]))
    ('NEW', ('character', [('integer', [('value', 3)]), ('byte', 0)]), ('byte', 129), ('byte', 0), ('integer', [('value', 9)]))
    ('SETNAME', ('character', [('integer', [('value', 3)]), ('byte', 0)]))

    if equals(integer(value 8), integer(value 9)):
        ('SETNAME', ('character', [('integer', [('value', 3)]), ('byte', 0)]))
        print('$N hands the rations to $Y.')
        wait()

        print('\n\n')
        jump label_281
    fi

    print('She hands $Y #9 ration\\s of mutton.')
    wait()

    print('\n\n')
    ('SETNAME', ('character', [('integer', [('value', 3)]), ('byte', 0)]))

    if integer(value 0):
        print('"That\'s all you can carry."')
        wait()

        print('\n\n')
        jump label_281

    else:
        print('"That\'s all you can afford."')
        wait()

        print('\n\n')
        jump label_281
    fi

integers_3878 = [
    4, // 0
    3, // 1
    6, // 2
]

integers_3884 = [
    116, // 0
    117, // 1
    115, // 2
]

strings_3890 = [
    'Mead', // 0
    'Ale',  // 1
    'Wine', // 2
]
