source('CONVERSE.A')
index(56)

id(56)
name({
    'english': 'Andrea',
    'russian': 'Андреа'
})

description:
    print({
        'english': 'an enormous woman, both in size and personality.',
        'russian': 'Могучая женщина, не только телом, но и характером.'
    })
    wait()

    print({
        'english': '\n',
        'russian': '\n'
    })

interaction:
    integer(value 5) = byte 0
    print({
        'english': '"Hello',
        'russian': '"Приветствую'
    })

    if hasBit(byte 235, value 0):
        print({
            'english': ' again, ',
            'russian': '! Это снова вы, '
        })

    else:
        print({
            'english': ', ',
            'russian': ', '
        })
    fi

    if equals(integer(value 23), byte 0):
        jump label_127
    fi

    if integer(value 16):
        print({
            'english': 'dears',
            'russian': 'мои дорогие'
        })

    else:
        print({
            'english': 'fellahs',
            'russian': 'ребята'
        })
    fi

    jump label_148

label_127:
    if integer(value 16):
        print({
            'english': 'my dear',
            'russian': 'дорогуша'
        })

    else:
        print({
            'english': 'handsome',
            'russian': 'красавчик'
        })
    fi

label_148:
    print({
        'english': '!" she screams as she strides over to you with beer mugs in her hands.',
        'russian': '!" - гремит она и подходит к вам с кружками пива в руках.'
    })
    wait()

    print({
        'english': '\n\n"Welcome to the Slaughtered Lamb. What can I get you?"\n',
        'russian': '\n\n"Добро пожаловать в Заколотого Ягнёнка. Чем могу помочь?"\n'
    })
    jump label_303

label_281:
    print({
        'english': '"What can I get you?"\n',
        'russian': '"Чем могу помочь?"\n'
    })

label_303:
    ask()

    case 'name':
    case {'russian': 'имя'}:
        print({
            'english': '"@Andrea! And yours, my fine friend?"\n',
            'russian': '"@Андреа! А как вас зовут?"\n'
        })

        ask()

        if integer(value 16):
            print({
                'english': '\n"Pleased to meet you, dear."\n',
                'russian': '\n"Приятно познакомиться".\n'
            })

        else:
            print({
                'english': '\n"I\'m very pleased to meet you," she purrs.\n',
                'russian': '\n"Очень приятно," - мурлычет она.\n'
            })
        fi

        setBit(byte 235, value 0)
        jump label_303

    case 'andr':
    case {'russian': 'андр'}:
        print({
            'english': '"Yes. Them\'s who I beat at arm @wrestling call me Miss Barlap, though.',
            'russian': '"Да. Те, кого я победила в @армрестлинг, называют меня Мисс Рычаг.'
        })
        print({
            'english': ' Out of respect." She laughs.\n',
            'russian': ' Из уважения". - Сказав это, она смеётся.\n'
        })
        jump label_303

    case 'arm':
    case {'russian': 'арм'}:
    case 'wres':
    case {'russian': 'рест'}:
        if hasBit(byte 235, byte 2):
            print({
                'english': '"Alright, alright, I admit it - ya won fair an\' square."',
                'russian': '"Хорошо, хорошо, я признаю - победа за тобой, без сомнений".'
            })
            wait()

            print({
                'english': '\n\n"No need to gloat about it..."\n',
                'russian': '\n\n"Гордиться тут нечем..."\n'
            })
            jump label_303
        fi

        if hasBit(byte 235, byte 3):
            print({
                'english': '"Now don\'t feel bad, sugar, lots of folks lose to Andrea!" She laughs ',
                'russian': '"Не печалься, золотце, многие ребята не смогли совладать с Андреа!" - добродушно смеётся '
            })
            print({
                'english': 'heartily.\n',
                'russian': 'она.\n'
            })
            jump label_303
        fi

        print({
            'english': 'She looks you up and down and then feels your arm. "Care for a match?"',
            'russian': 'Она смеряет вас взглядом и щупает за руку. "Поборемся на руках?"'
        })
        print({
            'english': ' ',
            'russian': ' '
        })
        jump label_2083

    case 'job':
    case {'russian': 'раб'}:
        print({
            'english': '"Honey, I\'ve had many jobs in my time. But runnin\' this pub is the ',
            'russian': '"Я сменила множество работ за свою жизнь, золотце. Но эта таверна - '
        })
        print({
            'english': 'best, \'cause I get to meet the strongest @men."\n',
            'russian': 'лучшее, что у меня было, потому что сюда заходят сильнейшие @мужчины".\n'
        })
        wait()

        print({
            'english': '\n\n"I sell @ribs, @ale, @mead, @wine, and @rations."\n',
            'russian': '\n\n"Я продаю @рёбрышки, @эль, @медовуху, @вино и @пайки".\n'
        })
        jump label_303

    case 'buy':
    case {'russian': 'куп'}:
        print({
            'english': '"Which, @ribs, @ale, @mead, @wine, or @rations?"\n',
            'russian': '"Что именно? @Рёбрышки, @эль, @медовуху, @вино или @пайки?"\n'
        })
        jump label_303

    case 'ribs':
    case {'russian': 'рёбр'}:
        jump label_2779

    case 'mead':
    case {'russian': 'мед'}:
        integer(value 4) = byte 0
        jump label_2322

    case 'ale':
    case {'russian': 'эль'}:
        integer(value 4) = byte 1
        jump label_2322

    case 'wine':
    case {'russian': 'вино'}:
        integer(value 4) = byte 2
        jump label_2322

    case 'rati':
    case {'russian': 'пайк'}:
        jump label_3149

    case 'stro':
    case {'russian': 'силь'}:
    case 'men':
    case {'russian': 'мужч'}:
        print({
            'english': '"Look around. Here you\'ll find the men whose lives have lead them to ',
            'russian': '"Осмотритесь. Здесь можно увидеть мужчин, чей жизненный путь приводил их '
        })
        print({
            'english': 'many dangerous places."',
            'russian': 'в опасные места".'
        })
        wait()

        print({
            'english': '\n\nSomeone in a dark corner shouts "Like this pub!" and all the patrons',
            'russian': '\n\nКто-то из тёмного угла кричит: "Как эта таверна!". Отовсюду раздаётся'
        })
        print({
            'english': ' laugh.\n',
            'russian': ' смех.\n'
        })
        jump label_303

    case 'Lena':
    case {'russian': 'Лена'}:
        print({
            'english': '"A little girlie-man. But he does make some fine clothes."\n',
            'russian': '"Немного женственный малый. Но одежду он шьёт отменную".\n'
        })
        jump label_303

    case 'big':
    case {'russian': 'биг'}:
    case 'ben':
    case {'russian': 'бен'}:
        print({
            'english': '"Now there\'s a man." She looks into a beer mug and fixes her hair.',
            'russian': '"Ох, вот это мужчина", - она заглядывает внутрь пивной кружки и поправляет волосы.'
        })
        wait()

        print({
            'english': '\n\n"I wish he\'d come into town more often."\n',
            'russian': '\n\n"Вот бы он почаще заезжал в наш городок".\n'
        })
        jump label_303

    case 'chan':
    case {'russian': 'мэр'}:
        print({
            'english': '"That old witch? She may not have hit the bottle, but I believe a few ',
            'russian': '"Эта старая ведьма? Она хоть и не налягает на бутылку, но бутылкой  '
        })
        print({
            'english': 'have hit her."',
            'russian': 'ей точно прилетает".'
        })
        wait()

        print({
            'english': '\n\nThe patrons around you chuckle.\n',
            'russian': '\n\nЛюди вокруг вас хихикают.\n'
        })
        jump label_303

    case 'garg':
    case {'russian': 'гарг'}:
        print({
            'english': '"I\'ve never seen any creature that could scare me. I say if they want ',
            'russian': '"Да меня никакие монстры не напугают. Пускай приходят в мою таверну, '
        })
        print({
            'english': 'trouble, come in this pub!"',
            'russian': 'если хотят проблем!"'
        })
        wait()

        print({
            'english': '\n\nThe men around her let out a cheer and she turns, acknowledging them',
            'russian': '\n\nЛюди вокруг неё одобрительно гудят и она поворачивается, чтобы поклониться'
        })
        print({
            'english': ' with a bow.\n',
            'russian': ' им.\n'
        })
        jump label_303

    case 'lord':
    case {'russian': 'лорд'}:
    case 'brit':
    case {'russian': 'брит'}:
        print({
            'english': '"He\'s never been in here. Can\'t imagine why--it seems like his kind of',
            'russian': '"Он никогда здесь не бывал. Странно, ведь кажется, что заведение'
        })
        print({
            'english': ' establishment."\n',
            'russian': ' в его стиле".\n'
        })
        jump label_303

    case 'bye':
    case {'russian': 'пока'}:
        print({
            'english': '"So long. Come back when you\'re thirsty."\n*\n"And if you see that cutie',
            'russian': '"Всего хорошего. Возвращайтесь, когда захочется выпить".\n*\n"А если вам встретится милашка'
        })
        print({
            'english': ' Utomo, tell him Andrea says hi."\n',
            'russian': ' Утомо, то передавайте ему привет".\n'
        })
        bye()

    case '*':
        print({
            'english': '"Ask around."\n',
            'russian': '"Поспрашивайте у людей вокруг".\n'
        })
    esac

    jump label_303

label_2083:
    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'y':
    case {'russian': 'д'}:
        print({
            'english': '"Yer on!" She grabs your arm and the contest begins!\n\n"Arrghh!!!"',
            'russian': '"Поехали!" - она хватает вас за руку, и состязание начинается!\n\n"Аргх!!!"'
        })
        wait()

        print({
            'english': '\n\n"Nnghhh!!!"',
            'russian': '\n\n"Р-р-р!!!"'
        })
        wait()

        print({
            'english': '\n\n"Unghhh!!!"',
            'russian': '\n\n"Гр-р-р!!!"'
        })
        wait()

        print({
            'english': '\n\nAnd the winner is...',
            'russian': '\n\nИ победитель...'
        })
        integer(value 0) = strength(character(byte 0, byte 0), byte 0)

        if greater(integer(value 0), byte 20):
            look(character(byte 0, byte 0))
            setBit(byte 235, byte 2)
            string(value 0) = string(value 34)

        else:
            setBit(byte 235, byte 3)
            string(value 0) = string(value 23)
        fi

        print({
            'english': '$0!!!\n',
            'russian': '$0!!!\n'
        })
        jump label_303

    case 'n':
    case {'russian': 'н'}:
        print({
            'english': '"Well, maybe some other time, sugar..."\n',
            'russian': '"Хорошо, тогда в другой раз, золотце..."\n'
        })
        jump label_303
    esac

label_2322:
    if equals(integer(value 23), byte 0):
        integer(value 3) = byte 0
        jump label_2458
    fi

label_2342:
    integer(value 0) = byte 0
    integer(value 2) = byte 1

label_2356:
    look(character(integer(value 0), byte 0))
    print({
        'english': '#2. $Y\n',
        'russian': '#2. $Y\n'
    })
    integer(value 0) = plus(integer(value 0), byte 1)
    integer(value 2) = plus(integer(value 2), byte 1)

    if lessOrEquals(integer(value 0), integer(value 23)):
        jump label_2356
    fi

    print({
        'english': '"Which of you?" ',
        'russian': '"Кто из вас?" '
    })
    inputDigit(integer(value 3))

    if equals(integer(value 3), byte 0):
        jump label_2741
    fi

    integer(value 3) = minus(integer(value 3), byte 1)

    if greater(integer(value 3), integer(value 23)):
        jump label_2342
    fi

label_2458:
    look(character(integer(value 3), byte 0))
    integer(value 1) = data(integers_3878, integer(value 4))
    print({
        'english': '"That\'s #1 gold, okay?" ',
        'russian': '"С вас #1 золотых!" '
    })

    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'y':
    case {'russian': 'д'}:
        jump label_2529

    case 'n':
    case {'russian': 'н'}:
        integer(value 5) = byte 0
        jump label_2741
    esac

label_2529:
    if less(objectsCount(character(integer(value 3), byte 0), byte 88), integer(value 1)):
        print({
            'english': '"You can\'t afford it, sweetie."',
            'russian': '"Золотце, вам это не по карману".'
        })
        wait()

        print({
            'english': '\n\n',
            'russian': '\n\n'
        })
        jump label_281
    fi

    if less(plus(canCarry(character(integer(value 3), byte 0)), weight(byte 88, integer(value 1))), weight(data(integers_3884, integer(value 4)), byte 1)):
        print({
            'english': '"You don\'t have room to carry it."',
            'russian': '"В вашем мешке недостаточно места".'
        })
        integer(value 5) = byte 0
        jump label_2741
    fi

    destroyItem(character(integer(value 3), byte 0), byte 88, byte 0, integer(value 1))
    createItem(character(integer(value 3), byte 0), data(integers_3884, integer(value 4)), byte 0, byte 1)
    integer(value 5) = byte 1
    string(value 1) = data(strings_3890, integer(value 4))
    print({
        'english': '$N gives $Y some $1.',
        'russian': '$N даёт персонажу $Y: $1.'
    })
    wait()

    print({
        'english': '\n\n',
        'russian': '\n\n'
    })
    jump label_2741

label_2741:
    if integer(value 5):
        print({
            'english': '"That ought to hold you."',
            'russian': '"Этого должно хватить".'
        })
        wait()
    fi

    print({
        'english': '\n\n',
        'russian': '\n\n'
    })
    jump label_281

label_2779:
    if equals(integer(value 23), byte 0):
        integer(value 3) = byte 0
        jump label_2915
    fi

label_2799:
    integer(value 0) = byte 0
    integer(value 2) = byte 1

label_2813:
    look(character(integer(value 0), byte 0))
    print({
        'english': '#2. $Y\n',
        'russian': '#2. $Y\n'
    })
    integer(value 0) = plus(integer(value 0), byte 1)
    integer(value 2) = plus(integer(value 2), byte 1)

    if lessOrEquals(integer(value 0), integer(value 23)):
        jump label_2813
    fi

    print({
        'english': '"Which of you?" ',
        'russian': '"Кто из вас?" '
    })
    inputDigit(integer(value 3))

    if equals(integer(value 3), byte 0):
        jump label_281
    fi

    integer(value 3) = minus(integer(value 3), byte 1)

    if greater(integer(value 3), integer(value 23)):
        jump label_2799
    fi

label_2915:
    look(character(integer(value 3), byte 0))
    print({
        'english': '"That\'ll be 6 gold, okay?" ',
        'russian': '"С вас 6 золотых!" '
    })

    choice({
        'english': 'yn',
        'russian': 'дн'
    })

    case 'y':
    case {'russian': 'д'}:
        if less(objectsCount(character(integer(value 3), byte 0), byte 88), byte 6):
            print({
                'english': '"You can\'t afford it, sweetie."',
                'russian': '"Золотце, вам это не по карману".'
            })
            wait()

            print({
                'english': '\n\n',
                'russian': '\n\n'
            })
            jump label_281
        fi

        if less(plus(canCarry(character(integer(value 3), byte 0)), weight(byte 88, byte 6)), weight(byte 210, byte 1)):
            print({
                'english': '"You don\'t have room to carry it."',
                'russian': '"В вашем мешке недостаточно места".'
            })
            integer(value 5) = byte 0
            wait()

            print({
                'english': '\n\n',
                'russian': '\n\n'
            })
            jump label_281
        fi

        destroyItem(character(integer(value 3), byte 0), byte 88, byte 0, byte 6)
        createItem(character(integer(value 3), byte 0), byte 210, byte 0, byte 1)
        print({
            'english': '$N gives $Y some ribs.',
            'russian': '$N даёт персонажу $Y: рёбрышки.'
        })
        wait()

        print({
            'english': '\n\n',
            'russian': '\n\n'
        })
        jump label_281

    case 'n':
    case {'russian': 'н'}:
        jump label_281
    esac

label_3149:
    if equals(integer(value 23), byte 0):
        integer(value 3) = byte 0
        jump label_3285
    fi

label_3169:
    integer(value 0) = byte 0
    integer(value 2) = byte 1

label_3183:
    look(character(integer(value 0), byte 0))
    print({
        'english': '#2. $Y\n',
        'russian': '#2. $Y\n'
    })
    integer(value 0) = plus(integer(value 0), byte 1)
    integer(value 2) = plus(integer(value 2), byte 1)

    if lessOrEquals(integer(value 0), integer(value 23)):
        jump label_3183
    fi

    print({
        'english': '"Which of you?" ',
        'russian': '"Кто из вас?" '
    })
    inputDigit(integer(value 3))

    if equals(integer(value 3), byte 0):
        jump label_281
    fi

    integer(value 3) = minus(integer(value 3), byte 1)

    if greater(integer(value 3), integer(value 23)):
        jump label_3169
    fi

label_3285:
    look(character(integer(value 3), byte 0))

    if or(less(canCarry(character(integer(value 3), byte 0)), weight(byte 129, byte 1)), less(objectsCount(character(integer(value 3), byte 0), byte 88), byte 4)):
        integer(value 9) = byte 1
        jump label_3429
    fi

    print({
        'english': '"Rations are 4 gold apiece. How many do you want?" ',
        'russian': '"4 золотых за паёк. Сколько штук вы хотите?" '
    })
    inputInteger(integer(value 9))

    if greater(integer(value 9), word 200):
        integer(value 9) = word 200
    fi

    integer(value 8) = integer(value 9)

    if equals(integer(value 9), byte 0):
        jump label_281
    fi

    integer(value 0) = byte 0

label_3429:
    integer(value 6) = byte 0
    integer(value 7) = byte 0

    if less(canCarry(character(integer(value 3), byte 0)), weight(byte 129, integer(value 9))):
        integer(value 6) = byte 1
        integer(value 0) = byte 1
        integer(value 9) = minus(integer(value 9), byte 1)
        jump label_3531
    fi

    if less(objectsCount(character(integer(value 3), byte 0), byte 88), multiply(integer(value 9), byte 4)):
        integer(value 7) = byte 1
        integer(value 9) = minus(integer(value 9), byte 1)
        jump label_3531
    fi

    jump label_3664

label_3531:
    if integer(value 9):
        jump label_3429
    fi

    if integer(value 6):
        look(character(integer(value 3), byte 0))
        print({
            'english': '$N looks at $Y. "You haven\'t any room in your pack."',
            'russian': '$N смотрит на: $Y. "В вашем мешке нет места!"'
        })
        wait()

        print({
            'english': '\n\n',
            'russian': '\n\n'
        })
        jump label_281
    fi

    if integer(value 7):
        look(character(integer(value 3), byte 0))
        print({
            'english': '"You can\'t afford it, sweetie."',
            'russian': '"Золотце, вам это не по карману".'
        })
        wait()

        print({
            'english': '\n\n',
            'russian': '\n\n'
        })
        jump label_281
    fi

label_3664:
    destroyItem(character(integer(value 3), byte 0), byte 88, byte 0, multiply(integer(value 9), byte 4))
    createItem(character(integer(value 3), byte 0), byte 129, byte 0, integer(value 9))
    look(character(integer(value 3), byte 0))

    if equals(integer(value 8), integer(value 9)):
        look(character(integer(value 3), byte 0))
        print({
            'english': '$N hands the rations to $Y.',
            'russian': '$N протягивает пайки персонажу $Y.'
        })
        wait()

        print({
            'english': '\n\n',
            'russian': '\n\n'
        })
        jump label_281
    fi

    print({
        'english': 'She hands $Y #9 ration\\s of mutton.',
        'russian': 'Она протягивает персонажу $Y #9 па/ёк\\йков из баранины.'
    })
    wait()

    print({
        'english': '\n\n',
        'russian': '\n\n'
    })
    look(character(integer(value 3), byte 0))

    if integer(value 0):
        print({
            'english': '"That\'s all you can carry."',
            'russian': '"Больше вы не сможете унести".'
        })
        wait()

        print({
            'english': '\n\n',
            'russian': '\n\n'
        })
        jump label_281

    else:
        print({
            'english': '"That\'s all you can afford."',
            'russian': '"Это всё, что вы можете себе позволить".'
        })
        wait()

        print({
            'english': '\n\n',
            'russian': '\n\n'
        })
        jump label_281
    fi

integers_3878 = [
    4, // 0
    3, // 1
    6, // 2
]

integers_3884 = [
    116, // 0
    117, // 1
    115, // 2
]

strings_3890 = [
    {
        'english': 'Mead',
        'russian': 'Медовуха'
    }, // 0
    {
        'english': 'Ale',
        'russian': 'Эль'
    }, // 1
    {
        'english': 'Wine',
        'russian': 'Вино'
    }, // 2
]
