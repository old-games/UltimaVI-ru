source("CONVERSE.B")
index(8)

id(107)
name("Hendle")

f3()

description:
    print("a man whose pungent smell greets you before he can.")
    wait()
    print("\n")

interaction:
    print("\"Well, hello there, ")
    if hasBit(byte 235, value 0):
    print("friend")
    else:
    print("stranger")
    endif
    if integer(value 23):
    print("s")
    endif
    print("!\"")
    if notEquals(integer(value 32), byte 144):
    ('SETF', ('byte', 235), ('value', 0))
    print("\n")
    jump 181
    endif
    wait()
    print("\n\n\"")
    if hasBit(byte 235, value 0):
    print("Back for more")
    else:
    print("Come for some")
    endif
    print(" @meat?\"\n")
    ask()
    case "name":
    print("\"@Hendle the Slaughterman.\"\n")
    jump 181
    case "hend,slau":
    print("\"Yep.\"\n")
    jump 181
    case "job":
    if equals(integer(value 32), byte 144):
    print("\"As ya can see, I slaughter the beef and pork which you can then buy.\"\n")
    else:
    print("\"I slaughter beef and pork.\"")
    wait()
    print("\n\n\"Makes me a bit unpopular 'ere in the pub!\" he laughs.\n")
    endif
    jump 181
    case "buy,meat":
    if equals(integer(value 32), byte 144):
    jump 775
    endif
    print("\"Strewth! If I carried it around with me, I'd be even more unpopular!\"")
    wait()
    print("\n\nHe laughs, then continues, \"Nay, friend, come to my shop later.\"")
    wait()
    print("\n\n\"I'll fix ya up then.\"\n")
    jump 181
    case "bye":
    print("\"Be careful out there.\"\n")
    bye()
    case "*":
    if equals(integer(value 32), byte 144):
    print("He stops chopping and scratches his chin. \"Say what?\"\n")
    else:
    print("He takes a swig from his mug and asks, \"What d'ya mean?\"\n")
    endif
    jump 181

775:
    if equals(integer(value 23), byte 0):
    integer(value 3) = character(byte 0, byte 0)
    jump 936
    endif
    integer(value 0) = byte 0
    integer(value 2) = byte 1
    ('SETNAME', ('character', [('integer', [('value', 0)]), ('byte', 0)]))
    print("#2. $Y\n")
    integer(value 0) = plus(integer(value 0), byte 1)
    integer(value 2) = plus(integer(value 2), byte 1)
    if lessOrEquals(integer(value 0), integer(value 23)):
    jump 812
    endif
    print("\"Which of you?\" ")
    ('INPUTNUM', 3)
    if equals(integer(value 3), byte 0):
    print("\"Whatever.\"\n")
    jump 181
    endif
    integer(value 3) = minus(integer(value 3), byte 1)
    if greater(integer(value 3), integer(value 23)):
    jump 798
    endif
    integer(value 3) = character(integer(value 3), byte 0)
    integer(value 0) = byte 1
    print("1. Ham\n2. Bacon\n3. Pork Chops\n4. Brisket\n5. Steak\n6. Ribs\n\"Which item?\" ")
    ('INPUTNUM', 0)
    if equals(integer(value 0), byte 0):
    print("\"Whatever.\"\n")
    jump 181
    endif
    if greater(integer(value 0), byte 6):
    jump 936
    endif
    integer(value 0) = minus(integer(value 0), byte 1)
    ('SETNAME', ('integer', [('value', 3)]))
    if equals(integer(value 0), byte 0):
    integer(value 9) = word 133
    endif
    if equals(integer(value 0), byte 1):
    integer(value 9) = word 133
    endif
    if equals(integer(value 0), byte 2):
    integer(value 9) = word 129
    endif
    if equals(integer(value 0), byte 3):
    integer(value 9) = word 209
    endif
    if equals(integer(value 0), byte 4):
    integer(value 9) = word 209
    endif
    if equals(integer(value 0), byte 5):
    integer(value 9) = word 210
    endif
    integer(value 1) = data(dword 1472, integer(value 0))
    print("Hendle smiles at $Y, \"That will cost you #1 gold. Interested?\" ")
    askc("yn")
    case "n":
    print("\"Whatever.\"\n")
    jump 181
    case "y":
    if less(plus(canCarry(integer(value 3)), weight(byte 88, integer(value 1))), weight(integer(value 9), byte 1)):
    print("\"You look pretty full to me, $Y.\"\n")
    jump 181
    endif
    if greaterOrEquals(objectsCount(integer(value 3), byte 88), integer(value 1)):
    ('DELETE', ('integer', [('value', 3)]), ('byte', 88), ('byte', 0), ('integer', [('value', 1)]))
    ('NEW', ('integer', [('value', 3)]), ('integer', [('value', 9)]), ('byte', 0), ('byte', 1))
    print("\"Excellent!\" After accepting $Y's gold, $N hands over the food.\n")
    jump 181
    else:
    print("\"You don't have enough gold, $Y.\"\n")
    jump 181
    endif

1472:
    ['INTEGERS', [3, 4, 3, 6, 8, 9]]
